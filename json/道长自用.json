[{"last_chapter_rule":"","pageList":[],"title":"饭团影视.dr","author":"道长&墙佬","version":12,"type":"video","url":"hiker://empty##https://fantuan.tv/vodtype/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"影视模板，适用于阿房/饭团","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".myui-vodlist&&li;a&&title;a&&data-original;a&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?).html/)[2];\ntrue_url=获取正确链接();\nvar html=获取源码(true_url);\n//log(html);\nlet cates=打造动态分类([{\n  一级分类: 'body&&ul.myui-header__menu',\n        子分类: 'body&&li.hidden-sm:gt(0):lt(5)',\n},{\n        一级分类: 'body&&.myui-screen__list',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\nlog(page);\n设置(cates);\nvar 一级处理={\n    描述:function(input){\n        return input.split(\"分\").slice(-1)[0]\n    }\n};\n\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\"#searchList&&li;.thumb&&a&&title;.thumb&&a&&data-original;.detail&&p,1&&Text;.searchkey&&href;p.hidden-xs&&Text\";\n一级(parStr,true);","search_url":"https://fantuan.tv/vodsearch/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1.title&&Text;.data,1&&Text;#rating&&.branch&&Text',\n img:'.myui-content__thumb&&a&&img&&data-original',\n url:'.myui-content__thumb&&a&&href',\n desc:'.data,2&&Text;.data,3&&Text',\n content:'#desc&&span.data&&Text',\n tabs:'ul.nav-tabs&&li',\n lists:'.tab-content&&#id&&li',\n tab_id:'a&&href'\n};\nvar lazy = $(\"\").lazyRule(() => {\n    eval(pdfh(request(input), '.embed-responsive&&script&&Html'));\n    eval(getCryptoJS());\n    var url = decodeURIComponent(base64Decode(player_aaaa.url));\n    var html = request('https://ptwo.wkfile.com/m3u8.php?url=' + url, {\n        headers: {\n            'Referer': 'https://fantuan.tv/'\n        }\n    });\n    var bt_token = html.match(/bt_token = \"(.*?)\"/)[1]\n    var play = CryptoJS.AES.decrypt(html.match(/getVideoInfo\\(\"(.*?)\"/)[1], CryptoJS.enc.Utf8.parse('C04AD764B8CD4CE9'), {\n        'iv': CryptoJS.enc.Utf8.parse(bt_token)\n    }).toString(CryptoJS.enc.Utf8);\n    if (/mgtv/.test(play)) {\n        play += ';{User-Agent@Mozilla/5.0 (Windows NT 10.0)}';\n    } else {\n        play += ';{Referer@https://fantuan.tv}'\n    }\n    return play\n});\n//lazy=通免();\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/饭团影院.png"},{"last_chapter_rule":"","pageList":[],"title":"阿房影视.dr","author":"道长","version":18,"type":"video","url":"hiker://empty##https://bwl87.com/#fypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nvar page=MY_URL.split('/#')[1];\nMY_URL=MY_URL.split(\"##\")[1].split('#')[0];\nrequire(config.模板);\n依赖检测();\n初始分类页('.myui-header__menu&&li,1&&a&&href',(u)=>{\n    return u.replace(/\\/type\\/(.*?)\\//,'/show/$1--------1---');\n});\nlet parStr=\".myui-vodlist&&li;.lazyload&&title;.lazyload&&data-original;.lazyload&&Text;.lazyload&&href\";\n//var page=MY_PAGE;\ntrue_url=获取正确链接();\nvar html=获取源码(true_url);\n//log(getMyVar(\"cookie\"));\n//log(html)\n//var 关闭折叠=true;\nlet cates=打造动态分类([{\n  一级分类: 'body&&ul.myui-header__menu',\n        子分类: 'body&&li.hidden-sm:gt(0):lt(5)',\n},\n{\n        一级分类: 'body&&.myui-screen__list',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }\n    \n    ]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nlet key=MY_URL.split('##')[1];\nlet url='https://www.bwl87.com/index.php/ajax/suggest?mid=1&wd='+key+'&limit=100&timestamp='+new Date().getTime();\nlet html=request(url);\n//log(html);\n let d = JSON.parse(html).list;\n //log(d);\n d=d.map((it)=>{\n     return {\n         title:it.name,\n         //desc:it.id,\n         content:it.en,\n         img:/^http/.test(it.pic)?it.pic:'https://www.bwl87.com'+it.pic,\n         url:'hiker://empty##https://bwl87.com/detail/' + it.id + '/' + '#immersiveTheme#'\n     }\n     \n })\n setResult(d);","search_url":"hiker://empty##**","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\n//lazy=通免();\nlet parse={\n title:'h1.title&&Text;.data,1&&Text;#rating&&.branch&&Text',\n img:'.myui-content__thumb&&a&&img&&data-original',\n url:'.myui-content__thumb&&a&&href',\n desc:'.data,2&&Text;.data,3&&Text',\n content:'#desc&&span.data&&Text',\n tabs:'ul.nav-tabs&&li',\n lists:'.tab-content&&#id&&li',\n tab_id:'a&&href'\n};\nvar lazy=$('').lazyRule((获取源码,是否视频,加载魔断)=>{\n    eval(pdfh(request(input,{}),'.embed-responsive&&script&&Html'));\n    var url=player_aaaa.url;\n    var fr=player_aaaa.from;\n    let 插件=加载魔断();\n    if(fr === 'xfyun'){\n        return 插件.XF(url);\n    }else if(fr==='xin'){\n        return 插件.xin(url);\n    }else{\n        return url\n    }\n},获取源码,是否视频,加载魔断);\nlazy=通免();\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/饭团影院.png"},{"last_chapter_rule":"","pageList":[],"title":"极品D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##https://www.jpysvip.net/vodtype/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".myui-vodlist&&li;a&&title;.lazyload&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/-(.*?).html/)[1];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.nav-list',\n    子分类: 'body&&li:gt(2):lt(7)',\n},{\n    一级分类: 'body&&.myui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split(\"##\")[1];\n//log(MY_URL);\nrequire(config.模板);\nlog('cookie:'+getMyVar('cookie'));\nvar html=获取源码(MY_URL);\nif(/输入验证码/.test(html)){\n    showLoading(\"验证码识别中，请稍等\");\n    let vcode=获取验证码('https://www.jpysvip.net/index.php/verify/index.html?');;\n    log('获取验证码:'+vcode);\n    let ret=提交验证码('https://www.jpysvip.net/index.php/ajax/verify_check?type=search&verify='+vcode);\n    hideLoading();\n    if(/\"msg\"/.test(ret)&&/\"ok\"/.test(ret)){\n       // refreshPage(true);\n        html=获取源码(MY_URL);\n        //log(html);\n        if(/搜索时间间隔/.test(html)){\n            setResult([{\n                title:'搜索验证已自动跳过，等待3秒后下拉刷新',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n        }\n    }else{\n        log('验证未通过:'+ret);\n        setResult([{\n                title:'验证未通过，请尝试重新搜索',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n    }\n}\nparStr=\".myui-vodlist__media#searchList&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href;p,3&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.jpysvip.net/vodsearch/-------------.html?wd=**&submit=","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p.data,1&&Text;p.data,2&&Text;p.data,3&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'span.sketch.content&&Text',\n tabs:'.nav-tabs&&li',\n lists:'.tab-content&&#id&&ul&&li',\n tab_id:'a&&href',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var 验证码='https://www.jpysvip.net/verify/index.html?';\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/74.png"},{"last_chapter_rule":"js:\nvar ym=MY_URL.includes('iqiyi.')?request(MY_URL,{}):fetch(MY_URL, {headers:{\"User-Agent\":PC_UA}});\ntry{\nif(MY_URL.includes('bilibili')){\nvar des=JSON.parse(ym.split('newestEp\":')[1].split('}')[0]+'}').desc;\ntry{\nvar ep=JSON.parse(ym.split('\"epList\":')[1].split('}]')[0]+'}]'); \n}catch(e){ep=[];}\nif(ep.length==0)gxz=0;\nelse{\nfor(var i=ep.length-1;ep[i].badge=='预告';i--);\nvar gxz=ep[i].title;}}\n}catch(e){gxz=\"更新内容获取失败！\";}\n\n\ntry{\nif(MY_URL.includes('iqiyi')){\n/*\ntry{var v=JSON.parse(ym.split('videoInfo\":')[1].split('}')[0]+'}');}catch(e){var v={};v.aid=ym.split('albumId\":')[1].split(',')[0];}vi=JSON.parse(request('https://pub.m.iqiyi.com/h5/main/videoList/album/?albumId='+v.aid+'&size=1500&page=1&needPrevue=false&needVipPrevue=false',{})).data;if(vi!=''){v=vi.videos;gxz=v.pop().pd}else{i=v;if(i&&(!i.vt||!i.vt.includes('预告')))gxz=i.order;}\n*/\n\nvar gxz=ym.match(/episodeLast\".*?(\\d+)/)[1];\n}\n}catch(e){gxz='最新状态获取失败！';}\ntry{\nif(MY_URL.includes('qq')){\nvar htm=JSON.parse(ym.split('COVER_INFO = ')[1].split('var ')[0]);\nvar h='';\nvar gxz='第'+htm.nomal_ids.filter(a=>{if(h==7&&a.F==2)h=1;else h=a.F;if(h==2||h==7)return a;}).length+'话';\n\n}}catch(e){gxz=\"更新内容获取失败！\";}\nsetResult('更新至：'+gxz);","pageList":[{"col_type":"movie_3","name":"测试","path":"ceshi.html","rule":"js:\n\r\nvar res = {};\r\nvar d = [];\nvar d1 = [];\nvar d2 = [];\nvar d3 = [];\nvar d4 = [];\nvar d5 = [];\nfunction sel(a){\n   try{\n      a=a.match(/[\\w]*?\\.com/g)[0];\n     }catch(e){return 'oth';}\n            switch (a) {\n                case \"qq.com\":\n                    str = 'tx';\n                    break;\n                case \"iqiyi.com\":\n                    str = 'qy';\n                    break;\n                case \"youku.com\":\n                    str = 'yk';\n                    break;\n                case \"mgtv.com\":\n                    str = 'mg';\n                    break;\n                case \"bilibili.com\":\n                    str = 'bl';\n                    break;\n                default:\n                    str = 'oth';\n                    break;\n            }\nreturn str;\n}\n\nvar path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';\nvar fi=fetch(path,{});\ntry{\neval('jx='+fi);\neval('a='+fi);\n\nsaveFile('save.txt',fi);\n\nfor(let x of Object.keys(jx.settings)){\nvar b=jx.settings[x].split(',');\nfor(i=0;i<b.length;i++){\nfor(j=i+1;j<b.length;j++){\nif(b[i]==b[j]){\nb.splice(j,1);\n}\n}\n}\njx.settings[x]=b.filter(a=>{return a!='';}).join(',');\n}\n\njx.settings.cj='hiker://files/cache/Parse_Dn.js';\njx.title=jx.title.filter(a=>{\nif(jx.codes[a]){jx.codes[a]=a+'解析';\nreturn a;}\nelse{delete jx.codes[a];}});\nvar fi=JSON.stringify(jx);\nfor(j of jx.title){fi=fi.replace('\"'+j+'解析\"',((typeof a.codes[j])!='function'?('\"'+a.codes[j].toString().trim()+'\"'):a.codes[j].toString().trim()));}writeFile(path,fi);\n\ninput=getVar('input');\nputVar('input','');\nvar name=getVar('i');\n\nd.push({\ntitle:'测试',\ndesc:'输入测试链接...',\nurl:`putVar('input',input);refreshPage(false);`,\ncol_type:'input'\n});\nvar path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';\n\neval('jx='+fi);\nvar pd=0;\nfor(i=0;i<jx.title.length;i++){\nif(jx.title[i]==name){\npd=1;break;\n}\n}\nif(name==''||pd==0)name=jx.title[0];\n\nd.push({\ntitle:'测试从 '+name+' 开始: ',\ndesc:'点击切换起点解析',\nurl:`select://{\"title\": \"选择解析...\",\"options\" :[`+jx.title.map(a=>{return '\"'+a+'\"'})+`],col: 3, \"js\": \"putVar('i',input);refreshPage(false);'toast://切换至'+input+'开始测试！'\"}`,\ncol_type:'text_1'\n});\nd.push({col_type:'line_blank'});\nif(input!=''&&input.includes('://')){\nvar cs=0;\nfor(var ii=0;ii<jx.title.length;ii++){\n\nif(name!=jx.title[ii]&&cs==0){\ncontinue;\n}else if(name==jx.title[ii]){cs=1;}\n\n\n\nif(jx.title[ii]!='defaultParse'){\ntry{\nshowLoading('正在测试 '+jx.title[ii]);\n\nif((typeof jx.codes[jx.title[ii]])!='string'){\nvar url=jx.codes[jx.title[ii]](input).replace(/\\\"/g,'\\\\\"').replace(/\\'/g,\"\\\\'\").replace(/\\`/g,'\\\\`');\nif(sel(input)=='mg'&&url.search(/User-Agent|Referer/)==-1)\nurl=url+';{User-Agent@Mozilla/5.0 (Windows NT 10.0)}';\n}\nelse{\nvar url='';\n}\n\nif(url.includes('toast://')||!url.includes('://')||url==input)url='';\n}catch(e){\nurl='';\n}\n\nif(url!='')\n{\nd1.push({\ntitle:jx.title[ii],\ndesc:'找到一个免嗅',\nurl:`select://{\"title\": \"选择操作...\", \"options\" :['播放','添加','删除'], col: 3, \"js\": \"if(input=='播放'){\\``+url+`\\`;}else {var path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';var fi=fetch(path,{});eval('jx='+fi);eval('a='+fi);if(input=='添加'){var set=jx.settings['`+sel(input)+`'];set=set.split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');jx.settings['`+sel(input)+`']='`+jx.title[ii]+`'+(set==''?'':',')+set;for(j of jx.title){jx.codes[j]=j+'解析';}var fi=JSON.stringify(jx);}else{var jxl=jx.title.filter(a=>{if(a!='`+jx.title[ii]+`')return a;});for(j of jx.title){if(j!='`+jx.title[ii]+`')jx.codes[j]=j+'解析';else delete jx.codes[j];}jx.title=jxl;for(k of Object.keys(jx.settings)){jx.settings[k]=jx.settings[k].split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');}var fi=JSON.stringify(jx);}for(j of jx.title){fi=fi.replace('\\\\\"'+j+'解析\\\\\"',((typeof a.codes[j])!='function'?('\\\\\"'+a.codes[j].toString().trim()+'\\\\\"'):a.codes[j].toString().trim()));}writeFile(path,fi);'toast://完成！'}\"}`,\ncol_type:'text_1'\n});\ntry{\nputVar('i',jx.title[ii+1]);\n}catch(e){\nclearVar('i');}\nd1.push({col_type:'line'});\nd1.push({\ntitle:'下一个',\nurl:`hiker://empty@lazyRule=.js:putVar('input','`+input+`');refreshPage(false);'toast://下一个'`,\ncol_type:'text_2'\n});\nd1.push({\ntitle:'从头开始',\nurl:`hiker://empty@lazyRule=.js:putVar('input','`+input+`');clearVar('i');refreshPage(false);'toast://开始'`,\ncol_type:'text_2'\n});\nhideLoading();\nbreak;\n}\n\n\nelse{\nif((typeof jx.codes[jx.title[ii]])!='string')\nd2.push({\ntitle:jx.title[ii],\n\nurl:`select://{\"title\": \"选择操作...\", \"options\" :['重试','添加','删除'], col: 3, \"js\": \"if(input=='重试'){\\`hiker://empty@lazyRule=.js:var path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';var fi=fetch(path,{});eval('jx='+fi);jx.codes['`+jx.title[ii]+`']('`+input+`');\\`}else {var path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';var fi=fetch(path,{});eval('jx='+fi);eval('a='+fi);if(input=='添加'){var set=jx.settings['`+sel(input)+`'];set=set.split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');jx.settings['`+sel(input)+`']='`+jx.title[ii]+`'+(set==''?'':',')+set;for(j of jx.title){jx.codes[j]=j+'解析';}var fi=JSON.stringify(jx);}else{var jxl=jx.title.filter(a=>{if(a!='`+jx.title[ii]+`')return a;});for(j of jx.title){if(j!='`+jx.title[ii]+`')jx.codes[j]=j+'解析';else delete jx.codes[j];}jx.title=jxl;for(k of Object.keys(jx.settings)){jx.settings[k]=jx.settings[k].split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');}var fi=JSON.stringify(jx);}for(j of jx.title){fi=fi.replace('\\\\\"'+j+'解析\\\\\"',((typeof a.codes[j])!='function'?('\\\\\"'+a.codes[j].toString().trim()+'\\\\\"'):a.codes[j].toString().trim()));}writeFile(path,fi);'toast://完成！'}\"}`,\ncol_type:'text_3'\n});\nelse{\nvar x5=jx.codes['defaultParse'](jx.codes[jx.title[ii]]+input).replace(/\\\\/g,'\\\\\\\\\\\\\\\\').replace(/\\\"/g,'\\\\\"').replace(/\\'/g,\"\\\\'\").replace(/\\`/g,'\\\\`').replace(/[\\s]/g,' ');\nd4.push({\ntitle:jx.title[ii],\n\nurl:`select://{\"title\": \"选择操作...\", \"options\" :['解析','添加','删除'], col: 3, \"js\": \"if(input=='解析'){'`+x5+`'}else {var path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';var fi=fetch(path,{});eval('jx='+fi);eval('a='+fi);if(input=='添加'){var set=jx.settings['`+sel(input)+`'];set=set.split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');jx.settings['`+sel(input)+`']='`+jx.title[ii]+`'+(set==''?'':',')+set;for(j of jx.title){jx.codes[j]=j+'解析';}var fi=JSON.stringify(jx);}else{var jxl=jx.title.filter(a=>{if(a!='`+jx.title[ii]+`')return a;});for(j of jx.title){if(j!='`+jx.title[ii]+`')jx.codes[j]=j+'解析';else delete jx.codes[j];}jx.title=jxl;for(k of Object.keys(jx.settings)){jx.settings[k]=jx.settings[k].split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');}var fi=JSON.stringify(jx);}for(j of jx.title){fi=fi.replace('\\\\\"'+j+'解析\\\\\"',((typeof a.codes[j])!='function'?('\\\\\"'+a.codes[j].toString().trim()+'\\\\\"'):a.codes[j].toString().trim()));}writeFile(path,fi);'toast://完成！'}\"}`,\ncol_type:'text_3'\n});}\n}\n}}\n}\nhideLoading();\nif(d2!='')\nd3.push({\ntitle:'⭐️以下是解析失败的免嗅:',\ncol_type:'text_1'\n\n});\nif(d4!='')\nd5.push({\ntitle:'⭐️以下不是免嗅，需要手动测试:',\ncol_type:'text_1'\n\n});\n}catch(e){\nd.push({\ntitle:'文件损坏，点击此处恢复(如果有备份的话)',\ncol_type:'text_center_1',\ndesc:'先点一下试一试吧',\nurl:`hiker://empty@lazyRule=.js:writeFile('`+path+`',readFile('save.txt'));refreshPage(false);'toast://执行成功！'`\n});\n}\nd=d.concat(d1).concat(d3).concat(d2).concat(d5).concat(d4);\n\r\nres.data = d;\r\nsetHomeResult(res);"},{"col_type":"movie_3","name":"搜索","path":"so.html","rule":"if(input=='搜索分组'){`input://{\"hint\":'输入分组名称：',\"js\":\"a=[];a[0]=0;a[1]=input;if(a[1]!=''){se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.so=a;writeFile(se,JSON.stringify(fi));refreshPage(false);}\"}`}\nelse{`input://{\"hint\":'输入小程序名称：',\"js\":\"a=[];a[0]=1;a[1]=input;if(a[1]!=''){se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.so=a;writeFile(se,JSON.stringify(fi));refreshPage(false);}\"}`}"}],"title":"新番剧","author":"1606142","version":1,"type":"video","url":"hiker://empty#fypage","col_type":"movie_1_vertical_pic","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"动漫","year_url":"","find_rule":"js://188\nvar res = {};\nvar d = [];\nif(getVar(MY_RULE.group)==0&&parseInt(MY_PAGE) === 1){\nd.push({ desc:'180&&list',         \n       url: 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/轮播图/番剧.html',\n      col_type: 'x5_webview_single'});}\nfunction pin(a,b){\nreturn (b==0?'':'')+a;\n}\nvar se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));\na=getVar('axe','追番');\nif(a!='追番')putVar('sta',fi.col==1?0:1);\nif(getVar('axe')=='')putVar('sta',fi.col);\nvar b=parseInt(MY_URL.split('#')[1]);\nif(b==1){\n\nd.push({\ntitle:'昨日更新',\nurl:`hiker://empty@lazyRule=.js:putVar2('axe','5');refreshPage(false);'toast://切换至昨日更新'`,\npic_url:'https://img.icons8.com/?format=png&id=15671&size=64&color=&token=',\ncol_type:'icon_small_4'\n});\nd.push({\ntitle:'今日更新',\nurl:`hiker://empty@lazyRule=.js:putVar2('axe','6');refreshPage(false);'toast://切换至今日更新'`,\npic_url:'https://img.icons8.com/?format=png&id=15640&size=64&color=&token=',\ncol_type:'icon_small_4'\n});\nd.push({\ntitle:'明日更新',\nurl:`hiker://empty@lazyRule=.js:putVar2('axe','7');refreshPage(false);'toast://切换至明日更新'`,\npic_url:'https://img.icons8.com/?format=png&id=15713&size=64&color=&token=',\ncol_type:'icon_small_4'\n});\nd.push({\ntitle:'我的追番',\nurl:`hiker://empty@lazyRule=.js:putVar2('axe','追番');putVar('sta',getVar('sta')&&getVar('sta',0)==0?1:0);refreshPage(false);'toast://切换至我的追番'`,\npic_url:'https://img.icons8.com/?format=png&id=26055&size=64&color=&token=',\ncol_type:'icon_small_4',});\nd.push({\ntitle:'腾讯接档',\nurl:`hiker://empty@lazyRule=.js:putVar2('axe','强势接档');refreshPage(false);'toast://切换至腾讯接档'`,\npic_url:'https://lanmeiguojiang.com/tubiao/movie/31.svg',\ncol_type:'icon_2_round'\n});\nvar mode=['番剧索引','国创索引'];\nif(a.includes('索引'))\nvar mo=getVar('axe')=='番剧索引'?mode[0]:mode[1];\nd.push({\ntitle:'B站索引',\nurl:`hiker://empty@lazyRule=.js:if(getVar('axe')=='番剧索引')putVar2('axe','国创索引');else putVar2('axe','番剧索引');refreshPage(false);'toast://切换至'+getVar('axe')`,\npic_url:'https://lanmeiguojiang.com/tubiao/movie/20.svg',\ncol_type:'icon_2_round'\n});}\nif(a.includes('索引')){\nvar ord=['3','0','4','2','5'];\nvar tit=['追番人数','更新时间','最高评分','播放数量','开播时间'];\nvar or=parseInt(getVar('or','0'),10);\nb<2&&d.push({col_type:'line_blank'});\nfor(var i=0;b<2&&i<ord.length;i++){\nvar tt=tit[i];\nd.push({\ntitle:or==ord[i]?tt:tit[i],\nurl:'hiker://empty#'+ord[i]+`@lazyRule=.js:var i=input.split('#')[1];putVar2('or',i);refreshPage(false);'toast://切换成功！'`,\ncol_type:'text_5'\n});\n}\nvar model=['1','4'];\nvar web='https://api.bilibili.com/pgc/season/index/result?season_version=-1&area=-1&is_finish=-1&copyright=-1&season_status=-1&season_month=-1&year=-1&style_id=-1&order='+or+'&st=1&sort=0&page='+b+'&season_type='+model[(getVar('axe')=='番剧索引'?0:1)]+'&pagesize=20&type=1';\ntry{\nvar ym=JSON.parse(request(web,{})).data.list;\nfor(var i in ym){\nvar bt=ym[i].title;\nvar ind=ym[i].index_show;\nind=ind?(ind+' '):'';\nvar bt=getVar('lb1').includes(ym[i].link)?pin(bt):bt;\n\nd.push({\n\ttitle:bt,\n  desc:ind+ym[i].order,\n  pic_url:ym[i].cover+'@Referer=https://api.bilibili.com',\nurl:ym[i].link+'##'+ym[i].title+'&&'+ym[i].link+'&&'+ym[i].cover,\n\tcol_type: 'movie_3'\n});\n}}catch(e){}\n}else if(a=='强势接档'&&b==1){\nd.push({col_type:'line_blank'});\nvar jd=['重磅推荐','强档推荐','强势接档'];\n\nvar jds=['.slider_nav&&.nav_link','.mod_figure&&.list_item','.mod_bd,3&&.list_item'];\nvar du=getVar('du',jds[2]);\nfor(var i in jd){\nvar tt=jd[i];\n\nd.push({\ntitle:du==jds[i]?tt:jd[i],\nurl:'hiker://empty#'+jds[i]+`@lazyRule=.js:var i=input.split('#')[1];putVar2('du',i);refreshPage(false);'toast://切换成功！'`,\ncol_type:'text_3'\n});\n\n}\nvar ten=fetch('https://v.qq.com/channel/cartoon', {headers:{\"User-Agent\":PC_UA}});\nvar len='';\nif(du==jds[2]){\nvar len=parseDomForArray(ten,'.mod_listings_title&&.title_item');}\nvar le=parseDomForArray(ten,du);\n\nfor(var i in le){\ntry{\nvar ur=parseDomForHtml(le[i],'a&&href');\nvar ti=parseDomForHtml(le[i],'.title_text||a,1&&Text');\ntry{var pi=parseDomForHtml(le[i],'img&&lz_next||src');}catch(e){var pi='';}\n\ntry{\nif(pi=='')\nvar pi=parseDomForHtml(le[i],'a&&data-bgimage');}catch(e){}\npi=pi.includes('http')?pi:('https:'+pi);\nvar de=len?(parseDomForHtml(len[i],'.title&&Text')+ parseDomForHtml(len[i],'.desc&&Text')+parseDomForHtml(le[i],'.figure_desc&&Text')):parseDomForHtml(le[i],'span||.figure_caption&&Text').replace(ti,'');\nde=len||du==jds[0]?de:de;\n}catch(e){}\nvar tit=getVar('lb1').includes(ur)?pin(ti):ti;\nti=du==jds[0]?ti:tit;\nif(ti)\nd.push({\n\ttitle:ti,\n  desc: de,\n  pic_url:pi,\n\turl:ur+'##'+bt+'&&'+ur+'&&'+pi,\n\tcol_type: du=='.slider_nav&&.nav_link'?'movie_3':'movie_3'\n});\n\n}\n}else if(a=='追番'&&b==1){\nd1=[] ;\nd2=[];\nd3=[];\nif(getVar('lb1')!=''){\nvar xx=getVar('lb1').split('@@');\n\nvar u=xx.map(function(a){\nvar b=a.split('&&')[1];\nif(b&&b.includes('iqiyi'))return {url:b,options:{headers:{\"User-Agent\":MOBILE_UA}}};\nelse if(b&&b.includes('youku'))return {url:b,options:{headers:{\"User-Agent\":MOBILE_UA,'Cookie':'cna=6IyiGrzKl3kCAXAE00of3MSn'}}};else{return {url:b,options:{headers:{\"User-Agent\":PC_UA}}};}\n});\nvar y=batchFetch(u);\nfor(var k in xx){\ntry{\nvar x=xx[k].split('&&');\nif(x[1]!=''){\n/*\nvar ym=fetch(x[1], {headers:{\"User-Agent\":PC_UA}});\n*/\nvar ym=y[k];\ntry{\nif(x[1].includes('bilibili')){\nvar des=JSON.parse(ym.split('newestEp\":')[1].split('}')[0]+'}').desc;\ntry{\nvar ep=JSON.parse(ym.split('\"epList\":')[1].split('}]')[0]+'}]'); \n}catch(e){ep=[];}\nif(ep.length==0)gxz=0;\nelse{\nfor(var i=ep.length-1;ep[i].badge=='预告';i--);\nvar gxz=ep[i].title;}}\n}catch(e){gxz='最新状态获取失败！';}\ntry{\nif(x[1].includes('qq')){\nvar htm=JSON.parse(ym.split('COVER_INFO = ')[1].split('var ')[0]);\nif(htm.category_map.includes('正片')){\nvar h='';\nvar gxz='第'+htm.nomal_ids.filter((a)=>{if(h==7&&a.F==2)h=1;else h=a.F;if(h==2||h==7)return a;}).length+'话';}\nelse gxz='第0话';\nif(gxz=='第0话'){\ndes=htm.update_notify_desc;\n}\n}\n}catch(e){gxz='最新状态获取失败！';}\n\ntry{\nif(x[1].includes('iqiyi')){\n/*\ntry{\nvar v=JSON.parse(ym.split('videos\":')[1].split('}]')[0]+'}]');}catch(e){var v=JSON.parse('['+ym.split('videoInfo\":')[1].split('}')[0]+'}]');}\nfor(var i of v)\nif(!i.vt||!i.vt.includes('预告'))gxz=i.order;\n\n\ntry{var v=JSON.parse(ym.split('videoInfo\":')[1].split('}')[0]+'}');}catch(e){var v={};v.aid=ym.split('albumId\":')[1].split(',')[0];}vi=JSON.parse(request('https://pub.m.iqiyi.com/h5/main/videoList/album/?albumId='+v.aid+'&size=1500&page=1&needPrevue=false&needVipPrevue=false',{})).data;if(vi!=''){v=vi.videos;gxz=v.pop().pd}else{i=v;if(i&&(!i.vt||!i.vt.includes('预告')))gxz=i.order;}\n*/\n\nvar gxz=ym.match(/total\".*?(\\d+)/)[1];\n}\n}catch(e){gxz='最新状态获取失败！';}\n\ntry{\nif(x[1].includes('youku')){\nvar gxz=ym.match(/episodeLast\".*?(\\d+)/)[1];\n}\n\n}catch(e){gxz='最新状态获取失败！';}\n\nvar pic=x[2].split('/');\nif(pic[2]=='puui.qpic.cn')x[2]=pic.slice(0,-1).join('/')+'/0';\n\nif(gxz=='最新状态获取失败！'){\nd2.push({\n\ttitle: x[0],\n  pic_url: x[2]+(x[1].includes('bilibili')?'@Referer=https://www.bilibili.com':(x[1].includes('iqiyi')?'@Referer=https://www.iqiyi.com':'')),\ndesc:getVar('sta')==1?(x.length>=4?('观看至'+x[3]):('未观看')):((x.length>=4?('观看至'+x[3]+''):('未观看'))+'\\n更新至'+gxz+''),\n\turl:x[1]+'##'+xx[k]+'##',\n\tcol_type:'movie_3'\n});\n}else{\nif(x[3]!=gxz)\nd3.push({\n\ttitle: x[0],\n  pic_url: x[2]+(x[1].includes('bilibili')?'@Referer=https://www.bilibili.com':''),\ndesc:getVar('sta')==1?(x.length>=4?('观看至'+x[3]):('未观看')):((x.length>=4?('观看至'+(x[3]!=gxz?(''+x[3]+''):(''+x[3]+''))):(gxz=='第0话'||gxz==0?des:'未观看'))+'\\n更新至 '+(x.length>=4&&x[3]!=gxz?(''+gxz+''):(''+gxz+''))),\n\turl:x[1]+'##'+xx[k]+'##',\n\tcol_type: 'movie_3'\n});\nelse\nd1.push({\n\ttitle: x[0],\n  pic_url: x[2]+(x[1].includes('bilibili')?'@Referer=https://www.bilibili.com':''),\ndesc:getVar('sta')==1?('观看至'+x[3]):((x.length>=4?('观看至'+(x[3]!=gxz?(''+x[3]+''):(''+x[3]+''))):('未观看'))+'\\n更新至 '+(x.length>=4&&x[3]!=gxz?(''+gxz+''):(''+gxz+''))),\n\turl:x[1]+'##'+xx[k]+'##',\n\tcol_type: 'movie_3'\n});\n}\n}\n}catch(e){}\n\n\n}\nif(getVar('sta')==1){\n\nif(d1!='')\nd1=[{\ntitle:'⭐️以下番剧未有更新:',\ncol_type:'text_1'\n}].concat(d1);\n\nif(d3!='')\nd3=[{\ntitle:'⭐️以下番剧待看:',\ncol_type:'text_1'\n}].concat(d3);\n\nif(d2!='')\nd2=[{\ntitle:'⭐️以下番剧获取更新失败:',\ncol_type:'text_1'\n}].concat(d2);\n}\nd1=d1.concat(d2);\nd=d.concat(d3).concat(d1);\n\n}else{\nd.push({\n\ttitle:'““还没有追番！””',\nurl:`hiker://empty@lazyRule=.js:refreshPage(false);'toast://刷新完毕！'`,\ndesc:'点击刷新',\n\n\tcol_type: 'text_center_1'\n});\n}\n}else if(b==1){\nvar st=a==7?'':'';\nvar cs=0;\nvar n=a==7?'明日 ':(a==6?'今日 ':'昨日 ');\n//https://www.bilibili.com/anime/timeline\nvar h=new Date().getHours();\nvar m=new Date().getMinutes();\nvar si=h*60+m;\n\nvar y1=fetch('https://bangumi.bilibili.com/web_api/timeline_global',{});\nvar ym1=JSON.parse(y1).result[a].seasons;\nvar y2=fetch('https://bangumi.bilibili.com/web_api/timeline_cn',{});\nvar ym2=JSON.parse(y2).result[a].seasons;\nvar y=y1+y2;\n\ntry{\n//合并排序开始\n\nvar ym=ym1.concat(ym2);\n\nvar ten=fetch('https://v.qq.com/channel/cartoon', {headers:{\"User-Agent\":PC_UA}});\nvar ym3=[];\nvar w = new Date().getDay();\nvar ve=w==0?6:(w-1);\nve=a==6?ve:(a==5?(ve-1):(ve+1));\nve=ve==7?0:(ve==-1?6:ve);\nvar len=parseDomForArray(ten,'.mod_bd,2&&.mod_figure,'+(ve+1)+'&&.list_item');\n\n\nvar ur=len.map(a=>{var bt=parseDomForHtml(a,'a,1&&title');\nvar uzz=parseDomForHtml(a,'.figure_caption&&Text');if(y.indexOf(bt.replace(/第[\\S]*?季/g,''))==-1&&!uzz||uzz.search(/全|完结/)==-1)return {url:parseDom(a,'a&&href')};else return {url:''};});\n//putVar('ur',JSON.stringify(ur));\n\nvar ht=batchFetch(ur);\n\n\nfor(var i in len){\nif(ht[i]!=''){\nvar bt=parseDomForHtml(len[i],'a,1&&title');\nvar uzz=parseDomForHtml(len[i],'.figure_caption&&Text');\n\nvar ur=parseDom(len[i],'a&&href');\ntry{\nvar htm=JSON.parse(ht[i].split('COVER_INFO = ')[1].split('var ')[0]);\nvar t=htm.update_notify_desc;\nvar l=htm.nomal_ids;\n}catch(e){}\nif(!t||t.search(/全|完结/)==-1){\nvar uz=0;var f='';\nfor(var js in l){if(f==7&&l[js].F==2)f=1;else f=l[js].F;if(f==2||f==7){uz++;}}\n\ntry{\nvar upd='未知';\nupd=t.replace(/(\\d*)点(\\d*)分{0,1}/g,'$1:$2').match(/\\d{1,2}：\\d{2}|\\d{1,2}:\\d{2}|\\d{1,2}(?=点)|\\d{1,2}(?=:)/g)[0];\nupd=upd.includes('：')?upd.replace('：',':'):upd;\nupd=upd.includes(':')?upd:(upd+':00');\n\nvar sii=parseInt(upd.split(':')[0],10)*60+parseInt(upd.split(':')[1],10);\n}catch(e){var upd='未知';}\n\nif(upd!='未知'){\n\nif((a==6&&si<sii)||a==7)uz++;\n\nym3.push({title:bt,\npub_time:upd,\nsquare_cover:parseDomForHtml(len[i],'img&&lz_next'),\npub_index:'第'+uz+'话',\nurl:ur\n});}\n}\n}\n}\n}catch(e){ym3=[];}\nym=ym.concat(ym3);\n\nym=ym.sort(function v(a,b){\n\nvar aa=a.pub_time;\n\nvar c=parseInt(aa.split(':')[0],10)*60+parseInt(aa.split(':')[1],10);\nvar bb=b.pub_time;\nvar d=parseInt(bb.split(':')[0],10)*60+parseInt(bb.split(':')[1],10);\n\nreturn c-d;\n});\n\n//d.push({title:ym});\n//合并排序结束\n\n\n\nh=h<10?('0'+h):h;\nm=m<10?('0'+m):m;\n\nfor(var i in ym){\n\nvar ti=ym[i].pub_time;\n\nif(a==6){\nvar sii=parseInt(ti.split(':')[0],10)*60+parseInt(ti.split(':')[1],10);\n\n\nif(si<sii&&cs==0){\nd.push({title:'当前时间:'+h+':'+m+'',\nurl:`hiker://empty@lazyRule=.js:refreshPage(false);'toast://刷新完毕！'`,\ndesc:'点击刷新',\ncol_type:'text_center_1'\n});\ncs++;\nst='';\n}\n}\n\nvar nn=st==''?'即将更新':'已更新至';\nvar u=ym[i].url;\nvar bt=ym[i].title;\n//bt=bt.slice(0,25)+(bt.length>25?'...':'');\nvar zf=getVar('lb1').includes(u)?pin(bt,st==''?0:1):bt;\nvar de=n+ti+'更新';\nst1=ym[i].pub_index?st:'';\nvar dr=ym[i].delay_reason;\nd.push({\n\ttitle: st1+zf+'\\n'+(ym[i].pub_index?(nn+(ym[i].pub_index)):('本周停更'+ym[i].delay_index)),\n  desc:!dr?de:('<del>'+de+'</del>'),\n  pic_url: ym[i].square_cover+(u.includes('bilibili')?'@Referer=https://www.bilibili.com':''),\n\turl:u+'##'+ym[i].title+'&&'+u+'&&'+ym[i].square_cover+'##',\n\tcol_type: 'movie_3'\n});\n\nif(a==6&&si>=sii&&i==ym.length-1){\nd.push({title:'当前时间:'+h+':'+m+'',\nurl:`hiker://empty@lazyRule=.js:refreshPage(false);'toast://刷新完毕！'`,\ndesc:'今日番剧已全部更新，感谢使用！',\ncol_type:'text_center_1'\n});\n}\n\n}\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js://229\nvar res = {};\nvar d = [];\nvar na=MY_URL.split('#')[1];\nvar page=MY_URL.split('#')[2];\nvar lb1=fetch(\"hiker://files/番剧更新表/我的追番.txt\", {});\nif(page==1){\nvar x=['media_bangumi','media_ft'];\nvar y=[];\n//try{\nfor(var jj=0;jj<x.length;jj++){\nvar ym1=JSON.parse(fetch('https://api.bilibili.com/x/web-interface/search/type?keyword='+na+'&page=1&search_type='+x[jj]+'&order=totalrank&pagesize=20',{})).data.numPages;\nfor(var j=1,g=0;j<=ym1&&j<4;j++){\nvar y1=JSON.parse(fetch('https://api.bilibili.com/x/web-interface/search/type?keyword='+na+'&page='+j+'&search_type='+x[jj]+'&order=totalrank&pagesize=20',{})).data.result;\nvar y=y.concat(y1);\nvar Jy=JSON.stringify(y);\n}}\nfor(var i=0;y!=null&&i<y.length;i++){\nvar ti=y[i].title.replace(/<em class=\"keyword\">|<\\/em>/g,'');\nif((Jy.includes(na)&&ti.includes(na))||!Jy.includes(na)){\nvar zf=lb1.includes('ss'+y[i].season_id)?'<small>我的追番 </small>':'';\nd.push({\ntitle:zf+ti,\nimg:y[i].cover+'@Referer=https://api.bilibili.com',\ndesc:y[i].styles,\ncontent:y[i].desc,\nurl:y[i].goto_url+'##'+ti+'&&https://www.bilibili.com/bangumi/play/ss'+y[i].season_id+'&&'+y[i].cover+'##',\n});\ng++;\n}\nif(g==8){j=6;break;}\n}//}catch(e){}\ntry{\nvar ym=fetch('https://v.qq.com/x/search/?q='+na,{headers:{\"User-Agent\":PC_UA}});\nputVar('tx',ym);\nvar len=parseDomForArray(ym,'body&&._infos');\n/*\ntry{\nvar len1=parseDomForArray(ym,'.figures_list&&.list_item');\nlen=len.concat(len1);\n}catch(e){}\n*/\nfor(var j in len){\ntry{var des=parseDomForHtml(len[j],'.figure_caption||.result_score||.figure_desc&&Text');}catch(e){des='';}\n/*\ntry{\nf=des.split(':').map(Number);\nvar time=f[0]*3600+f[1]*60+f[2];\n}catch(e){var des='';}\n*/\ntry{var yg=parseDomForHtml(len[j],'.mark_v&&img&&alt');}catch(e){var yg='没有';}\ntry{\nvar ur=parseDomForHtml(len[j],'a&&href');\nif(ur.includes('search_redirect')&&ur.includes('url=')&&(ur.includes('iqiyi.')||ur.includes('bilibili.')||ur.includes('youku.')))ur=decodeURIComponent(ur.split('url=')[1]);\nelse if(ur.includes('search_redirect'))ur='';\nif(!yg.includes('预告')&&ur!=''){\ntry{var con=parseDomForHtml(len[j],'.desc_text&&Text');}catch(e){var con='';}\nvar bt=parseDomForHtml(len[j],'img&&alt');\nvar pi=parseDomForHtml(len[j],'img&&src');\nvar zf=getVar('lb1').includes(ur)?'<small>我的追番 </small>':'';\nd.push({\n\ttitle: zf+bt, \ndesc:des,\ncontent:con,\n  pic_url:pi,\n\turl:ur+'##'+bt+'&&'+ur+'&&'+pi+'##',\n});\n}}catch(e){}\n}\n}catch(e){d.push({\n\ttitle: '腾讯搜索错误' });}\n\ntry{\nvar ym=fetch('https://so.iqiyi.com/so/q_'+na,{headers:{\"User-Agent\":PC_UA}});\nputVar('iqiyi',ym);\nvar resu=parseDomForArray(ym,'body&&.qy-search-result-item');\n\nfor(var i of resu){\ntry{\n\nvar pd=parseDomForHtml(i,'.item-type&&Text');\nvar pd2=parseDomForHtml(i,'.player-name&&Text');\n\nif(pd.match(/电视剧|电影|动漫|综艺|知识/g)[0]!=''&&pd2.match(/爱奇艺|腾讯|优酷/g)[0]!=''){\n\nvar bt=parseDomForHtml(i,'a&&title');\nvar pi=parseDom(i,'img&&src');\nvar ur=parseDom(i,'a&&href').split('?')[0];\nvar zf=getVar('lb1').includes(ur)?'<small>我的追番 </small>':'';\n\nvar des=parseDomForHtml(i,'.qy-mod-label&&Text');\nvar con=parseDomForHtml(i,'.info-des,2||.info-des||.sub-txt&&Text');\n\nd.push({\n\ttitle: zf+bt, \ndesc:des,\ncontent:con,\n  pic_url:pi+'@Referer=https://www.iqiyi.com',\n\turl:ur+'##'+bt+'&&'+ur+'&&'+pi+'##',\n});}}catch(e){}\n}\n}catch(e){d.push({\n\ttitle: '爱奇艺搜索错误' });}\nif(d.length==0)page++;\n}\n if(page==2){\nvar ym=getVar('tx');\nvar ym1=getVar('iqiyi');\nclearVar('tx');clearVar('iqiyi');\nif(ym!=''){\nvar len=parseDomForArray(ym,'.figures_list&&li');\nfor(var i of len){\n\n\nvar ur=parseDomForHtml(i,'a&&href');\nif(ur.includes('search_redirect')&&ur.includes('url=')&&(ur.includes('iqiyi.')||ur.includes('bilibili.')))ur=decodeURIComponent(ur.split('url=')[1]);\nelse if(ur.includes('search_redirect'))ur='';\nif(!i.includes('预告')&&ur!=''){\nvar bt=parseDomForHtml(i,'a,1&&title');\nvar pi=parseDom(i,'img&&src');\nvar zf=getVar('lb1').includes(ur)?'<small>我的追番 </small>':'';\n\nd.push({\ntitle:zf+bt,\nurl:ur+'##'+bt+'&&'+ur+'&&'+pi+'##',\npic_url:pi,\ndesc:parseDomForHtml(i,'.figure_info&&Text'),\ncontent:parseDomForHtml(i,'.score_l&&Text')+'  '+parseDomForHtml(i,'.figure_desc&&Text'),\n});}\n}\n}\nif(ym1!=''){\n\nvar resu=parseDomForArray(ym1,'body&&.qy-mod-list&&li');\n\nfor(var i of resu){\ntry{\n\nvar bt=parseDomForHtml(i,'a&&title');\nvar pi=parseDom(i,'img&&src');\nvar ur=parseDom(i,'a&&href').split('?')[0];\nvar zf=getVar('lb1').includes(ur)?'<small>我的追番 </small>':'';\n\nvar des=parseDomForHtml(i,'.qy-mod-label&&Text');\nvar con=parseDomForHtml(i,'.info-des,2||.info-des||.sub-txt&&Text');\n\nd.push({\n\ttitle: zf+bt, \ndesc:des,\ncontent:con,\n  pic_url:pi+'@Referer=https://www.iqiyi.com',\n\turl:ur+'##'+bt+'&&'+ur+'&&'+pi+'##',\n});}catch(e){}\n}\n}\n}\nelse if(page==3){\nd.push({title:'搜索不到？关键词尽量精确'});\n}\nres.data = d;\nsetSearchResult(res);","search_url":"hiker://empty#**#fypage","group":"#️⃣道长dr","detail_col_type":"movie_2","detail_find_rule":"js:\neval(getVar('aa').split('/**/')[1]);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"putVar2('lb1', fetch(\"hiker://files/番剧更新表/我的追番.txt\", {}));\n/*\nif(getVar('lb1').split(',').length>3)\nwriteFile(\"hiker://files/番剧更新表/我的追番.txt\",getVar('lb1').split(',').join('@@'));\n*/\nputVar2('la1', `@lazyRule=.js:var lb=fetch(\"hiker://files/番剧更新表/我的追番.txt\",{});input=input.split('#')[1];var xr=input+'@@'+lb;writeFile(\"hiker://files/番剧更新表/我的追番.txt\",xr);refreshPage(false);'toast://追番成功'`);\n\nputVar2('la2', `@lazyRule=.js:var v=input.split('#')[1]; input=v.split('&&')[0];pd=v.split('&&')[1].split('?')[0];var lb=fetch(\"hiker://files/番剧更新表/我的追番.txt\",{});for(i=0;input!='';i++){if(i!=0)input=input.slice(0,-1);var sc=new RegExp(input+'[\\\\\\\\s\\\\\\\\S]*?'+pd+'[\\\\\\\\s\\\\\\\\S]*?@@','g');var xr=lb.replace(sc,'');writeFile(\"hiker://files/番剧更新表/我的追番.txt\",xr);lb=fetch(\"hiker://files/番剧更新表/我的追番.txt\",{});if(!lb.includes(pd)){break;}}refreshPage(false);'toast://取消追番成功！'`);\n\nputVar('rC', `var m=[];var li=fetch(\"hiker://files/番剧更新表/我的追番.txt\",{}).split('@@').filter(a=>{return a!='';});var s=input.split('##');input=s[0];for(var i in li){var j=li[i].split('&&');if(getVar('url').includes(j[1])){j[3]=s[1];var j1=j.join('&&');li.splice(i,1);m=m.concat(j1,li).join('@@')+'@@';writeFile(\"hiker://files/番剧更新表/我的追番.txt\",m);break;}}`);\n\n\nputVar2('aa', `@rule=js:/**/var se='hiker://files/番剧更新表/set.txt';var fi=fetch(se,{});if(fi==''){var fi=JSON.stringify({dm:'关',bili:'关'});writeFile(se,fi);}fi=JSON.parse(fi);var mo=getVar('model');putVar('model','');var res1 = {};var d1 = [];d=[];d2=[];try{if(MY_URL.includes('iqiyi.co'))var ym=getResCode().replace(/\\\\u002F/g,'/').replace(/videoUrl/g,'pageUrl');else if(MY_URL.includes('youku.co'))var ym=fetch(MY_URL,{headers:{\"User-Agent\":MOBILE_UA,'Cookie':'cna=6IyiGrzKl3kCAXAE00of3MSn'}});else var ym=fetch(MY_URL, {headers:{\"User-Agent\":PC_UA}}).replace(/\\\\u002F/g,'/');try{var quan=parseDomForHtml(ym,'.people_num&&Text');}catch(e){var quan='';}putVar('url',MY_URL);function colo(a,b,c){var li=fetch(\"hiker://files/番剧更新表/我的追番.txt\",{}).split('@@').filter(a=>{return a!='';});if(a=='')a=c;for(var i in li){var j=li[i].split('&&');if(getVar('url').includes(j[1])&&j.length>=4&&(a==j[3]||c==j[3])){if(!getVar('url').includes('qq.')&&b==undefined)return '⭐️'+a;else return '““'+a+'””';}}return a;}var lb=fetch(\"hiker://files/番剧更新表/我的追番.txt\",{});if(MY_URL.includes('bilibili.'))var nam=parseDomForHtml(ym,'.bilibili-player-pgcinfo-name&&Text');else var nam=parseDomForHtml(ym,'.tit||h1&&Text');var info=MY_URL.split('##')[1];if(info){info=info.split('&&');info[0]=nam; info=info.join('&&');var q=info.split('&&')[1];if(q.slice(-1)=='/')q=q.split('/').slice(0,-1).join('/'); var pd=lb.includes(q);var la=pd?getVar('la2'):getVar('la1');try{var wj=fetch('hiker://files/cache/MyParseSet.json',{});if(wj!='')eval(fetch(JSON.parse(wj).cj,{}));else{var wj=fetch('hiker://files/rules/js/Parse-V2_Dn.js');eval(wj);}}catch(e){var wj=fetch('hiker://files/rules/js/LocalParse_Dn.js');eval(wj);}try{var ej=\"hiker://empty@rule=js:var se='hiker://files/番剧更新表/set.txt';var fi=fetch(se,{});var res = {};var d = [];var fi=JSON.parse(fi);d.push({title:'当前““'+(fi.dm=='关'?'关闭':'开启')+'””弹幕(爱奇艺、优酷不支持！)',/*desc:'点击切换',*/url:\\`@lazyRule=.js:var se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.dm=(fi.dm=='关'?'开':'关');writeFile(se,JSON.stringify(fi));refreshPage(false);\\\\\"toast://切换成功！\\\\\"\\`,col_type:'text_1'});d.push({col_type:'line_blank'});if(fetch('hiker://files/番剧更新表/cache.txt',{})!=''){d.push({title:'当前““'+(fi.bili=='关'?'关闭':'开启')+'””哔哩大会员直链',/*desc:'点击切换',*/url:\\`@lazyRule=.js:var se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.bili=(fi.bili=='关'?'开':'关');writeFile(se,JSON.stringify(fi));refreshPage(false);\\\\\"toast://切换成功！\\\\\"\\`,col_type:'text_1'});}d.push({col_type:'line_blank'});d.push({title:'当前““'+(fi.col?(fi.col==0?'列表':'九宫格'):'列表')+'””显示我的追番样式！',url:(fi.col?fi.col:0)+\\`@lazyRule=.js:var se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.col=(input==0?1:0);writeFile(se,JSON.stringify(fi));refreshPage(false);\\\\\"toast://切换成功！\\\\\"\\`,col_type:'text_1'});d.push({col_type:'line_blank'});d.push({title:'当前使用““'+(fi.so?(fi.so[1]+(fi.so[0]==0?' 分组':' 小程序')):'全部 分组')+'””搜索',url:\\`select://{title: '选择搜索模式...', options:['搜索分组','搜索小程序'] , col: 2, js:\\\\\"eval(JSON.parse(fetch('hiker://page/so.html',{})).rule);\\\\\"}\\`,col_type:'text_1'});d.push({col_type:'line_blank'});d.push({title:'当前一页显示““'+(fi.ji?fi.ji:10)+'””集',url:\\`input://{\\\\\"js\\\\\": \\\\\"var se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.ji=input.match(/[0-9]+/)[0];writeFile(se,JSON.stringify(fi));refreshPage(false);'toast://更改成功！'\\\\\", \\\\\"hint\\\\\": \\\\\"请输入数字…\\\\\"}\\`,col_type:'text_1'});d.push({col_type:'line_blank'});d.push({title:'点击配置断插！',url:\\\\\"\"+setUrl+\"\\\\\",col_type:'text_1'});d.push({col_type:'line_blank'});d.push({title:'测试断插！',desc:'使用前先备份数据！！！',col_type:'text_1',url:'hiker://empty@rule='+JSON.parse(fetch('hiker://page/ceshi.html',{})).rule});d.push({col_type:'line_blank'});d.push({col_type:'line_blank'});d.push({title:'保存设置',url:'@lazyRule=.js:back(true);\\\\\"toast://设置生效\\\\\"',col_type:'text_center_1'});res.data = d;setSearchResult(res);                          \";d1.push({ title:info.split('&&')[0], img:info.split('&&')[2], url:ej, col_type: 'icon_2_round' });}catch(e){d1.push({ title:info.split('&&')[0], img:info.split('&&')[2], url:'toast://当前无插件，请安装插件，否则无法解析！', col_type: 'icon_2_round' });} d1.push({ title:(pd?'‘‘取消追番’’':'““+追番””'), url:'hiker://empty#'+info+la, col_type: 'text_2' });} d1.push({desc:'0',col_type: 'x5_webview_single'}); try{var des=JSON.parse(ym.split('newestEp\":')[1].split('}')[0]+'}').desc;}catch(e){try{var htm=JSON.parse(ym.split('COVER_INFO = ')[1].split('var ')[0].trim());var des=htm.update_notify_desc;if(!des)des=htm.second_title;}catch(e){try{var a=ym.match(/updateStrategy\".*?\"(.*?)\"/)[1];}catch(e){a='';}var des=a+parseDomForHtml(ym,'.brief-score&&Text')+parseDomForHtml(ym,'.info-updata&&Text');}}d1.push({title:'<font color=\"purple\"><strong><big>'+nam+'</big></strong></font>--<font color=\"blue\">'+(MY_URL.includes('bilibili')?'bilibili':(MY_URL.includes('qq')?'腾讯':(MY_URL.includes('youku')?'优酷':'爱奇艺')))+'</font>'+'\\\\n““状态：'+(des?des:'无')+'””。<font color=\"blue\">'+quan+'</font>',url:'select://{\"title\": \"选择\", \"options\" : [\"搜索\", \"倒序\"], col: 2, js: \"if(input==\\\\'搜索\\\\'){'+(!fi.so||fi.so[0]==0)+'?\\\\'hiker://search?s='+nam+'&group='+(fi.so?fi.so[1]:'全部')+'\\\\':\\\\'hiker://search?s='+nam+'&rule='+(fi.so?fi.so[1]:'')+'&simple=false\\\\';}else{putVar(\\\\'model\\\\',1);putVar(\\\\'ii\\\\','+getVar('ii')+');refreshPage(false);\\\\'toast://切换成功！\\\\'}\"}',col_type:'text_1'});d1.push({col_type:'big_blank_block'});try{laru=lazy.replace('aytmParse(input)','')+\"cid=input.split('#')[1];input=input.split('#')[0];try{url=aytmParse(input);if(url.includes('toast://')||!url.includes('://')||url==input)url=jxsb;try{pa=url.split(';')[1].split('&&');var ua='';var re='';for(i of pa){try{if(i.includes('User-Agent')&&ua=='')ua=i.split('@')[1].replace('}','');}catch(e){}try{if(i.includes('Referer')&&re=='')re=i.split('@')[1].replace('}','');}catch(e){}}}catch(e){}url=url.split(';')[0];dat=[];dat.push(url);if(cid){dm='https://comment.bilibili.com/'+cid+'.xml';}else{try{var vid=input.split('/')[6].split('.htm')[0];var id=JSON.parse(fetch('https://access.video.qq.com/danmu_manage/regist?vappid=97767206&vsecret=c0bdcbae120669fff425d0ef853674614aa659c605a613a4&raw=1', {headers:{'User-Agent':PC_UA},body:{'wRegistType':2,'vecIdList':[vid]},method:'POST'})).data.stMap[vid].strDanMuKey.match(/[0-9]{4,}/g)[0];if(id){var com=[];url=[];var k=1;for(j=0;;j=j+16*(30*k)){for(i=j;i<16*(30*k)+j;i=i+30*k){url.push({url:'http://mfm.video.qq.com/danmu?timestamp='+i+'&target_id='+id});if(j>=64*30)k=4;}batchFetch(url).map(function(a) {try{ h = JSON.parse(a).comments; }catch(e){try{h=JSON.parse(a.match(/{.*}/)[0]).comments;}catch(e){h=[];}}com=com.concat(h); });if(h=='')break;};dm='hiker://files/番剧更新表/dm.json';writeFile(dm,JSON.stringify(com).replace(/content/g,'text').replace(/timepoint/g,'time'));}else{dm='';}}catch(e){dm='';}}JSON.stringify({urls:dat,headers:[{'User-Agent':ua,'Referer':re}],danmu:dm});}catch(e){'toast://解析失败，请更换解析或稍后重试';}\";}catch(e){laru='confirm://无解析插件，但追番后仍可记录足迹！';};if(fi.dm=='关')laru=lazy;var epl=0;var ji=parseInt(fi.ji?fi.ji:10,10);var ii=getVar('ii');clearVar('ii');var diw=undefined;if(ii==''){var blj=MY_URL.split('##')[0];if(lb.includes(blj)){ii=0;for(j of lb.split('@@')){if(j.includes(blj)){diw=j.split('&&')[3];break;}}}else ii=1;}try{ var ep=JSON.parse(ym.split('\"epList\":')[1].split('}]')[0]+'}]').filter((a,j)=>{if(ii==0){if(diw){if(a.title==diw||a.longTitle==diw){ii=j+1;}if(ii>0){if(ii%ji!=0)ii=ii-ii%ji+1;else ii=ii-ji+1;}}else ii=1;} if(a.badge!='预告')return a;});var epl=ep.length;ep=ep.slice(parseInt(ii,10)-1,parseInt(ii,10)+ji-1);var che=fetch('hiker://files/番剧更新表/cache.txt',{});for(var i=0;i<ep.length;i++){url=fi.bili=='开'?(che.split('@lazyRule')[0].replace(/cid\\\\=[0-9]{4,}/g,'cid='+ep[i].cid).replace(/avid\\\\=[0-9]{4,}/g,'avid='+ep[i].aid)):('https://www.bilibili.com/bangumi/play/ep'+ep[i].id);d.push({ title:colo(ep[i].longTitle,undefined,ep[i].title),col_type:'movie_2', img:'http:'+ep[i].cover, desc:ep[i].title,url:url+'#'+ep[i].cid+'##'+ep[i].title+\"@lazyRule=.js:\"+getVar('rC')+(fi.bili=='开'?(fi.dm=='开'?che.split('@lazyRule=.js:')[1].replace(/[0-9]{4,}(?=\\\\))/g,ep[i].cid):che.split('@lazyRule=.js:')[1].replace(/[0-9]{4,}(?=\\\\))/g,'undefined')):laru)});}}catch(e){try{if(htm.category_map.includes('正片')){var f='';var le=htm.nomal_ids.filter((a,j)=>{if(ii==0){if(diw){if(('第'+j+'话')==diw){ii=j+1;}if(ii>0){if(ii%ji!=0)ii=ii-ii%ji+1;else ii=ii-ji+1;}}else ii=1;}if(f==7&&a.F==2)f=1;else f=a.F;if(f==2||f==7){return a;}});var epl=le.length;le=le.slice(parseInt(ii,10)-1,parseInt(ii,10)+ji-1);var ur=MY_URL.includes('index.htm')?('https://v.qq.com/x/cover/'+htm.id):MY_URL.split('.html')[0];var h=ii;for(var i in le){d.push({title:colo('第'+h+'话'),url:ur+'/'+le[i].V+'.html##第'+h+'话'+'@lazyRule=.js:'+getVar('rC')+laru,col_type:'text_3'});h++;}}}catch(e){try{try{var v=JSON.parse(ym.split('videoInfo\":')[1].split('}')[0]+'}');}catch(e){var v={};v.aid=ym.split('albumId\":')[1].split(',')[0];}vi=JSON.parse(request('https://pub.m.iqiyi.com/h5/main/videoList/album/?albumId='+v.aid+'&size=1500&page=1&needPrevue=false&needVipPrevue=false',{})).data;if(vi!=''){v=vi.videos;try{v.forEach((a,j)=>{if(ii==0){if(diw){if(a.pd==diw||a.vt==diw){ii=j+1;}if(ii>0){if(ii%ji!=0)ii=ii-ii%ji+1;else ii=ii-ji+1;throw new Eorror('中断');}}else ii=1;}});}catch(e){}var epl=v.length;v=v.slice(parseInt(ii,10)-1,parseInt(ii,10)+ji-1);d=v.map(a=>{a.desc=a.pd;a.img=('https:'+a.imageUrl);a.url='https:'+a.pageUrl+'##'+a.pd+'@lazyRule=.js:'+getVar('rC')+lazy;a.title=colo(a.vt,(undefined),a.pd);a.col_type='movie_2';return a;});}else{i=v;if(i&&(!i.vt||!i.vt.includes('预告')))d.push({title:colo(i.shortTitle,undefined,i.order),url:'https:'+i.pageUrl+'##'+i.order+'@lazyRule=.js:'+getVar('rC')+lazy,col_type:'movie_2',img:'https:'+i.imageUrl,desc:i.order});}}catch(e){try{d=JSON.parse(fetch('https://search.youku.com/api/search?appScene=show_episode&showIds='+ym.match(/showId\":\"(.*?)\"/)[1]+'&appCaller=h5',{headers:{\"User-Agent\":MOBILE_UA},redirect:false})).serisesList;try{d.forEach((a,j)=>{if(ii==0){if(diw){if(a.title==diw||a.displayName==diw){ii=j+1;}if(ii>0){if(ii%ji!=0)ii=ii-ii%ji+1;else ii=ii-ji+1;throw new Eorror('中断');}}else ii=1;}});}catch(e){}var epl=d.length;d=d.slice(parseInt(ii,10)-1,parseInt(ii,10)+ji-1).map(a=>{a.desc=a.displayName;a.img=a.thumbUrl;a.url='https://m.youku.com/alipay_video/id_'+a.videoId+'.html##'+a.displayName+'@lazyRule=.js:'+getVar('rC')+lazy;a.title=colo(a.title,undefined,a.displayName);return a;});}catch(e){d.push({title:'““休息吧，追番也不要这么拼！””',col_type:'text_center_1'});}}}}for(i=1;i<=epl;i=i+ji){var qj=(i+'-'+(epl-(i+ji-1)>=0?(i+ji-1):epl));d1.push({title:ii>=i&&(ii<=i+ji-1)?('““'+qj+'””'):qj,url:i+\"@lazyRule=.js:putVar('ii',input);refreshPage(false);'toast://正在切换...'\",col_type:'scroll_button'});}if(mo==1)d=d.reverse();d1=d1.concat(d);d1.push({col_type:'line_blank'});if(ym.indexOf('\"ssList\":[{')>-1){d1.push({title:(getVar('xl')=='1'?'““⊙更多系列””':'‘‘⊕更多系列’’'),url:'hiker://empty#'+getVar('xl')+\\`@lazyRule=.js:var a=input.split('#')[1];if(a=='1'){putVar2('xl','');}else{putVar2('xl','1');}refreshPage(false);a=='1'?'toast://已收起':'toast://已展开'\\`,col_type:'text_2'});}if(MY_URL.search(/iqiyi.co|youku.co/)==-1)d1.push({title:(getVar('tj')=='1'?'““⊙更多推荐””':'‘‘⊕更多推荐’’'),url:'hiker://empty#'+getVar('tj')+\\`@lazyRule=.js:var a=input.split('#')[1];if(a=='1'){putVar2('tj','');}else{putVar2('tj','1');}refreshPage(false);a=='1'?'toast://已收起':'toast://已展开'\\`,col_type:'text_2'});d1.push({col_type:'line'});try{if(getVar('xl')=='1'){ var tj=JSON.parse(ym.split('\"ssList\":')[1].split('}]')[0]+'}]'); for(var o=0;tj!=null&&o<tj.length;o++){var cover=tj[o].cover;if(!cover.includes('http'))cover='http:'+cover;var cu=MY_URL.includes(tj[o].id)?'⭐️':'';var sx=MY_URL.includes(tj[o].id)?\"@lazyRule=.js:refreshPage(false);'toast://已刷新！';\":getVar('aa');d1.push({ title:tj[o].title+cu,img:cover,desc:tj[o].index_show, url:'https://www.bilibili.com/bangumi/play/ss'+tj[o].id+'##'+nam+' '+tj[o].title+'&&'+'https://www.bilibili.com/bangumi/play/ss'+tj[o].id+'&&'+cover+'##'+sx, desc:tj[o].desc,col_type:'movie_2' });}putVar2('xl','');}}catch(e){}if(getVar('tj')=='1'){if(MY_URL.includes('bilibili')){var rec=JSON.parse(fetch('https://api.bilibili.com/pgc/season/web/related/recommend?season_id='+MY_URL.split('ss')[1],{})).data.season;for(i=0;i<rec.length;i++){d1.push({ title:rec[i].title,img:rec[i].new_ep.cover,desc:rec[i].new_ep.index_show,url:rec[i].url+'##'+rec[i].title+'&&'+rec[i].url+'&&'+rec[i].new_ep.cover+'##'+getVar('aa'), col_type:'movie_2' });}}else{var lis=parseDomForArray(request('https://m.v.qq.com/play.html?cid='+MY_URL.split('/')[5].split('.')[0],{}),'.figures_list&&li');for(var k of lis){var ur='https://v.qq.com/x/cover/'+parseDomForHtml(k,'li&&data-cid')+'.html';var img=parseDomForHtml(k,'img&&dsrc');if(!img.includes('http'))img='https:'+img;var ti=parseDomForHtml(k,'strong&&Text');d1.push({ title:ti,img:img,desc:parseDomForHtml(k,'a&&Text'),url:ur+'##'+ti+'&&'+ur+'&&'+img+'##'+getVar('aa'), col_type:'movie_2' });}}}putVar2('tj','');}catch(e){d1.push({title:'““休息吧，追番也不要这么拼！””',col_type:'text_center_1'});}res1.data = d1; setHomeResult(res1);`);","pages":"[{\"col_type\":\"movie_3\",\"name\":\"测试\",\"path\":\"ceshi.html\",\"rule\":\"js:\\n\\r\\nvar res = {};\\r\\nvar d = [];\\nvar d1 = [];\\nvar d2 = [];\\nvar d3 = [];\\nvar d4 = [];\\nvar d5 = [];\\nfunction sel(a){\\n   try{\\n      a=a.match(/[\\\\w]*?\\\\.com/g)[0];\\n     }catch(e){return 'oth';}\\n            switch (a) {\\n                case \\\"qq.com\\\":\\n                    str = 'tx';\\n                    break;\\n                case \\\"iqiyi.com\\\":\\n                    str = 'qy';\\n                    break;\\n                case \\\"youku.com\\\":\\n                    str = 'yk';\\n                    break;\\n                case \\\"mgtv.com\\\":\\n                    str = 'mg';\\n                    break;\\n                case \\\"bilibili.com\\\":\\n                    str = 'bl';\\n                    break;\\n                default:\\n                    str = 'oth';\\n                    break;\\n            }\\nreturn str;\\n}\\n\\nvar path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';\\nvar fi=fetch(path,{});\\ntry{\\neval('jx='+fi);\\neval('a='+fi);\\n\\nsaveFile('save.txt',fi);\\n\\nfor(let x of Object.keys(jx.settings)){\\nvar b=jx.settings[x].split(',');\\nfor(i=0;i<b.length;i++){\\nfor(j=i+1;j<b.length;j++){\\nif(b[i]==b[j]){\\nb.splice(j,1);\\n}\\n}\\n}\\njx.settings[x]=b.filter(a=>{return a!='';}).join(',');\\n}\\n\\njx.settings.cj='hiker://files/cache/Parse_Dn.js';\\njx.title=jx.title.filter(a=>{\\nif(jx.codes[a]){jx.codes[a]=a+'解析';\\nreturn a;}\\nelse{delete jx.codes[a];}});\\nvar fi=JSON.stringify(jx);\\nfor(j of jx.title){fi=fi.replace('\\\"'+j+'解析\\\"',((typeof a.codes[j])!='function'?('\\\"'+a.codes[j].toString().trim()+'\\\"'):a.codes[j].toString().trim()));}writeFile(path,fi);\\n\\ninput=getVar('input');\\nputVar('input','');\\nvar name=getVar('i');\\n\\nd.push({\\ntitle:'测试',\\ndesc:'输入测试链接...',\\nurl:`putVar('input',input);refreshPage(false);`,\\ncol_type:'input'\\n});\\nvar path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';\\n\\neval('jx='+fi);\\nvar pd=0;\\nfor(i=0;i<jx.title.length;i++){\\nif(jx.title[i]==name){\\npd=1;break;\\n}\\n}\\nif(name==''||pd==0)name=jx.title[0];\\n\\nd.push({\\ntitle:'测试从 '+name+' 开始: ',\\ndesc:'点击切换起点解析',\\nurl:`select://{\\\"title\\\": \\\"选择解析...\\\",\\\"options\\\" :[`+jx.title.map(a=>{return '\\\"'+a+'\\\"'})+`],col: 3, \\\"js\\\": \\\"putVar('i',input);refreshPage(false);'toast://切换至'+input+'开始测试！'\\\"}`,\\ncol_type:'text_1'\\n});\\nd.push({col_type:'line_blank'});\\nif(input!=''&&input.includes('://')){\\nvar cs=0;\\nfor(var ii=0;ii<jx.title.length;ii++){\\n\\nif(name!=jx.title[ii]&&cs==0){\\ncontinue;\\n}else if(name==jx.title[ii]){cs=1;}\\n\\n\\n\\nif(jx.title[ii]!='defaultParse'){\\ntry{\\nshowLoading('正在测试 '+jx.title[ii]);\\n\\nif((typeof jx.codes[jx.title[ii]])!='string'){\\nvar url=jx.codes[jx.title[ii]](input).replace(/\\\\\\\"/g,'\\\\\\\\\\\"').replace(/\\\\'/g,\\\"\\\\\\\\'\\\").replace(/\\\\`/g,'\\\\\\\\`');\\nif(sel(input)=='mg'&&url.search(/User-Agent|Referer/)==-1)\\nurl=url+';{User-Agent@Mozilla/5.0 (Windows NT 10.0)}';\\n}\\nelse{\\nvar url='';\\n}\\n\\nif(url.includes('toast://')||!url.includes('://')||url==input)url='';\\n}catch(e){\\nurl='';\\n}\\n\\nif(url!='')\\n{\\nd1.push({\\ntitle:jx.title[ii],\\ndesc:'找到一个免嗅',\\nurl:`select://{\\\"title\\\": \\\"选择操作...\\\", \\\"options\\\" :['播放','添加','删除'], col: 3, \\\"js\\\": \\\"if(input=='播放'){\\\\``+url+`\\\\`;}else {var path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';var fi=fetch(path,{});eval('jx='+fi);eval('a='+fi);if(input=='添加'){var set=jx.settings['`+sel(input)+`'];set=set.split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');jx.settings['`+sel(input)+`']='`+jx.title[ii]+`'+(set==''?'':',')+set;for(j of jx.title){jx.codes[j]=j+'解析';}var fi=JSON.stringify(jx);}else{var jxl=jx.title.filter(a=>{if(a!='`+jx.title[ii]+`')return a;});for(j of jx.title){if(j!='`+jx.title[ii]+`')jx.codes[j]=j+'解析';else delete jx.codes[j];}jx.title=jxl;for(k of Object.keys(jx.settings)){jx.settings[k]=jx.settings[k].split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');}var fi=JSON.stringify(jx);}for(j of jx.title){fi=fi.replace('\\\\\\\\\\\"'+j+'解析\\\\\\\\\\\"',((typeof a.codes[j])!='function'?('\\\\\\\\\\\"'+a.codes[j].toString().trim()+'\\\\\\\\\\\"'):a.codes[j].toString().trim()));}writeFile(path,fi);'toast://完成！'}\\\"}`,\\ncol_type:'text_1'\\n});\\ntry{\\nputVar('i',jx.title[ii+1]);\\n}catch(e){\\nclearVar('i');}\\nd1.push({col_type:'line'});\\nd1.push({\\ntitle:'下一个',\\nurl:`hiker://empty@lazyRule=.js:putVar('input','`+input+`');refreshPage(false);'toast://下一个'`,\\ncol_type:'text_2'\\n});\\nd1.push({\\ntitle:'从头开始',\\nurl:`hiker://empty@lazyRule=.js:putVar('input','`+input+`');clearVar('i');refreshPage(false);'toast://开始'`,\\ncol_type:'text_2'\\n});\\nhideLoading();\\nbreak;\\n}\\n\\n\\nelse{\\nif((typeof jx.codes[jx.title[ii]])!='string')\\nd2.push({\\ntitle:jx.title[ii],\\n\\nurl:`select://{\\\"title\\\": \\\"选择操作...\\\", \\\"options\\\" :['重试','添加','删除'], col: 3, \\\"js\\\": \\\"if(input=='重试'){\\\\`hiker://empty@lazyRule=.js:var path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';var fi=fetch(path,{});eval('jx='+fi);jx.codes['`+jx.title[ii]+`']('`+input+`');\\\\`}else {var path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';var fi=fetch(path,{});eval('jx='+fi);eval('a='+fi);if(input=='添加'){var set=jx.settings['`+sel(input)+`'];set=set.split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');jx.settings['`+sel(input)+`']='`+jx.title[ii]+`'+(set==''?'':',')+set;for(j of jx.title){jx.codes[j]=j+'解析';}var fi=JSON.stringify(jx);}else{var jxl=jx.title.filter(a=>{if(a!='`+jx.title[ii]+`')return a;});for(j of jx.title){if(j!='`+jx.title[ii]+`')jx.codes[j]=j+'解析';else delete jx.codes[j];}jx.title=jxl;for(k of Object.keys(jx.settings)){jx.settings[k]=jx.settings[k].split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');}var fi=JSON.stringify(jx);}for(j of jx.title){fi=fi.replace('\\\\\\\\\\\"'+j+'解析\\\\\\\\\\\"',((typeof a.codes[j])!='function'?('\\\\\\\\\\\"'+a.codes[j].toString().trim()+'\\\\\\\\\\\"'):a.codes[j].toString().trim()));}writeFile(path,fi);'toast://完成！'}\\\"}`,\\ncol_type:'text_3'\\n});\\nelse{\\nvar x5=jx.codes['defaultParse'](jx.codes[jx.title[ii]]+input).replace(/\\\\\\\\/g,'\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\').replace(/\\\\\\\"/g,'\\\\\\\\\\\"').replace(/\\\\'/g,\\\"\\\\\\\\'\\\").replace(/\\\\`/g,'\\\\\\\\`').replace(/[\\\\s]/g,' ');\\nd4.push({\\ntitle:jx.title[ii],\\n\\nurl:`select://{\\\"title\\\": \\\"选择操作...\\\", \\\"options\\\" :['解析','添加','删除'], col: 3, \\\"js\\\": \\\"if(input=='解析'){'`+x5+`'}else {var path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';var fi=fetch(path,{});eval('jx='+fi);eval('a='+fi);if(input=='添加'){var set=jx.settings['`+sel(input)+`'];set=set.split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');jx.settings['`+sel(input)+`']='`+jx.title[ii]+`'+(set==''?'':',')+set;for(j of jx.title){jx.codes[j]=j+'解析';}var fi=JSON.stringify(jx);}else{var jxl=jx.title.filter(a=>{if(a!='`+jx.title[ii]+`')return a;});for(j of jx.title){if(j!='`+jx.title[ii]+`')jx.codes[j]=j+'解析';else delete jx.codes[j];}jx.title=jxl;for(k of Object.keys(jx.settings)){jx.settings[k]=jx.settings[k].split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');}var fi=JSON.stringify(jx);}for(j of jx.title){fi=fi.replace('\\\\\\\\\\\"'+j+'解析\\\\\\\\\\\"',((typeof a.codes[j])!='function'?('\\\\\\\\\\\"'+a.codes[j].toString().trim()+'\\\\\\\\\\\"'):a.codes[j].toString().trim()));}writeFile(path,fi);'toast://完成！'}\\\"}`,\\ncol_type:'text_3'\\n});}\\n}\\n}}\\n}\\nhideLoading();\\nif(d2!='')\\nd3.push({\\ntitle:'⭐️以下是解析失败的免嗅:',\\ncol_type:'text_1'\\n\\n});\\nif(d4!='')\\nd5.push({\\ntitle:'⭐️以下不是免嗅，需要手动测试:',\\ncol_type:'text_1'\\n\\n});\\n}catch(e){\\nd.push({\\ntitle:'文件损坏，点击此处恢复(如果有备份的话)',\\ncol_type:'text_center_1',\\ndesc:'先点一下试一试吧',\\nurl:`hiker://empty@lazyRule=.js:writeFile('`+path+`',readFile('save.txt'));refreshPage(false);'toast://执行成功！'`\\n});\\n}\\nd=d.concat(d1).concat(d3).concat(d2).concat(d5).concat(d4);\\n\\r\\nres.data = d;\\r\\nsetHomeResult(res);\"},{\"col_type\":\"movie_3\",\"name\":\"搜索\",\"path\":\"so.html\",\"rule\":\"if(input=='搜索分组'){`input://{\\\"hint\\\":'输入分组名称：',\\\"js\\\":\\\"a=[];a[0]=0;a[1]=input;if(a[1]!=''){se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.so=a;writeFile(se,JSON.stringify(fi));refreshPage(false);}\\\"}`}\\nelse{`input://{\\\"hint\\\":'输入小程序名称：',\\\"js\\\":\\\"a=[];a[0]=1;a[1]=input;if(a[1]!=''){se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.so=a;writeFile(se,JSON.stringify(fi));refreshPage(false);}\\\"}`}\"}]","icon":"https://lanmeiguojiang.com/tubiao/movie/143.svg"},{"last_chapter_rule":"","pageList":[],"title":"南府D♔","author":"道长&蓝莓果酱UX","version":2,"type":"video","url":"hiker://empty##http://www.nfuxs.com/vodshow/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".module-items&&.module-item;a&&title;img||.lazy&&data-src;.module-item-text&&Text;a&&href.js:input +'#immersiveTheme#'\";\nvar page = MY_URL.match(/(\\d+)---\\.html/)[1];\n//log(page);\ntrue_url = 获取正确链接();\n/*\nvar true_url = getMyVar('header.url', MY_URL);\ntrue_url=true_url.replace(/(\\d+)---\\.html/,'---.html');\ntrue_url=true_url.replace('---.html',page+'---.html');\n*/\n//log(true_url);\nlet cates=打造动态分类([{\n  一级分类: 'body&&.library-list',\n        子分类: 'body&&a:not(:matches(直播))',\n}]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true);","search_url":"http://www.nfuxs.com/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\r\nrequire(config.模板);\r\nlet parse={\n    title:'.video-info-items,1&&Text;.video-info-aux&&Text',\n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src',\n    desc: '.video-text&&Text',\n    tabs:'.module-tab-content,0&&.tab-item',\n    lists:'body&&.sort-item,#id&&a',\n    tab_id:'',\n    reChange:function(u){\n     if(/duoduozy/.test(u)){\n         let html = request(\"https://player.duoduozy.com/ddplay/?url=\" + u, {headers:{\"User-Agent\":\"Mozilla/5.0\",'Referer':'https://www.tgys.tv/'}});\r\n        return html.match(/urls = \"(.*?)\"/)[1]+';{User-Agent@Mozilla/5.0}';\n     }\n     return u\n }\r\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/114.svg"},{"last_chapter_rule":"","pageList":[],"title":"酷客影院.dr","author":"道长","version":2,"type":"video","url":"hiker://empty##http://www.anluyg.net/list/1_fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"同真不卡/新樱花动漫","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet ck_id='cookie.kuke';\nlet cookie=获取ck(ck_id);\n//log('Cookie:'+cookie);\nputMyVar('cookie',cookie);\nlet parStr=\".stui-vodlist&&li;a&&title;.stui-vodlist__box&&a&&data-original;.pic_text&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/_(.*?).html/)[1];\n//true_url = 获取正确链接();\ntrue_url = true_url.replace(/(.*)_(.*?)\\.html/, '$1' + '_' + page + '.html');;\nlog(true_url);\nvar html=获取源码(true_url,MOBILE_UA);\nif(/电影/.test(html)){\nlet cates=打造动态分类([{\n        一级分类: '.stui-header__menu',\n        子分类: 'body&&li:not(:matches(首页|留言))',\n        \n    },{\n        一级分类: 'body&&.nav-tabs',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);\n}else{\n    log(html);\n  道长验证码(null,true_url,'',ck_id);\n}","searchFind":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nlet pars=MY_URL.split('?')[1];\nlet html=post(MY_URL.split('?')[0],{\n    headers:{\n        'User-Agent':MOBILE_UA\n    },\n    body:pars\n});\nrequire(config.模板);\n//log(html);\nlet parStr=\".stui-vodlist__media&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href;.detail&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##http://www.anluyg.net/search.php?searchword=**","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.stui-content__detail&&h1&&Text;.stui-content__detail&&p,2&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&data-original',//图片\n url:'.lazyload&&data-original',//可以是影片链接，或者图片也行\n desc:'.stui-content__detail&&p,0&&Text;.stui-content__detail&&p,1&&Text;.stui-content__detail&&p,3&&Text',//一般主演，地区，影片评分等描述\ncontent:'#desc&&.col-pd&&Text',\n //content:'.stui-content__detail&&p,-1&&Text',//内容简介，详情\n tabs:'.nav-tabs&&li',//线路\n lists:'.stui-content__playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n 线路处理:function(t){return t.split(\" \").slice(-1)[0]}\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 指定ua=MOBILE_UA;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"http://www.anluyg.net/static/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"影视工厂D♔","author":"道长&蓝莓果酱UX","version":10,"type":"video","url":"https://www.ysgc.cc/vodshow/1--------fypage---/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\".myui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?)---/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: 'body&&.nav-list',\n    子分类: 'ul&&li:gt(0):lt(8):not(:matches(首页|明星|资讯|敏感|直播))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n},{\n    一级分类: 'body&&.myui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"js:var d=[];\n\nvar list=JSON.parse(getResCode()).list;\n\nfor(var i in list){\nd.push({\ntitle:list[i].name,\ndesc:list[i].name,\npic_url:list[i].pic.indexOf('http') != -1 ? list[i].pic : 'https://www.ysgc.cc' + list[i].pic,\nurl:'https://www.ysgc.cc/voddetail/'+list[i].id+'/'+'#immersiveTheme#',\ncontent:list[i].name+'\\n'+list[i].en,                                                col_type:'movie_3'\n});\n}\nsetResult(d);","search_url":"https://www.ysgc.cc/index.php/ajax/suggest?mid=1&wd=**&limit=500;get;utf-8;{User-Agent@Mobile","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1.title&&Text;p.data,0&&Text;p.data,2&&Text;p.data,3&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&data-original',//图片\n url:'.lazyload&&data-original',//可以是影片链接，或者图片也行\n desc:'span.data&&Text',//一般主演，地区，影片评分等描述\n tabs:'.nav-tabs&&li',//线路\n lists:'.sort-list,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n};\n//eval(JSON.parse(request('hiker://page/lazy1')).rule);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);\r\n//二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/ke/167.png"},{"last_chapter_rule":"","pageList":[],"title":"麒麟D♔","author":"道长&蓝莓果酱UX","version":2,"type":"video","url":"https://www.viplanguang.com/index.php/vod/show/id/20/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&.module-item;.lazyloaded&&alt;img&&data-src;.module-item-text&&Text;a&&href.js:input +'#immersiveTheme#'\";\nvar page = MY_URL.match(/(.*)\\/(.*?).html/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n  一级分类: 'body&&.library-list',\n        子分类: 'body&&a:not(:matches(直播))',\n}]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true);","search_url":"https://www.viplanguang.com/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\r\nrequire(config.模板);\r\nlet parse={\n    title:'.video-info-items,1&&Text;.video-info-aux&&Text',\n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src',\n    desc: '.sqjj_a&&Text',\n    tabs:'.module-tab-content,0&&.tab-item',\n    lists:'body&&.sort-item,#id&&a',\n    tab_id:'',\r\n};\r\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/4.png"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"解析","path":"lazy","rule":"evalPrivateJS('fWk2NgyDJ6xpt0xh/qrNu2gMjkQQaMyqHKTzhxCM7ONIHv8tpbbCoPoouIzjqGA68ExRrhn2vPa1zCvVFKobZGI4SPZ5SIvvQfq1DsA9SV95xqbPHESnmxISY2lmoStMXgt+6XEkynnPfHKcWc/7m+NmAXFzt+3WFvRDKd5u2QE1HPUWVesJxYq8iecAV2s+PDsbPJkpKMDxolqxbCYERXnagUkHma7IPyQydcGC/c80nv2Joe02LHpgO2UsaF2qego7PyZ7FcG0RM5rXu8+VvrPRAdoIqOmVzSRH6X9/3xX33MkHU9soTGwnSVj/3IvOHtYmNdo60hi7guRhrPESDr7jklZQZQZHGQZGJGXolP7+6M408+hTBGoT9zVgcfJ9vChnGO1cMuLDiHeBVUu45HhuNZ7Hn6x10ATZ6UK/tI532N6vfgTodecZr8rmCps4NCJ1vMicQcWkMz2QmN6YCXmtwXSpNHhnLvqqfjrdOMNJfwjRi+qBsJilyj7p7PjS/svQlOeAf0QFIVYAAI8591vwJ0+ss7iGJjrdowQHa8vkz/3jBCA1ZN5UXS15xq59RR9H9GRJerbvI1ilzpflvfPKgw/Olb4fEenfayrJJDVDvFX6fd9Ef175xcuP47P5Thzi4NhW366qW2lGayo3NkFAI8250J04eCqnGKe9Y9O2JXoIvhb6KZ+605tjjb8DSgkO5os5lxkCaqShL4s6yMm4Bmf8bWkRSkJ3r9DElhMWEk/co8++Qx9eFuCFVA6xfF4Ge+gLTf+4fKxc9cDyPII1o4fSRdJPiYdwzJW7fYkMNY5hfZtGWbHO+VqTUkmkgxYaOGUwKeyZ0Bfpn7V9RenpOMSg0tb1xqLPwfGZCyPsMzLSD0h51onOGFzIaOki71BC7E5j+Lv3a5juYZXVe+QxJwhKM1zsa993lpNhdQ29MlU1JrsPbhfZilNtHMJXL7qXqeelkt7ADssrwQqlfgd+q+osM8rOfxazX2TkQQBO9QFCKbo9mKOVQ13qN8zwHLpcnHx/j0EMo73rPCGjLgchZIOrdhGrIkrg2xbUH15Bi8skC6CRWCnfPcNjpGXiJ3vXIiIArc5DqubPsM4FiMQ1u2+rxmpz5aHmx+Ej1ZhiEe6fpri1tbGVc56jLdL3t7dB5QTZKVEwRifNb4hBfpR+IaBnRfhB6TaH3Em0Vnyh57DKcTu64nF/Jt9EkZlXiyTMpmZnwR1n/vJ6dgs5pE1ZZ/RXdB9HNjM9eF/X/TN1HYVTnBQ7zjWkPW0+8QHW5hvcZ2TGV4EXEG15BOOk24mjGtKvV9jhklYeTpDV+sniRgdZAubwhfL3c2h27D6diVRi+apv/zxrnxO+edgVbMBNA3t5tht/gOaKWulBYmfpTvTFxDgFNeMnGlURwObc3MVgyUxtltJUp+g6CRL9jcUudErWg9uG+lluou7MM32nROE0L9pwYl/DCv9hpEWXf0AVMnw5NxqGmBlXENLQ4xZl+A8mjsJJHjhD6rhwmr94jCZpXjCxk+vkWa8tEFKkfk+U7L3F2pDbbcEq7HFWobzMmRYnHFrJcaBr3TExSTz/+Qfn5DX0TzrIK425DGZ9CNW0LH4Wxjf2lwlxMtOKeGF+2W3tJ0Lg+rVaZXPukaFepSAPTeDApUIlS1Yy3EmKgwWvIfSgd1SthXaQkuWJPBi+VVszNtyTJAX4MxYaTtrbkArXzd7005gARCT2koDFYLex6nsDjX295FVLYNYVPCidsnxiLCOSoxDeDteZieKGDMm/i4svuzSkUhjnA/Fbd86GZmyzomIiQMDjtuNY2G1rgeGGDSshF5w6ZE+jIW84cGkqAZ+Y2k6VmBL8NQT2Ms2oOwTSWULNko8Zp0jC1bONNXExmKVQSG/g+m/2N3gGKe2kjkcUXe1QkjrlZ0YN3FrR8DJr1UhfyChBe2GCItbnrkIvJNV5aiyFYnYKhSQcZCsp53xIOf5iNLBT++VEBv6TJuay8gFZNsw7NzKtf50VFe+28Mko3iRgyivGAP3zyoMPzpW+HxHp32sqySQdUR7hlie9UeTZqpzkqZ676A8Qq96hadkCFOfz/N+6MIOSo2Zme87EcE9H9B87elC1xQkPf6IxLQUmZoByqQgQFX2p2obP8tImcXEi9DyQHE=')"}],"title":"555电影网.dr","author":"道长","version":5,"type":"video","url":"hiker://empty##https://www.5dy5.cc/vodtype/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nlet parStr=\".myui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/(.*)-(.*?).html/)[2];\ntrue_url = 获取正确链接();\n//var html = 获取源码(true_url,MOBILE_UA)\nlog(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.dropdown-box&&ul',\n        子分类: 'body&&li:not(:matches(首页|福利|国外电视|留言求片|APP下载))',\n        分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n    },{\n        一级分类: 'body&&.myui-screen__list',\n        子分类: 'body&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL = MY_URL.split('##')[1];\n//log(MY_URL);\nrequire(config.模板);\nlet html = fetch(MY_URL, {\n    headers: {\n        \"User-Agent\": MOBILE_UA,\n        \"Cookie\": \"searchneed=ok\"\n    },\n    method: \"GET\"\n});\nparStr = \".myui-vodlist__media&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href;.detail&&p,3&&Text\";\n一级(parStr, true, null, null, html);","search_url":"hiker://empty##https://www.5dy5.cc/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: 'h1.title&&Text;p.data&&Text',\n    img: '.lazyload&&data-original',\n    url: '.lazyload&&data-original',\n    desc: 'p.data,1&&Text;p.data,2&&Text;p.data,3&&Text',\n    content: 'span.data&&Text',\n    tabs: '.nav-tabs&&li',\n    lists: '.myui-content__list,#id&&a',\n    tab_id: '',\n}\nvar 二级处理 = {\n    图片点击: function(u) {\n        return u + '#.png'\n    }\n};\neval(JSON.parse(request('hiker://page/lazy')).rule);\nvar 动态最新章节 = true;\nvar 倒序 = false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[{\"col_type\":\"movie_3\",\"name\":\"解析\",\"path\":\"lazy\",\"rule\":\"evalPrivateJS('fWk2NgyDJ6xpt0xh/qrNu2gMjkQQaMyqHKTzhxCM7ONIHv8tpbbCoPoouIzjqGA68ExRrhn2vPa1zCvVFKobZGI4SPZ5SIvvQfq1DsA9SV95xqbPHESnmxISY2lmoStMXgt+6XEkynnPfHKcWc/7m+NmAXFzt+3WFvRDKd5u2QE1HPUWVesJxYq8iecAV2s+PDsbPJkpKMDxolqxbCYERXnagUkHma7IPyQydcGC/c80nv2Joe02LHpgO2UsaF2qego7PyZ7FcG0RM5rXu8+VvrPRAdoIqOmVzSRH6X9/3xX33MkHU9soTGwnSVj/3IvOHtYmNdo60hi7guRhrPESDr7jklZQZQZHGQZGJGXolP7+6M408+hTBGoT9zVgcfJ9vChnGO1cMuLDiHeBVUu45HhuNZ7Hn6x10ATZ6UK/tI532N6vfgTodecZr8rmCps4NCJ1vMicQcWkMz2QmN6YCXmtwXSpNHhnLvqqfjrdOMNJfwjRi+qBsJilyj7p7PjS/svQlOeAf0QFIVYAAI8591vwJ0+ss7iGJjrdowQHa8vkz/3jBCA1ZN5UXS15xq59RR9H9GRJerbvI1ilzpflvfPKgw/Olb4fEenfayrJJDVDvFX6fd9Ef175xcuP47P5Thzi4NhW366qW2lGayo3NkFAI8250J04eCqnGKe9Y9O2JXoIvhb6KZ+605tjjb8DSgkO5os5lxkCaqShL4s6yMm4Bmf8bWkRSkJ3r9DElhMWEk/co8++Qx9eFuCFVA6xfF4Ge+gLTf+4fKxc9cDyPII1o4fSRdJPiYdwzJW7fYkMNY5hfZtGWbHO+VqTUkmkgxYaOGUwKeyZ0Bfpn7V9RenpOMSg0tb1xqLPwfGZCyPsMzLSD0h51onOGFzIaOki71BC7E5j+Lv3a5juYZXVe+QxJwhKM1zsa993lpNhdQ29MlU1JrsPbhfZilNtHMJXL7qXqeelkt7ADssrwQqlfgd+q+osM8rOfxazX2TkQQBO9QFCKbo9mKOVQ13qN8zwHLpcnHx/j0EMo73rPCGjLgchZIOrdhGrIkrg2xbUH15Bi8skC6CRWCnfPcNjpGXiJ3vXIiIArc5DqubPsM4FiMQ1u2+rxmpz5aHmx+Ej1ZhiEe6fpri1tbGVc56jLdL3t7dB5QTZKVEwRifNb4hBfpR+IaBnRfhB6TaH3Em0Vnyh57DKcTu64nF/Jt9EkZlXiyTMpmZnwR1n/vJ6dgs5pE1ZZ/RXdB9HNjM9eF/X/TN1HYVTnBQ7zjWkPW0+8QHW5hvcZ2TGV4EXEG15BOOk24mjGtKvV9jhklYeTpDV+sniRgdZAubwhfL3c2h27D6diVRi+apv/zxrnxO+edgVbMBNA3t5tht/gOaKWulBYmfpTvTFxDgFNeMnGlURwObc3MVgyUxtltJUp+g6CRL9jcUudErWg9uG+lluou7MM32nROE0L9pwYl/DCv9hpEWXf0AVMnw5NxqGmBlXENLQ4xZl+A8mjsJJHjhD6rhwmr94jCZpXjCxk+vkWa8tEFKkfk+U7L3F2pDbbcEq7HFWobzMmRYnHFrJcaBr3TExSTz/+Qfn5DX0TzrIK425DGZ9CNW0LH4Wxjf2lwlxMtOKeGF+2W3tJ0Lg+rVaZXPukaFepSAPTeDApUIlS1Yy3EmKgwWvIfSgd1SthXaQkuWJPBi+VVszNtyTJAX4MxYaTtrbkArXzd7005gARCT2koDFYLex6nsDjX295FVLYNYVPCidsnxiLCOSoxDeDteZieKGDMm/i4svuzSkUhjnA/Fbd86GZmyzomIiQMDjtuNY2G1rgeGGDSshF5w6ZE+jIW84cGkqAZ+Y2k6VmBL8NQT2Ms2oOwTSWULNko8Zp0jC1bONNXExmKVQSG/g+m/2N3gGKe2kjkcUXe1QkjrlZ0YN3FrR8DJr1UhfyChBe2GCItbnrkIvJNV5aiyFYnYKhSQcZCsp53xIOf5iNLBT++VEBv6TJuay8gFZNsw7NzKtf50VFe+28Mko3iRgyivGAP3zyoMPzpW+HxHp32sqySQdUR7hlie9UeTZqpzkqZ676A8Qq96hadkCFOfz/N+6MIOSo2Zme87EcE9H9B87elC1xQkPf6IxLQUmZoByqQgQFX2p2obP8tImcXEi9DyQHE=')\"}]","icon":"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/555电影.png"},{"last_chapter_rule":"","pageList":[],"title":"1080迷.dr","author":"晓&道长","version":2,"type":"video","url":"hiker://empty##https://www.1080mi.com/v_show/2--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\n//log('cookie:'+getMyVar('cookie'));\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".module-items&&.module-item;a&&title;.lazyloaded&&data-src;.module-item-text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?)---\\.html/)[2];\n//log(page);\n//true_url=getMyVar('header.url',MY_URL);\ntrue_url = 获取正确链接();\nlet html=获取源码(true_url);\nif(/需要输入验证码/.test(html)){\n    showLoading(\"验证码识别中，请稍等\");\n    let vcode=获取验证码('https://www.mozhatu.com/index.php/verify/index.html?');\n    log('获取验证码:'+vcode);\n    let ret=提交验证码('https://www.mozhatu.com/index.php/ajax/verify_check?type=show&verify='+vcode);\n    hideLoading();\n    if(/\"msg\"/.test(ret)&&/\"ok\"/.test(ret)){\n       // refreshPage(true);\n        html=获取源码(true_url);\n    }else{\n        log('验证未通过:'+ret)\n    }\n}\nlet cates=打造动态分类([{\n        一级分类: 'body&&.library-box',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nvar d = [];\nvar res = {};\nvar list = parseDomForArray(getResCode(), 'body&&.module-list&&.module-search-item');\nfor (var j in list) {\n    d.push({\n        title: parseDomForHtml(list[j], 'img&&alt'),\n        desc: parseDomForHtml(list[j], '.video-serial&&Text'),\n        content: parseDomForHtml(list[j], '.video-info-items,1&&Text').substring(0, 19) + '\\n' + parseDomForHtml(list[j], '.video-info-items,2&&Text'),\n        img: parseDom(list[j], 'img&&data-src') + \"@Referer=\",\n        url: parseDom(list[j], 'a&&href').replace('play', 'detail').replace('-1-1', '') + \"#immersiveTheme#\"\n    });\n}\nres.data = d;\nsetSearchResult(res);","search_url":"https://www.1080mi.com/v_search/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.video-info-header&&h1&&Text;.video-info-aux&&Text;.video-info-items,0&&Text',\n img:'.module-item-pic&&img&&data-src',//图片\n url:'.module-item-pic&&a&&href',//可以是影片链接，或者图片也行\n desc:'.video-info-items,1&&Text;.video-info-items,2&&Text;.video-info-items,3&&Text',//一般主演，地区，影片评分等描述\n content:'body&&.video-info-item,5&&Text.js:input.replace(\"收起\",\"\")',\n tabs:'body&&.module-tab-content&&.module-tab-item',//线路\n lists:'body&&.sort-item,#id&&a',//列表\n tab_id:'',//线路id，可不填\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var 验证码='https://www.mozhatu.com/index.php/vod/show/id/101.html';\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"http://android-artworks.25pp.com/fs08/2021/09/08/8/110_99b84207f8edd19c924c390634e006ff_con_100x100.png"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"动态分类","path":"categories-header","rule":"/**\n * 本地网页插件链接 hiker://files/rules/js/categories-header.js\n * 子页面链接 hiker://page/categories-header\n * 道长仓库链接 http://hiker.nokia.press/hikerule/rulelist.json?id=2705\n * 码云 Gitee 链接 https://gitee.com/reborn0/HikerRules/raw/master/plugins/categories-header.js\n */\n/**\n * Object.assign 用法参考链接\n *\n * 1.https://www.daimajiaoliu.com/daima/47139a9e7100407\n * 2.https://segmentfault.com/a/1190000011778875\n * 3.https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n */\n// 利用 Symbol 实现私有变量和私有方法，外界不可访问（参考链接2）\nconst symbolMap = {\n    // checkParams: Symbol('checkParams'),\n    mLayout: Symbol('mLayout'),\n    true_url: Symbol('true_url'),\n    mPage: Symbol('mPage'),\n    src: Symbol('src'),\n    ruleObjList: Symbol('ruleObjList'),\n    mFold: Symbol('mFold'),\n    mFoldInnerEnable: Symbol('mFoldInnerEnable'),\n    mFoldIndex: Symbol('mFoldIndex'),\n    mFoldLayout: Symbol('mFoldLayout'),\n    mColor: Symbol('mColor'),\n    mTag: Symbol('mTag'),\n}\n\nfunction CategoriesHeader(color) {\n    // 'use strict';\n    // ...\n    // this[symbolMap.listRule] = []\n    // this[symbolMap.subListRule] = []\n    this[symbolMap.mColor] = color || \"#FA7298\";\n    this[symbolMap.ruleObjList] = []\n    this.VARMAP = {\n        CATEGORY: \"header.category\",\n        URL: \"header.url\",\n        FOLD: \"header.fold\",\n    }\n    this[symbolMap.mFoldLayout] = {\n        injectIndex: 1\n    }\n    this[symbolMap.mFoldIndex] = 1\n}\n\nObject.assign(CategoriesHeader.prototype, {\n    // Override 构造方法，相当于 function.prototype.constructor = (...) => {...}，new function() 的时候会自动执行\n    constructor: CategoriesHeader,\n    // 定义私有方法\n    VERSION: 202112011900,\n    checkParams() {\n        if (!this[symbolMap.mLayout]) {\n            throw new Error(\"请调用 layout(d) 传入当前界面\")\n        }\n        if (!(this[symbolMap.src] || this[symbolMap.true_url])) {\n            throw new Error(\"请调用 trueUrl(url) 传入当前分类的链接或调用 html(mHtml) 传入当前分类页面的源码\")\n        }\n        if (!this[symbolMap.mPage]) {\n            throw new Error(\"请调用 page(mPage) 传入当前页数\")\n        }\n        if (this[symbolMap.ruleObjList].length < 1) {\n            throw new Error(\"请调用相关方法传入定位规则\")\n        }\n        if (!this[symbolMap.mFold]) {\n            this[symbolMap.mFold] = '0'\n        }\n    },\n    layout(mLayout) {\n        this[symbolMap.mLayout] = mLayout\n        return this\n    },\n    trueUrl(url) {\n        this[symbolMap.true_url] = url\n        return this\n    },\n    page(mPage) {\n        if (typeof (mPage) === 'string') {\n            mPage = parseInt(mPage)\n        }\n        this[symbolMap.mPage] = mPage\n        return this\n    },\n    html(mSrc) {\n        this[symbolMap.src] = mSrc\n        return this\n    },\n    list(rule) {\n        if (this[symbolMap.ruleObjList].length > 0) {\n            throw new Error(\"list(rule) add(ruleObj) 只能二选一！\")\n        }\n        this[symbolMap.ruleObjList] = [{}]\n        this[symbolMap.ruleObjList][0].listRule = rule\n        this[symbolMap.ruleObjList][0]['一级分类'] = rule\n        return this\n    },\n    subList(rule) {\n        if (this[symbolMap.ruleObjList].length > 1) {\n            throw new Error(\"subList(rule) add(ruleObj) 只能二选一！\")\n        }\n        if (!this[symbolMap.ruleObjList][0] || (!this[symbolMap.ruleObjList][0].listRule && !this[symbolMap.ruleObjList][0]['一级分类'])) {\n            throw new Error(\"请先调用 list(rule) 或 一级分类(rule) 定位一级分类\")\n        }\n        this[symbolMap.ruleObjList][0].subListRule = rule\n        this[symbolMap.ruleObjList][0]['子分类'] = rule\n        return this\n    },\n    title(rule) {\n        if (this[symbolMap.ruleObjList].length > 1) {\n            throw new Error(\"title(rule) add(ruleObj) 只能二选一！\")\n        }\n        if (!this[symbolMap.ruleObjList][0] || (!this[symbolMap.ruleObjList][0].listRule && !this[symbolMap.ruleObjList][0]['一级分类'])) {\n            throw new Error(\"请先调用 list(rule) 或 一级分类(rule) 定位一级分类\")\n        }\n        this[symbolMap.ruleObjList][0].titleRule = rule\n        this[symbolMap.ruleObjList][0]['分类标题'] = this[symbolMap.ruleObjList][0].titleRule\n        return this\n    },\n    url(rule) {\n        if (this[symbolMap.ruleObjList].length > 1) {\n            throw new Error(\"url(rule) add(ruleObj) 只能二选一！\")\n        }\n        if (!this[symbolMap.ruleObjList][0] || (!this[symbolMap.ruleObjList][0].listRule && !this[symbolMap.ruleObjList][0]['一级分类'])) {\n            throw new Error(\"请先调用 list(rule) 或 一级分类(rule) 定位一级分类\")\n        }\n        this[symbolMap.ruleObjList][0].urlRule = rule\n        this[symbolMap.ruleObjList][0]['分类链接'] = this[symbolMap.ruleObjList][0].urlRule\n        return this\n    },\n    /**\n     * 是否开启折叠功能\n     *\n     * @param enabled true 表示开启，false 表示禁用\n     * @returns {CategoriesHeader}\n     */\n    foldInner(enabled) {\n        if (!(typeof (enabled) === 'boolean')) {\n            throw new Error(\"请传入 true 或 false 表示开启或关闭折叠功能！\")\n        }\n        this[symbolMap.mFoldInnerEnable] = enabled\n        return this\n    },\n    /**\n     * 从第 index 行开始折叠\n     *\n     * @param index 开始折叠的行数\n     * @returns {CategoriesHeader}\n     */\n    foldIndex(index) {\n        if (!(typeof (index) === 'number')) {\n            throw new Error(\"开始折叠行请传入数字！\")\n        }\n        if (index < 1) {\n            throw new Error(\"开始折叠行请传入大于 0 的整数！\")\n        }\n        this[symbolMap.mFoldIndex] = index || 1;\n        return this\n    },\n    /**\n     * 折叠按钮的界面\n     *\n     * @param layout 与 d.push 结构一致，\n     *        例：{ title:\"标题1\", url:\"xxx\", col_type:\"scroll_button\" };\n     *        参数采用可选覆盖模式，不写的参数则使用默认;\n     *        比如传入 { col_type:\"text_1\" }，那最终结果就是 { title:\"标题1\", url:\"xxx\", col_type:\"text_1\" }\n     * @returns {CategoriesHeader}\n     */\n    foldLayout(layout) {\n        if (typeof layout === 'object') {\n            let keys = Object.keys(layout)\n            let injectIndex = layout.injectIndex || layout['折叠按钮插入行']\n            if (layout.title || layout.url || layout.col_type || injectIndex) {\n                for (let i = 0; i < keys.length; i++) {\n                    const key = keys[i]\n                    this[symbolMap.mFoldLayout][key] = layout[key];\n                }\n            } else {\n                throw new Error(\"请传入正确的折叠界面元素！\")\n            }\n            // injectIndex 折叠按钮插入第 injectIndex 行\n            if (injectIndex) {\n                if (!(typeof (injectIndex) === 'number')) {\n                    throw new Error(\"折叠按钮插入行请传入数字！\")\n                }\n                if (injectIndex < 1) {\n                    throw new Error(\"折叠按钮插入行请传入大于 0 的整数！\")\n                }\n                if (injectIndex > this[symbolMap.mFoldIndex]) {\n                    throw new Error(\"折叠按钮插入行不得大于显示折叠行数！请调用 .foldIndex(index) 或 .第几行开始折叠(index) 传入正确的显示折叠行数\")\n                }\n                this[symbolMap.mFoldLayout].injectIndex = injectIndex || 1;\n            }\n        } else {\n            throw new Error(\"请传入正确的折叠界面元素！\")\n        }\n        return this;\n    },\n    // 当前是否折叠\n    fold(isFold) {\n        if (typeof (isFold) === 'string') {\n            isFold = isFold === '1'\n        }\n        if (isFold) {\n            this[symbolMap.mFold] = '1';\n        } else {\n            this[symbolMap.mFold] = '0';\n        }\n        return this\n    },\n    color(mColor) {\n        this[symbolMap.mColor] = mColor\n        return this\n    },\n    tag(mTag) {\n        this[symbolMap.mTag] = mTag\n        return this\n    },\n    add(ruleObj) {\n        // log($.stringify(ruleObj))\n        if (ruleObj.constructor === Array) {\n            this[symbolMap.ruleObjList] = this[symbolMap.ruleObjList].concat(ruleObj)\n        } else {\n            this[symbolMap.ruleObjList].push(ruleObj)\n        }\n        return this;\n    },\n    evalJSRule(item, jsRule) {\n        let rule = jsRule.replace(\"@js:\", \"\")\n        rule = rule.trim()\n        // log($.stringify(rule))\n        let input = item\n        if (rule.startsWith(\"(\")) {\n            eval('result = ' + rule)\n        } else {\n            /**\n             * 还原成 $.toString(...) 的最终结果，达到最终处理方式跟上面的 if 一致的目的\n             */\n            eval('result = ' + '(() => {' + rule + '})()')\n        }\n        return (result || '')\n    },\n    getTitle(src, category) {\n        let title = ''\n        let titleRule = category.titleRule || 'a&&Text'\n        if (titleRule.startsWith(\"@js:\")) {\n            title = this.evalJSRule(src, titleRule)\n        } else {\n            title = parseDomForHtml(src, titleRule)\n        }\n        return title || \"\";\n    },\n    getUrl(src, category) {\n        let url = ''\n        let urlRule = category.urlRule || 'a&&href'\n        if (typeof urlRule === 'object') {\n            let mUrlRule = urlRule.rule || urlRule['解析规则'] || 'a&&href';\n            if (mUrlRule.startsWith(\"@js:\")) {\n                url = this.evalJSRule(src, mUrlRule);\n            } else {\n                let parse = parseDom;\n                if (urlRule.parseOption) {\n                    switch (urlRule.parseOption) {\n                        case \"parseDom\":\n                        case \"pd\":\n                            parse = parseDom;\n                            break;\n                        case \"parseDomForHtml\":\n                        case \"pdfh\":\n                            parse = parseDomForHtml;\n                            break;\n                        default:\n                            parse = parseDom;\n                    }\n                } else if (urlRule[\"解析方法\"]) {\n                    switch (urlRule[\"解析方法\"]) {\n                        case \"parseDom\":\n                        case \"pd\":\n                            parse = parseDom;\n                            break;\n                        case \"parseDomForHtml\":\n                        case \"pdfh\":\n                            parse = parseDomForHtml;\n                            break;\n                        default:\n                            parse = parseDom;\n                    }\n                }\n                url = parse(src, mUrlRule);\n            }\n            if (urlRule.dealUrl) {\n                url = urlRule.dealUrl(url)\n            } else if (urlRule['二次处理']) {\n                url = urlRule['二次处理'](url)\n            }\n        } else {\n            if (urlRule.startsWith(\"@js:\")) {\n                url = this.evalJSRule(src, urlRule);\n            } else {\n                url = parseDom(src, urlRule);\n            }\n        }\n        return url || \"\";\n    },\n    build() {\n        // 检测是否传入需要的参数\n        this.checkParams()\n        // 每一个分类的唯一标识\n        let mTag = this[symbolMap.mTag] || \"\"\n        //翻页 需要根据实际替换\n        const html = this[symbolMap.src] || request(this[symbolMap.true_url])\n        const empty = \"hiker://empty\"\n        //获取列表\n        const categories = []\n        this[symbolMap.ruleObjList].map(ruleObj => {\n            let list = []\n            let listRule = ruleObj.listRule || ruleObj[\"一级分类\"]\n            if (listRule.startsWith(\"@js:\")) {\n                // log($.stringify(listRule))\n                list = this.evalJSRule(html, listRule)\n            } else {\n                list = parseDomForArray(html, listRule)\n            }\n            // log(list)\n            list.map(category => {\n                categories.push({\n                    list: category,\n                    subListRule: ruleObj.subListRule || ruleObj[\"子分类\"],\n                    titleRule: ruleObj.titleRule || ruleObj[\"分类标题\"],\n                    urlRule: ruleObj.urlRule || ruleObj[\"分类链接\"],\n                });\n            })\n        })\n\n        // log($.stringify(categories))\n\n        let init_cate = []\n        for (let i = 0; i < 20; i++) {\n            init_cate.push(\"0\")\n        }\n\n        const cate_temp_json = getMyVar(mTag + this.VARMAP.CATEGORY, JSON.stringify(init_cate))\n        const cate_temp = JSON.parse(cate_temp_json)\n\n        if (this[symbolMap.mPage] === 1) {\n\n            categories.forEach((category, index) => {\n\n                // 折叠 UI\n                if (this[symbolMap.mFoldInnerEnable] && this[symbolMap.mFoldLayout].injectIndex === (index+1)) {\n                    let foldLayout = {\n                        title: this[symbolMap.mFoldLayout].title || (this[symbolMap.mFold] === '1' ? '““””<b><span style=\"color: #FF0000\">∨</span></b>' : '““””<b><span style=\"color: #1aad19\">∧</span></b>'),\n                        url: this[symbolMap.mFoldLayout].url || $(\"hiker://empty#noHistory#\").lazyRule((params) => {\n                            putMyVar(params.mTag + params.VARMAP.FOLD, getMyVar(params.mTag + params.VARMAP.FOLD, params.isFold) === '1' ? '0' : '1')\n                            refreshPage(false);\n                            return \"hiker://empty\"\n                        }, {\n                            mTag: mTag,\n                            isFold: this[symbolMap.mFold],\n                            VARMAP: this.VARMAP\n                        }),\n                        col_type: this[symbolMap.mFoldLayout].col_type || \"scroll_button\",\n                    }\n                    this[symbolMap.mLayout].push(foldLayout)\n                }\n\n                //具体列表下的分类\n                let sub_categories = [];\n                if (category.subListRule.startsWith(\"@js:\")) {\n                    sub_categories = this.evalJSRule(category.list, category.subListRule)\n                } else {\n                    sub_categories = parseDomForArray(category.list, category.subListRule);\n                }\n                if (index < (this[symbolMap.mFoldIndex] || 1)) {\n                    sub_categories.forEach((item, key) => {\n                        let title = this.getTitle(item, category)\n                        let url = this.getUrl(item, category)\n\n                        this[symbolMap.mLayout].push({\n                            title: key.toString() === cate_temp[index] ? '““””<b><font color=' + this[symbolMap.mColor] + '>' + title + ' </font></b>' : title,\n                            url: $(url).lazyRule((params) => {\n                                let new_cate = []\n                                if (params.index === 0) {\n                                    params.cate_temp.forEach((cate, index) => {\n                                        new_cate.push(index === 0 ? params.key.toString() : \"0\")\n                                    });\n                                } else {\n                                    params.cate_temp[params.index] = params.key.toString()\n                                }\n                                putMyVar(params.tag + params.VARMAP.CATEGORY, JSON.stringify(params.index === 0 ? new_cate : params.cate_temp))\n                                putMyVar(params.tag + params.VARMAP.URL, input)\n                                refreshPage(true)\n                                return \"hiker://empty\"\n                            }, {\n                                cate_temp: cate_temp,\n                                index: index,\n                                VARMAP: this.VARMAP,\n                                tag: mTag,\n                                key: key,\n                                page: this[symbolMap.mPage],\n                            }),\n                            col_type: 'scroll_button',\n                        })\n                    })\n                    this[symbolMap.mLayout].push({\n                        col_type: \"blank_block\"\n                    });\n                } else if (this[symbolMap.mFold] === '0') {\n                    sub_categories.forEach((item, key) => {\n                        let title = this.getTitle(item, category)\n                        let url = this.getUrl(item, category)\n\n                        this[symbolMap.mLayout].push({\n                            title: key.toString() === cate_temp[index] ? '““””<b><font color=' + this[symbolMap.mColor] + '>' + title + ' </font></b>' : title,\n                            url: $(url).lazyRule((params) => {\n                                params.cate_temp[params.index] = params.key.toString()\n\n                                putMyVar(params.tag + params.VARMAP.CATEGORY, JSON.stringify(params.cate_temp))\n                                putMyVar(params.tag + params.VARMAP.URL, input)\n                                refreshPage(true)\n                                return \"hiker://empty\"\n                            }, {\n                                cate_temp: cate_temp,\n                                index: index,\n                                VARMAP: this.VARMAP,\n                                tag: mTag,\n                                key: key,\n                                page: this[symbolMap.mPage],\n                            }),\n                            col_type: 'scroll_button',\n                        })\n                    })\n                    this[symbolMap.mLayout].push({\n                        col_type: \"blank_block\"\n                    });\n                }\n            });\n        }\n    },\n\n    界面(layout) {\n        return this.layout(layout)\n    },\n    分类链接(trueUrl) {\n        return this.trueUrl(trueUrl);\n    },\n    页码(page) {\n        return this.page(page);\n    },\n    源码(html) {\n        return this.html(html);\n    },\n    定位一级分类(list) {\n        return this.list(list);\n    },\n    定位子分类(subList) {\n        return this.subList(subList);\n    },\n    定位分类标题(title) {\n        return this.title(title);\n    },\n    定位分类链接(url) {\n        return this.url(url);\n    },\n    开启内置折叠功能() {\n        return this.foldInner(true);\n    },\n    关闭内置折叠功能() {\n        return this.foldInner(false);\n    },\n    第几行开始折叠(index) {\n        return this.foldIndex(index);\n    },\n    折叠按钮样式(layout) {\n        return this.foldLayout(layout)\n    },\n    折叠(fold) {\n        return this.fold(fold);\n    },\n    选中的分类颜色(color) {\n        return this.color(color);\n    },\n    唯一标识(mTag) {\n        return this.tag(mTag)\n    },\n    添加分类定位(ruleObj) {\n        return this.add(ruleObj);\n    },\n    开始打造分类() {\n        return this.build();\n    },\n\n})\n$.exports = new CategoriesHeader();\n$.exports\n"},{"col_type":"text_1","name":"链接处理工具","path":"url-processor","rule":"/**\n * 本地网页插件链接 hiker://files/rules/js/UrlProcessor.js\n * 子页面链接 hiker://page/url-processor\n * 道长仓库链接 http://hiker.nokia.press/hikerule/rulelist.json?id=2849\n * 码云 Gitee 链接 https://gitee.com/reborn0/HikerRules/raw/master/plugins/UrlProcessor.js\n */\nfunction UrlProcessor() {\n    this.params = {}\n    this.regexMap = [\n        {\n            reg: '(vodtype|videot)\\\\/\\\\w+',\n            exec: () => {\n                return this.params.url\n                    .replace(/-\\d+.html/, '-' + this.params.page + '.html')\n                    .replace(/((vodtype|videot)\\/\\w+).html/, '$1-' + this.params.page + '.html')\n            }\n        },\n        {\n            reg: '\\\\/?[\\\\w\\\\d]+-.*?-.*?-.*?-.*?-.*?-.*?-.*?-\\\\d*---\\\\d*.html',\n            exec: () => {\n                return this.params.url\n                    .replace(/\\d*(---.html)/, this.params.page + '$1')\n                    .replace(/(---\\d+.html)/, this.params.page + '$1'); // 拼接页码\n            }\n        },\n        {\n            reg: '((\\\\/vod\\\\/show)?(\\\\/area\\\\/[\\\\w\\\\d%]+)?(\\\\/by\\\\/[\\\\w\\\\d%]+)?(\\\\/id\\\\/\\\\d+)?(\\\\/letter\\\\/[\\\\w\\\\d%]+)?)(\\\\/page\\\\/\\\\d+)?(\\\\/year\\\\/\\\\d+)?\\\\.html',\n            exec: () => {\n                let regExp = /((\\/vod\\/show)?(\\/area\\/[\\w\\d%]+)?(\\/by\\/[\\w\\d%]+)?(\\/id\\/\\d+)?(\\/letter\\/[\\w\\d%]+)?)(\\/page\\/\\d+)?(\\/year\\/\\d+)?\\.html/\n                return this.params.url\n                    .replace(regExp, '$1' + (\"/page/\" + this.params.page) + '$8' + \".html\")\n            }\n        }\n    ]\n}\n\nObject.assign(UrlProcessor.prototype, {\n    constructor: UrlProcessor,\n    checkParams() {\n        if (!this.params.url) {\n            throw new Error(\"请先调用 .baseUrl(url) 传入链接进行初始化!\")\n        }\n        if (!this.params.page) {\n            throw new Error(\"请先调用 .page(page) 传入页码进行初始化!\")\n        }\n    },\n    baseUrl(url){\n        this.params.url = url\n        return this\n    },\n    page(page){\n        this.params.page = page\n        return this\n    },\n    addExtra(regExp) {\n        if (regExp.constructor === Array) {\n            this.regexMap = this.regexMap.concat(regExp)\n        } else {\n            this.regexMap.push(regExp)\n        }\n        return this;\n    },\n    debug() {\n        this.params.debug = true\n        return this;\n    },\n    exec() {\n        this.checkParams()\n        let true_url = ''\n        for (let i = 0; i < this.regexMap.length; i++) {\n            let regObj = this.regexMap[i];\n            let urlExp = regObj.reg;\n            if (typeof urlExp === 'string') {\n                urlExp = new RegExp(urlExp)\n            }\n            if (urlExp.test(this.params.url)) {\n                if (this.params.debug) {\n                    log(urlExp.toString())\n                }\n                true_url = regObj.exec();\n                break;\n            }\n        }\n        if (true_url) {\n            return true_url;\n        } else {\n            return this.params.url\n        }\n    },\n    获取处理结果() {\n        return this.exec()\n    },\n    链接(url) {\n        return this.baseUrl(url)\n    },\n    页码(page) {\n        return this.page(page)\n    },\n    插入新处理规则(regExp) {\n        return this.addExtra(regExp)\n    },\n    调试模式() {\n        return this.debug();\n    }\n})\n$.exports=new UrlProcessor()\n$.exports\n"},{"col_type":"text_1","name":"一级公用模板","path":"yiji","rule":"/**\n * 建议复制粘贴到一个 js 文件，然后上传仓库或者码云，之后都作为依赖进行 requireCache 调用\n * 有能力者可修改一下自定义项再作为依赖 require\n */\nfunction 一级() {};\nObject.assign(一级.prototype, {\n    constructor: 一级,\n    test() {},\n    获取源码(url, header) {\n        return fetch(true_url, {\n            headers: header || {\n                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0)'\n            }\n        }) // 默认统一使用PC UA\n    },\n    获取正确链接(page, regex) {\n        let true_url = getMyVar('header.url', MY_URL);\n        let 链接处理工具 = $.require(config.链接处理工具依赖)\n        true_url = 链接处理工具\n            .链接(true_url)\n            .页码(page)\n            .插入新处理规则(regex || [])\n            .获取处理结果();\n        return true_url;\n    },\n    打造分类(ruleList) {\n        // '0' 为默认不折叠，'1' 为默认折叠\n        const 当前折叠状态 = getMyVar('header.fold', '1')\n\n        // 引入动态分类依赖\n        // 框架已经稳定，使用 requireCache 更佳\n        let htmlCategories = $.require(config.动态分类依赖)\n        htmlCategories.界面(d)\n            // .分类链接(true_url)\n            .源码(html)\n            .页码(page)\n            .添加分类定位(ruleList)\n            .开启内置折叠功能() // 必须\n            .折叠(当前折叠状态) // 必须\n            .选中的分类颜色('#1aad19')\n            .开始打造分类();\n    },\n    生成片单(d, html) {\n        let list = parseDomForArray(html, 列表);\n        for (let j in list) {\n            let img = parseDom(list[j], 图片);\n            d.push({\n                title: parseDomForHtml(list[j], 标题),\n                desc: parseDomForHtml(list[j], 描述),\n                img: img + '@Referer=' + img,\n                url: parseDom(list[j], 链接) + \"#immersiveTheme#\"\n            });\n        }\n    }\n})\n\n$.exports = new 一级();\n$.exports"},{"col_type":"movie_3","name":"二级.OLD","path":"erji-old","rule":"var d = [];\nvar html = getResCode();\nif (getResCode().indexOf('检测中') != -1) {\n    html = request(MY_URL + '?btwaf' + html.match(/btwaf(.*?)\\\"/)[1], {});\n}\n\nvar arts = pdfa(html, '.nav-tabs&&li');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(pdfh(arts[i], 'a&&Text'))\n}\n\nvar conts = pdfa(html, '.tab-content&&ul');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(pdfa(conts[i], 'ul&&li'))\n}\n\nd.push({\n    title: pdfh(html, '.data&&Text').replace('地区：', '   ').replace('年份：', '   ') + '\\n' + pdfh(html, '.data,1&&Text').substring(0, 15) + '\\n' + pdfh(html, '.data,2&&Text').substring(0, 15),\n    desc: pdfh(html, '.data,3&&Text').substring(0, 25),\n    pic_url: pd(html, '.lazyload&&data-original'),\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur'\n});\nvar lazy = `@lazyRule=.js:JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url`\n\nfunction setTabs(tabs, vari) {\n    for (var i = 0; i < tabs.length; i++) {\n\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\",\n            col_type: 'flex_button'\n        })\n    }\n    d.push({\n        col_type: 'blank_block'\n    });\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘正逆序：’’',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf==' - 逆序'){putVar({key:'shsort', value:' - 正序'});}else{putVar({key:'shsort', value:' - 逆序'})};refreshPage(false);'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'flex_button'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == ' - 逆序') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            d.push({\n                title: pdfh(list[j], 'Text'),\n                url: pd(list[j], 'a&&href') + lazy,\n                col_type: 'flex_button'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            d.push({\n                title: pdfh(list[j], 'a&&Text'),\n                url: pd(list[j], 'a&&href') + lazy,\n                col_type: 'flex_button'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);"}],"title":"可乐.dr","author":"道长&发粪涂墙","version":7,"type":"video","url":"hiker://empty##https://cokemv.me/vodshow/5--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nlet parStr=\".module-items&&a;a&&title;img&&data-original;.module-item-note&&Text;a&&href\";\nvar page = MY_PAGE;\ntrue_url=获取正确链接();\nvar html=获取源码(true_url,MOBILE_UA);\n//log(html)\nif (/\\?btwaf=/.test(html)) {\n    let url=MY_URL+'?btwaf'+html.match(/btwaf(.*?)\\\"/)[1];\n   // log(\"跳转到:\"+url);\n    html=获取源码(url,MOBILE_UA);\n}\n//log(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.navbar-items',\n        子分类: 'body&&a:not(:matches(首页|热榜|APP|留言板))',\n        分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n    },\n    {\n        一级分类: 'body&&.module-item-box',\n        子分类: 'body&&a',\n}]);\n设置(cates);\n一级(parStr,true,cates,null,html);","searchFind":"js:\nMY_URL=MY_URL.split(\"##\")[1];\n//log(MY_URL);\nrequire(config.模板);\n//log('cookie:'+getMyVar('cookie'));\nvar html=获取源码(MY_URL,MOBILE_UA);\n//log(\"源码:\"+html);\nif(/输入验证码/.test(html)){\n    showLoading(\"验证码识别中，请稍等\");\n    let vcode=获取验证码('https://cokemv.me/index.php/verify/index.html?');\n    let ret=提交验证码('https://cokemv.me/index.php/ajax/verify_check?type=search&verify='+vcode,false,false,{});\n    hideLoading();\n    log(ret)\n    if(/\"msg\"/.test(ret)&&/\"ok\"/.test(ret)){\n        html=获取源码(MY_URL,MOBILE_UA);\n        if(/搜索时间间隔/.test(html)){\n            setResult([{\n                title:'搜索验证已自动跳过，等待3秒后下拉刷新',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n        }\n    }else{\n        setResult([{\n                title:'验证未通过，请尝试重新搜索',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n    }\n}\nparStr=\".module-items&&.module-card-item;.module-card-item-title&&Text;img&&data-original;.module-item-note&&Text;a&&href;body&&.module-card-item-info&&Text\";\n一级(parStr,true,null,null,html);\n","search_url":"hiker://empty##https://cokemv.me/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n   title:'.module-info-main&&.module-info-tag&&Text;.module-info-item,1&&Text;.module-info-item,2&&Text',\n    img:'.lazyload&&data-original',\n    url:'.lazyload&&data-original',\n    desc:'.module-info-item,3&&Text;.module-info-item,4&&Text;.module-info-main,5&&Text',\n    content:'.module-info-item&&Text',\n    tabs:'#y-playList&&.tab-item',\n    lists:'body&&#panel1,#id&&a',\n    //tab_id:'a&&href',\n};\nvar 二级处理={\n    图片点击:function(input){\n        return input+'#.png'\n    }\n};\n//免嗅代码摘自墙佬可乐.Q\nvar lazy =$('').lazyRule(()=>{\n    return JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url+';{Referer@'+input+'&&User-Agent@Mozilla/5.0}'\n});\nvar 指定ua=MOBILE_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var 验证码='https://cokemv.me/index.php/verify/index.html?';\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[{\"col_type\":\"text_1\",\"name\":\"动态分类\",\"path\":\"categories-header\",\"rule\":\"/**\\n * 本地网页插件链接 hiker://files/rules/js/categories-header.js\\n * 子页面链接 hiker://page/categories-header\\n * 道长仓库链接 http://hiker.nokia.press/hikerule/rulelist.json?id=2705\\n * 码云 Gitee 链接 https://gitee.com/reborn0/HikerRules/raw/master/plugins/categories-header.js\\n */\\n/**\\n * Object.assign 用法参考链接\\n *\\n * 1.https://www.daimajiaoliu.com/daima/47139a9e7100407\\n * 2.https://segmentfault.com/a/1190000011778875\\n * 3.https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\\n */\\n// 利用 Symbol 实现私有变量和私有方法，外界不可访问（参考链接2）\\nconst symbolMap = {\\n    // checkParams: Symbol('checkParams'),\\n    mLayout: Symbol('mLayout'),\\n    true_url: Symbol('true_url'),\\n    mPage: Symbol('mPage'),\\n    src: Symbol('src'),\\n    ruleObjList: Symbol('ruleObjList'),\\n    mFold: Symbol('mFold'),\\n    mFoldInnerEnable: Symbol('mFoldInnerEnable'),\\n    mFoldIndex: Symbol('mFoldIndex'),\\n    mFoldLayout: Symbol('mFoldLayout'),\\n    mColor: Symbol('mColor'),\\n    mTag: Symbol('mTag'),\\n}\\n\\nfunction CategoriesHeader(color) {\\n    // 'use strict';\\n    // ...\\n    // this[symbolMap.listRule] = []\\n    // this[symbolMap.subListRule] = []\\n    this[symbolMap.mColor] = color || \\\"#FA7298\\\";\\n    this[symbolMap.ruleObjList] = []\\n    this.VARMAP = {\\n        CATEGORY: \\\"header.category\\\",\\n        URL: \\\"header.url\\\",\\n        FOLD: \\\"header.fold\\\",\\n    }\\n    this[symbolMap.mFoldLayout] = {\\n        injectIndex: 1\\n    }\\n    this[symbolMap.mFoldIndex] = 1\\n}\\n\\nObject.assign(CategoriesHeader.prototype, {\\n    // Override 构造方法，相当于 function.prototype.constructor = (...) => {...}，new function() 的时候会自动执行\\n    constructor: CategoriesHeader,\\n    // 定义私有方法\\n    VERSION: 202112011900,\\n    checkParams() {\\n        if (!this[symbolMap.mLayout]) {\\n            throw new Error(\\\"请调用 layout(d) 传入当前界面\\\")\\n        }\\n        if (!(this[symbolMap.src] || this[symbolMap.true_url])) {\\n            throw new Error(\\\"请调用 trueUrl(url) 传入当前分类的链接或调用 html(mHtml) 传入当前分类页面的源码\\\")\\n        }\\n        if (!this[symbolMap.mPage]) {\\n            throw new Error(\\\"请调用 page(mPage) 传入当前页数\\\")\\n        }\\n        if (this[symbolMap.ruleObjList].length < 1) {\\n            throw new Error(\\\"请调用相关方法传入定位规则\\\")\\n        }\\n        if (!this[symbolMap.mFold]) {\\n            this[symbolMap.mFold] = '0'\\n        }\\n    },\\n    layout(mLayout) {\\n        this[symbolMap.mLayout] = mLayout\\n        return this\\n    },\\n    trueUrl(url) {\\n        this[symbolMap.true_url] = url\\n        return this\\n    },\\n    page(mPage) {\\n        if (typeof (mPage) === 'string') {\\n            mPage = parseInt(mPage)\\n        }\\n        this[symbolMap.mPage] = mPage\\n        return this\\n    },\\n    html(mSrc) {\\n        this[symbolMap.src] = mSrc\\n        return this\\n    },\\n    list(rule) {\\n        if (this[symbolMap.ruleObjList].length > 0) {\\n            throw new Error(\\\"list(rule) add(ruleObj) 只能二选一！\\\")\\n        }\\n        this[symbolMap.ruleObjList] = [{}]\\n        this[symbolMap.ruleObjList][0].listRule = rule\\n        this[symbolMap.ruleObjList][0]['一级分类'] = rule\\n        return this\\n    },\\n    subList(rule) {\\n        if (this[symbolMap.ruleObjList].length > 1) {\\n            throw new Error(\\\"subList(rule) add(ruleObj) 只能二选一！\\\")\\n        }\\n        if (!this[symbolMap.ruleObjList][0] || (!this[symbolMap.ruleObjList][0].listRule && !this[symbolMap.ruleObjList][0]['一级分类'])) {\\n            throw new Error(\\\"请先调用 list(rule) 或 一级分类(rule) 定位一级分类\\\")\\n        }\\n        this[symbolMap.ruleObjList][0].subListRule = rule\\n        this[symbolMap.ruleObjList][0]['子分类'] = rule\\n        return this\\n    },\\n    title(rule) {\\n        if (this[symbolMap.ruleObjList].length > 1) {\\n            throw new Error(\\\"title(rule) add(ruleObj) 只能二选一！\\\")\\n        }\\n        if (!this[symbolMap.ruleObjList][0] || (!this[symbolMap.ruleObjList][0].listRule && !this[symbolMap.ruleObjList][0]['一级分类'])) {\\n            throw new Error(\\\"请先调用 list(rule) 或 一级分类(rule) 定位一级分类\\\")\\n        }\\n        this[symbolMap.ruleObjList][0].titleRule = rule\\n        this[symbolMap.ruleObjList][0]['分类标题'] = this[symbolMap.ruleObjList][0].titleRule\\n        return this\\n    },\\n    url(rule) {\\n        if (this[symbolMap.ruleObjList].length > 1) {\\n            throw new Error(\\\"url(rule) add(ruleObj) 只能二选一！\\\")\\n        }\\n        if (!this[symbolMap.ruleObjList][0] || (!this[symbolMap.ruleObjList][0].listRule && !this[symbolMap.ruleObjList][0]['一级分类'])) {\\n            throw new Error(\\\"请先调用 list(rule) 或 一级分类(rule) 定位一级分类\\\")\\n        }\\n        this[symbolMap.ruleObjList][0].urlRule = rule\\n        this[symbolMap.ruleObjList][0]['分类链接'] = this[symbolMap.ruleObjList][0].urlRule\\n        return this\\n    },\\n    /**\\n     * 是否开启折叠功能\\n     *\\n     * @param enabled true 表示开启，false 表示禁用\\n     * @returns {CategoriesHeader}\\n     */\\n    foldInner(enabled) {\\n        if (!(typeof (enabled) === 'boolean')) {\\n            throw new Error(\\\"请传入 true 或 false 表示开启或关闭折叠功能！\\\")\\n        }\\n        this[symbolMap.mFoldInnerEnable] = enabled\\n        return this\\n    },\\n    /**\\n     * 从第 index 行开始折叠\\n     *\\n     * @param index 开始折叠的行数\\n     * @returns {CategoriesHeader}\\n     */\\n    foldIndex(index) {\\n        if (!(typeof (index) === 'number')) {\\n            throw new Error(\\\"开始折叠行请传入数字！\\\")\\n        }\\n        if (index < 1) {\\n            throw new Error(\\\"开始折叠行请传入大于 0 的整数！\\\")\\n        }\\n        this[symbolMap.mFoldIndex] = index || 1;\\n        return this\\n    },\\n    /**\\n     * 折叠按钮的界面\\n     *\\n     * @param layout 与 d.push 结构一致，\\n     *        例：{ title:\\\"标题1\\\", url:\\\"xxx\\\", col_type:\\\"scroll_button\\\" };\\n     *        参数采用可选覆盖模式，不写的参数则使用默认;\\n     *        比如传入 { col_type:\\\"text_1\\\" }，那最终结果就是 { title:\\\"标题1\\\", url:\\\"xxx\\\", col_type:\\\"text_1\\\" }\\n     * @returns {CategoriesHeader}\\n     */\\n    foldLayout(layout) {\\n        if (typeof layout === 'object') {\\n            let keys = Object.keys(layout)\\n            let injectIndex = layout.injectIndex || layout['折叠按钮插入行']\\n            if (layout.title || layout.url || layout.col_type || injectIndex) {\\n                for (let i = 0; i < keys.length; i++) {\\n                    const key = keys[i]\\n                    this[symbolMap.mFoldLayout][key] = layout[key];\\n                }\\n            } else {\\n                throw new Error(\\\"请传入正确的折叠界面元素！\\\")\\n            }\\n            // injectIndex 折叠按钮插入第 injectIndex 行\\n            if (injectIndex) {\\n                if (!(typeof (injectIndex) === 'number')) {\\n                    throw new Error(\\\"折叠按钮插入行请传入数字！\\\")\\n                }\\n                if (injectIndex < 1) {\\n                    throw new Error(\\\"折叠按钮插入行请传入大于 0 的整数！\\\")\\n                }\\n                if (injectIndex > this[symbolMap.mFoldIndex]) {\\n                    throw new Error(\\\"折叠按钮插入行不得大于显示折叠行数！请调用 .foldIndex(index) 或 .第几行开始折叠(index) 传入正确的显示折叠行数\\\")\\n                }\\n                this[symbolMap.mFoldLayout].injectIndex = injectIndex || 1;\\n            }\\n        } else {\\n            throw new Error(\\\"请传入正确的折叠界面元素！\\\")\\n        }\\n        return this;\\n    },\\n    // 当前是否折叠\\n    fold(isFold) {\\n        if (typeof (isFold) === 'string') {\\n            isFold = isFold === '1'\\n        }\\n        if (isFold) {\\n            this[symbolMap.mFold] = '1';\\n        } else {\\n            this[symbolMap.mFold] = '0';\\n        }\\n        return this\\n    },\\n    color(mColor) {\\n        this[symbolMap.mColor] = mColor\\n        return this\\n    },\\n    tag(mTag) {\\n        this[symbolMap.mTag] = mTag\\n        return this\\n    },\\n    add(ruleObj) {\\n        // log($.stringify(ruleObj))\\n        if (ruleObj.constructor === Array) {\\n            this[symbolMap.ruleObjList] = this[symbolMap.ruleObjList].concat(ruleObj)\\n        } else {\\n            this[symbolMap.ruleObjList].push(ruleObj)\\n        }\\n        return this;\\n    },\\n    evalJSRule(item, jsRule) {\\n        let rule = jsRule.replace(\\\"@js:\\\", \\\"\\\")\\n        rule = rule.trim()\\n        // log($.stringify(rule))\\n        let input = item\\n        if (rule.startsWith(\\\"(\\\")) {\\n            eval('result = ' + rule)\\n        } else {\\n            /**\\n             * 还原成 $.toString(...) 的最终结果，达到最终处理方式跟上面的 if 一致的目的\\n             */\\n            eval('result = ' + '(() => {' + rule + '})()')\\n        }\\n        return (result || '')\\n    },\\n    getTitle(src, category) {\\n        let title = ''\\n        let titleRule = category.titleRule || 'a&&Text'\\n        if (titleRule.startsWith(\\\"@js:\\\")) {\\n            title = this.evalJSRule(src, titleRule)\\n        } else {\\n            title = parseDomForHtml(src, titleRule)\\n        }\\n        return title || \\\"\\\";\\n    },\\n    getUrl(src, category) {\\n        let url = ''\\n        let urlRule = category.urlRule || 'a&&href'\\n        if (typeof urlRule === 'object') {\\n            let mUrlRule = urlRule.rule || urlRule['解析规则'] || 'a&&href';\\n            if (mUrlRule.startsWith(\\\"@js:\\\")) {\\n                url = this.evalJSRule(src, mUrlRule);\\n            } else {\\n                let parse = parseDom;\\n                if (urlRule.parseOption) {\\n                    switch (urlRule.parseOption) {\\n                        case \\\"parseDom\\\":\\n                        case \\\"pd\\\":\\n                            parse = parseDom;\\n                            break;\\n                        case \\\"parseDomForHtml\\\":\\n                        case \\\"pdfh\\\":\\n                            parse = parseDomForHtml;\\n                            break;\\n                        default:\\n                            parse = parseDom;\\n                    }\\n                } else if (urlRule[\\\"解析方法\\\"]) {\\n                    switch (urlRule[\\\"解析方法\\\"]) {\\n                        case \\\"parseDom\\\":\\n                        case \\\"pd\\\":\\n                            parse = parseDom;\\n                            break;\\n                        case \\\"parseDomForHtml\\\":\\n                        case \\\"pdfh\\\":\\n                            parse = parseDomForHtml;\\n                            break;\\n                        default:\\n                            parse = parseDom;\\n                    }\\n                }\\n                url = parse(src, mUrlRule);\\n            }\\n            if (urlRule.dealUrl) {\\n                url = urlRule.dealUrl(url)\\n            } else if (urlRule['二次处理']) {\\n                url = urlRule['二次处理'](url)\\n            }\\n        } else {\\n            if (urlRule.startsWith(\\\"@js:\\\")) {\\n                url = this.evalJSRule(src, urlRule);\\n            } else {\\n                url = parseDom(src, urlRule);\\n            }\\n        }\\n        return url || \\\"\\\";\\n    },\\n    build() {\\n        // 检测是否传入需要的参数\\n        this.checkParams()\\n        // 每一个分类的唯一标识\\n        let mTag = this[symbolMap.mTag] || \\\"\\\"\\n        //翻页 需要根据实际替换\\n        const html = this[symbolMap.src] || request(this[symbolMap.true_url])\\n        const empty = \\\"hiker://empty\\\"\\n        //获取列表\\n        const categories = []\\n        this[symbolMap.ruleObjList].map(ruleObj => {\\n            let list = []\\n            let listRule = ruleObj.listRule || ruleObj[\\\"一级分类\\\"]\\n            if (listRule.startsWith(\\\"@js:\\\")) {\\n                // log($.stringify(listRule))\\n                list = this.evalJSRule(html, listRule)\\n            } else {\\n                list = parseDomForArray(html, listRule)\\n            }\\n            // log(list)\\n            list.map(category => {\\n                categories.push({\\n                    list: category,\\n                    subListRule: ruleObj.subListRule || ruleObj[\\\"子分类\\\"],\\n                    titleRule: ruleObj.titleRule || ruleObj[\\\"分类标题\\\"],\\n                    urlRule: ruleObj.urlRule || ruleObj[\\\"分类链接\\\"],\\n                });\\n            })\\n        })\\n\\n        // log($.stringify(categories))\\n\\n        let init_cate = []\\n        for (let i = 0; i < 20; i++) {\\n            init_cate.push(\\\"0\\\")\\n        }\\n\\n        const cate_temp_json = getMyVar(mTag + this.VARMAP.CATEGORY, JSON.stringify(init_cate))\\n        const cate_temp = JSON.parse(cate_temp_json)\\n\\n        if (this[symbolMap.mPage] === 1) {\\n\\n            categories.forEach((category, index) => {\\n\\n                // 折叠 UI\\n                if (this[symbolMap.mFoldInnerEnable] && this[symbolMap.mFoldLayout].injectIndex === (index+1)) {\\n                    let foldLayout = {\\n                        title: this[symbolMap.mFoldLayout].title || (this[symbolMap.mFold] === '1' ? '““””<b><span style=\\\"color: #FF0000\\\">∨</span></b>' : '““””<b><span style=\\\"color: #1aad19\\\">∧</span></b>'),\\n                        url: this[symbolMap.mFoldLayout].url || $(\\\"hiker://empty#noHistory#\\\").lazyRule((params) => {\\n                            putMyVar(params.mTag + params.VARMAP.FOLD, getMyVar(params.mTag + params.VARMAP.FOLD, params.isFold) === '1' ? '0' : '1')\\n                            refreshPage(false);\\n                            return \\\"hiker://empty\\\"\\n                        }, {\\n                            mTag: mTag,\\n                            isFold: this[symbolMap.mFold],\\n                            VARMAP: this.VARMAP\\n                        }),\\n                        col_type: this[symbolMap.mFoldLayout].col_type || \\\"scroll_button\\\",\\n                    }\\n                    this[symbolMap.mLayout].push(foldLayout)\\n                }\\n\\n                //具体列表下的分类\\n                let sub_categories = [];\\n                if (category.subListRule.startsWith(\\\"@js:\\\")) {\\n                    sub_categories = this.evalJSRule(category.list, category.subListRule)\\n                } else {\\n                    sub_categories = parseDomForArray(category.list, category.subListRule);\\n                }\\n                if (index < (this[symbolMap.mFoldIndex] || 1)) {\\n                    sub_categories.forEach((item, key) => {\\n                        let title = this.getTitle(item, category)\\n                        let url = this.getUrl(item, category)\\n\\n                        this[symbolMap.mLayout].push({\\n                            title: key.toString() === cate_temp[index] ? '““””<b><font color=' + this[symbolMap.mColor] + '>' + title + ' </font></b>' : title,\\n                            url: $(url).lazyRule((params) => {\\n                                let new_cate = []\\n                                if (params.index === 0) {\\n                                    params.cate_temp.forEach((cate, index) => {\\n                                        new_cate.push(index === 0 ? params.key.toString() : \\\"0\\\")\\n                                    });\\n                                } else {\\n                                    params.cate_temp[params.index] = params.key.toString()\\n                                }\\n                                putMyVar(params.tag + params.VARMAP.CATEGORY, JSON.stringify(params.index === 0 ? new_cate : params.cate_temp))\\n                                putMyVar(params.tag + params.VARMAP.URL, input)\\n                                refreshPage(true)\\n                                return \\\"hiker://empty\\\"\\n                            }, {\\n                                cate_temp: cate_temp,\\n                                index: index,\\n                                VARMAP: this.VARMAP,\\n                                tag: mTag,\\n                                key: key,\\n                                page: this[symbolMap.mPage],\\n                            }),\\n                            col_type: 'scroll_button',\\n                        })\\n                    })\\n                    this[symbolMap.mLayout].push({\\n                        col_type: \\\"blank_block\\\"\\n                    });\\n                } else if (this[symbolMap.mFold] === '0') {\\n                    sub_categories.forEach((item, key) => {\\n                        let title = this.getTitle(item, category)\\n                        let url = this.getUrl(item, category)\\n\\n                        this[symbolMap.mLayout].push({\\n                            title: key.toString() === cate_temp[index] ? '““””<b><font color=' + this[symbolMap.mColor] + '>' + title + ' </font></b>' : title,\\n                            url: $(url).lazyRule((params) => {\\n                                params.cate_temp[params.index] = params.key.toString()\\n\\n                                putMyVar(params.tag + params.VARMAP.CATEGORY, JSON.stringify(params.cate_temp))\\n                                putMyVar(params.tag + params.VARMAP.URL, input)\\n                                refreshPage(true)\\n                                return \\\"hiker://empty\\\"\\n                            }, {\\n                                cate_temp: cate_temp,\\n                                index: index,\\n                                VARMAP: this.VARMAP,\\n                                tag: mTag,\\n                                key: key,\\n                                page: this[symbolMap.mPage],\\n                            }),\\n                            col_type: 'scroll_button',\\n                        })\\n                    })\\n                    this[symbolMap.mLayout].push({\\n                        col_type: \\\"blank_block\\\"\\n                    });\\n                }\\n            });\\n        }\\n    },\\n\\n    界面(layout) {\\n        return this.layout(layout)\\n    },\\n    分类链接(trueUrl) {\\n        return this.trueUrl(trueUrl);\\n    },\\n    页码(page) {\\n        return this.page(page);\\n    },\\n    源码(html) {\\n        return this.html(html);\\n    },\\n    定位一级分类(list) {\\n        return this.list(list);\\n    },\\n    定位子分类(subList) {\\n        return this.subList(subList);\\n    },\\n    定位分类标题(title) {\\n        return this.title(title);\\n    },\\n    定位分类链接(url) {\\n        return this.url(url);\\n    },\\n    开启内置折叠功能() {\\n        return this.foldInner(true);\\n    },\\n    关闭内置折叠功能() {\\n        return this.foldInner(false);\\n    },\\n    第几行开始折叠(index) {\\n        return this.foldIndex(index);\\n    },\\n    折叠按钮样式(layout) {\\n        return this.foldLayout(layout)\\n    },\\n    折叠(fold) {\\n        return this.fold(fold);\\n    },\\n    选中的分类颜色(color) {\\n        return this.color(color);\\n    },\\n    唯一标识(mTag) {\\n        return this.tag(mTag)\\n    },\\n    添加分类定位(ruleObj) {\\n        return this.add(ruleObj);\\n    },\\n    开始打造分类() {\\n        return this.build();\\n    },\\n\\n})\\n$.exports = new CategoriesHeader();\\n$.exports\\n\"},{\"col_type\":\"text_1\",\"name\":\"链接处理工具\",\"path\":\"url-processor\",\"rule\":\"/**\\n * 本地网页插件链接 hiker://files/rules/js/UrlProcessor.js\\n * 子页面链接 hiker://page/url-processor\\n * 道长仓库链接 http://hiker.nokia.press/hikerule/rulelist.json?id=2849\\n * 码云 Gitee 链接 https://gitee.com/reborn0/HikerRules/raw/master/plugins/UrlProcessor.js\\n */\\nfunction UrlProcessor() {\\n    this.params = {}\\n    this.regexMap = [\\n        {\\n            reg: '(vodtype|videot)\\\\\\\\/\\\\\\\\w+',\\n            exec: () => {\\n                return this.params.url\\n                    .replace(/-\\\\d+.html/, '-' + this.params.page + '.html')\\n                    .replace(/((vodtype|videot)\\\\/\\\\w+).html/, '$1-' + this.params.page + '.html')\\n            }\\n        },\\n        {\\n            reg: '\\\\\\\\/?[\\\\\\\\w\\\\\\\\d]+-.*?-.*?-.*?-.*?-.*?-.*?-.*?-\\\\\\\\d*---\\\\\\\\d*.html',\\n            exec: () => {\\n                return this.params.url\\n                    .replace(/\\\\d*(---.html)/, this.params.page + '$1')\\n                    .replace(/(---\\\\d+.html)/, this.params.page + '$1'); // 拼接页码\\n            }\\n        },\\n        {\\n            reg: '((\\\\\\\\/vod\\\\\\\\/show)?(\\\\\\\\/area\\\\\\\\/[\\\\\\\\w\\\\\\\\d%]+)?(\\\\\\\\/by\\\\\\\\/[\\\\\\\\w\\\\\\\\d%]+)?(\\\\\\\\/id\\\\\\\\/\\\\\\\\d+)?(\\\\\\\\/letter\\\\\\\\/[\\\\\\\\w\\\\\\\\d%]+)?)(\\\\\\\\/page\\\\\\\\/\\\\\\\\d+)?(\\\\\\\\/year\\\\\\\\/\\\\\\\\d+)?\\\\\\\\.html',\\n            exec: () => {\\n                let regExp = /((\\\\/vod\\\\/show)?(\\\\/area\\\\/[\\\\w\\\\d%]+)?(\\\\/by\\\\/[\\\\w\\\\d%]+)?(\\\\/id\\\\/\\\\d+)?(\\\\/letter\\\\/[\\\\w\\\\d%]+)?)(\\\\/page\\\\/\\\\d+)?(\\\\/year\\\\/\\\\d+)?\\\\.html/\\n                return this.params.url\\n                    .replace(regExp, '$1' + (\\\"/page/\\\" + this.params.page) + '$8' + \\\".html\\\")\\n            }\\n        }\\n    ]\\n}\\n\\nObject.assign(UrlProcessor.prototype, {\\n    constructor: UrlProcessor,\\n    checkParams() {\\n        if (!this.params.url) {\\n            throw new Error(\\\"请先调用 .baseUrl(url) 传入链接进行初始化!\\\")\\n        }\\n        if (!this.params.page) {\\n            throw new Error(\\\"请先调用 .page(page) 传入页码进行初始化!\\\")\\n        }\\n    },\\n    baseUrl(url){\\n        this.params.url = url\\n        return this\\n    },\\n    page(page){\\n        this.params.page = page\\n        return this\\n    },\\n    addExtra(regExp) {\\n        if (regExp.constructor === Array) {\\n            this.regexMap = this.regexMap.concat(regExp)\\n        } else {\\n            this.regexMap.push(regExp)\\n        }\\n        return this;\\n    },\\n    debug() {\\n        this.params.debug = true\\n        return this;\\n    },\\n    exec() {\\n        this.checkParams()\\n        let true_url = ''\\n        for (let i = 0; i < this.regexMap.length; i++) {\\n            let regObj = this.regexMap[i];\\n            let urlExp = regObj.reg;\\n            if (typeof urlExp === 'string') {\\n                urlExp = new RegExp(urlExp)\\n            }\\n            if (urlExp.test(this.params.url)) {\\n                if (this.params.debug) {\\n                    log(urlExp.toString())\\n                }\\n                true_url = regObj.exec();\\n                break;\\n            }\\n        }\\n        if (true_url) {\\n            return true_url;\\n        } else {\\n            return this.params.url\\n        }\\n    },\\n    获取处理结果() {\\n        return this.exec()\\n    },\\n    链接(url) {\\n        return this.baseUrl(url)\\n    },\\n    页码(page) {\\n        return this.page(page)\\n    },\\n    插入新处理规则(regExp) {\\n        return this.addExtra(regExp)\\n    },\\n    调试模式() {\\n        return this.debug();\\n    }\\n})\\n$.exports=new UrlProcessor()\\n$.exports\\n\"},{\"col_type\":\"text_1\",\"name\":\"一级公用模板\",\"path\":\"yiji\",\"rule\":\"/**\\n * 建议复制粘贴到一个 js 文件，然后上传仓库或者码云，之后都作为依赖进行 requireCache 调用\\n * 有能力者可修改一下自定义项再作为依赖 require\\n */\\nfunction 一级() {};\\nObject.assign(一级.prototype, {\\n    constructor: 一级,\\n    test() {},\\n    获取源码(url, header) {\\n        return fetch(true_url, {\\n            headers: header || {\\n                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0)'\\n            }\\n        }) // 默认统一使用PC UA\\n    },\\n    获取正确链接(page, regex) {\\n        let true_url = getMyVar('header.url', MY_URL);\\n        let 链接处理工具 = $.require(config.链接处理工具依赖)\\n        true_url = 链接处理工具\\n            .链接(true_url)\\n            .页码(page)\\n            .插入新处理规则(regex || [])\\n            .获取处理结果();\\n        return true_url;\\n    },\\n    打造分类(ruleList) {\\n        // '0' 为默认不折叠，'1' 为默认折叠\\n        const 当前折叠状态 = getMyVar('header.fold', '1')\\n\\n        // 引入动态分类依赖\\n        // 框架已经稳定，使用 requireCache 更佳\\n        let htmlCategories = $.require(config.动态分类依赖)\\n        htmlCategories.界面(d)\\n            // .分类链接(true_url)\\n            .源码(html)\\n            .页码(page)\\n            .添加分类定位(ruleList)\\n            .开启内置折叠功能() // 必须\\n            .折叠(当前折叠状态) // 必须\\n            .选中的分类颜色('#1aad19')\\n            .开始打造分类();\\n    },\\n    生成片单(d, html) {\\n        let list = parseDomForArray(html, 列表);\\n        for (let j in list) {\\n            let img = parseDom(list[j], 图片);\\n            d.push({\\n                title: parseDomForHtml(list[j], 标题),\\n                desc: parseDomForHtml(list[j], 描述),\\n                img: img + '@Referer=' + img,\\n                url: parseDom(list[j], 链接) + \\\"#immersiveTheme#\\\"\\n            });\\n        }\\n    }\\n})\\n\\n$.exports = new 一级();\\n$.exports\"},{\"col_type\":\"movie_3\",\"name\":\"二级.OLD\",\"path\":\"erji-old\",\"rule\":\"var d = [];\\nvar html = getResCode();\\nif (getResCode().indexOf('检测中') != -1) {\\n    html = request(MY_URL + '?btwaf' + html.match(/btwaf(.*?)\\\\\\\"/)[1], {});\\n}\\n\\nvar arts = pdfa(html, '.nav-tabs&&li');\\nvar tabs = [];\\nfor (var i in arts) {\\n    tabs.push(pdfh(arts[i], 'a&&Text'))\\n}\\n\\nvar conts = pdfa(html, '.tab-content&&ul');\\nvar lists = [];\\nfor (var i in conts) {\\n    lists.push(pdfa(conts[i], 'ul&&li'))\\n}\\n\\nd.push({\\n    title: pdfh(html, '.data&&Text').replace('地区：', '   ').replace('年份：', '   ') + '\\\\n' + pdfh(html, '.data,1&&Text').substring(0, 15) + '\\\\n' + pdfh(html, '.data,2&&Text').substring(0, 15),\\n    desc: pdfh(html, '.data,3&&Text').substring(0, 25),\\n    pic_url: pd(html, '.lazyload&&data-original'),\\n    url: MY_URL,\\n    col_type: 'movie_1_vertical_pic_blur'\\n});\\nvar lazy = `@lazyRule=.js:JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url`\\n\\nfunction setTabs(tabs, vari) {\\n    for (var i = 0; i < tabs.length; i++) {\\n\\n        d.push({\\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\\n            url: \\\"#noLoading#@lazyRule=.js:putVar('\\\" + vari + \\\"', '\\\" + i + \\\"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\\\",\\n            col_type: 'flex_button'\\n        })\\n    }\\n    d.push({\\n        col_type: 'blank_block'\\n    });\\n}\\n\\nfunction setLists(lists, index) {\\n    d.push({\\n        title: '‘‘正逆序：’’',\\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf==' - 逆序'){putVar({key:'shsort', value:' - 正序'});}else{putVar({key:'shsort', value:' - 逆序'})};refreshPage(false);'toast://切换排序成功';'#noHistory#hiker://empty'`,\\n        col_type: 'flex_button'\\n    })\\n    var list = lists[index];\\n\\n    if (getVar('shsort') == ' - 逆序') {\\n        for (var j = list.length - 1; j >= 0; j--) {\\n            d.push({\\n                title: pdfh(list[j], 'Text'),\\n                url: pd(list[j], 'a&&href') + lazy,\\n                col_type: 'flex_button'\\n            });\\n        }\\n    } else {\\n        for (var j = 0; j < list.length; j++) {\\n            d.push({\\n                title: pdfh(list[j], 'a&&Text'),\\n                url: pd(list[j], 'a&&href') + lazy,\\n                col_type: 'flex_button'\\n            });\\n        }\\n    }\\n}\\nsetTabs(tabs, MY_URL);\\nsetLists(lists, getVar(MY_URL, '0'));\\n\\nd.push({\\n    title: '<br>',\\n    col_type: 'rich_text'\\n});\\nsetResult(d);\"}]","icon":"https://cokemv.me/template/mytheme/statics/image/20201201/932acffd1.ico"},{"last_chapter_rule":"","pageList":[],"title":"Vip影院.dr","author":"道长","version":2,"type":"video","url":"hiker://empty##http://360yy.cn/index.php/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".fed-list-info&&li;a.fed-list-title&&Text;a&&data-original;.fed-list-remarks&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/(.*)\\/page\\/(.*?).html/)[2];\ntrue_url = 获取正确链接();\n//log(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.fed-casc-list&&dl',\n        子分类: 'dl&&dd:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".fed-part-layout&&dl;.fed-deta-content&&h1&&Text;a&&data-original;.fed-list-remarks&&Text;a&&href;.fed-part-esan&&Text\";\n一级(parStr,true);","search_url":"http://360yy.cn/index.php/vod/search.html?wd=**","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1.fed-part-eone&&Text;.fed-deta-content&&.fed-part-rows&&li&&Text;.fed-deta-content&&.fed-part-rows&&li,1&&Text',\n img:'.fed-deta-info&&a&&data-original',\n url:'.fed-deta-info&&a&&data-original',\n desc:'.fed-deta-content&&.fed-part-rows&&li,2&&Text;.fed-deta-content&&.fed-part-rows&&li,3&&Text;.fed-deta-content&&.fed-part-rows&&li,4&&Text',\n content:'.fed-part-esan&&Text.js:input.split(\"……\")[0].replace(\"简介：\",\"\")',\n tabs:'.fed-drop-boxs&&.fed-part-rows&&li', lists:'.fed-play-item,#id&&ul,1&&li',\n tab_id:'',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/VIP影院xg.png"},{"last_chapter_rule":"","pageList":[],"title":"选择器语法.m","author":"道长","version":1,"type":"other","url":"hiker://empty##https://juejin.cn/post/6844904002103050254#11-id选择器","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"教程","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\n/** 无需下载APP，点返回即可。*/\nrequire(config.模板);\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: MY_URL,\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true,\n       // js:注入()\n    }\n}])","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/messy/15.svg"},{"last_chapter_rule":"","pageList":[],"title":"真不卡.dr","author":"道长&发粪涂墙","version":10,"type":"video","url":"hiker://empty##https://www.zhenbuka3.com/vodtype/1-fypage/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?)\\//)[2];\n//log(page);\ntrue_url = 获取正确链接().replace(/(.*)---\\//,'$1'+page+'---');\n//log(true_url);\nvar html=获取源码(true_url);\n//log(html);\nlet cates=打造动态分类([{\n    一级分类: 'body&&.stui-header__menu',\n    子分类: 'ul&&li.hidden-xs:gt(0):lt(5):not(:matches(首页))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------/')\n            }\n        }\n},{\n    一级分类: 'body&&.stui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split(\"##\")[1];\n//log(MY_URL);\nrequire(config.模板);\nlet ck_id='cookie.zbk';\n//let cookie=获取ck(ck_id);\nlet cookie='searchneed=ok';\nputMyVar('cookie',cookie);\nlet headers = {\n    \"User-Agent\": PC_UA,\n    \"referer\": 'https://www.zhenbuka3.com/',\n    \"cookie\": cookie\n};\n//log('真不卡cookie:'+cookie);\nvar html = post(MY_URL, {\n    headers: headers\n});\nif (/检测中/.test(html)) {\n\n    html = post(MY_URL + '?btwaf' + html.match(/btwaf(.*?)\\\"/)[1], {\n        headers: headers\n    });\n}\nif (/验证页面/.test(html)) {\n    log(MY_URL);\n    //.stui-header__logo\n道长验证码(null,MY_URL,'.stui-header__logo',ck_id);\n}else{\n//log(html);\nif(/搜索时间间隔/.test(html)){\n    let d=[];\n    d.push({\n        title:'网站搜索有间隔，点击重试',\n        desc:pdfh(html,'.mac_msg_jump&&.text&&Text'),\n        col_type:'text_1',\n        url:$().lazyRule(()=>{\n            refreshPage(true);\n            return 'toast://请下拉刷新重试'\n        })\n    });\n    setResult(d)\n}else{ parStr=\"body&&.stui-vodlist__media.col-pd.clearfix&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href;.margin-0.hidden-sm&&Text\";\n一级(parStr,true,null,null,html);\n}\n}","search_url":"hiker://empty##https://www.zhenbuka3.com/vodsearch/**----------fypage---/","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.stui-content__detail&&h1&&Text;.stui-content__detail&&p,2&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&src',//图片\n url:'.lazyload&&src',//可以是影片链接，或者图片也行\n desc:'.stui-content__detail&&p,0&&Text;.stui-content__detail&&p,1&&Text;.stui-content__detail&&p,3&&Text',//一般主演，地区，影片评分等描述\n content:'.stui-content__detail&&p,-1&&Text',//内容简介，详情\n tabs:'body&&.bottom-line',//线路\n lists:'.stui-content__playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n 线路处理:function(t){return t.split(\" \").slice(-1)[0]}\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.zhenbuka3.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"骚火.dr","author":"道长大大","version":1,"type":"video","url":"hiker://empty##https://saohuo.vip/list/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".v_list&&li;a&&title;.lazyload&&data-original;.v_note&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/-(.*?).html/)[1];\n//log('页码' +page)\n//true_url = 获取正确链接();\ntrue_url = true_url.replace('.html','-' + page + '.html') \nvar html=获取源码(true_url);\n//log(html);\n//log(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.type_list',\n        子分类: 'body&&li:not(:matches(首页|最近更新|排行榜|动漫))',\n \n    },{\n        一级分类: '.top_bar',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\n//MY_URL=MY_URL.split(\"##\")[1];\n//log(MY_URL);\nrequire(config.模板);\n//log('cookie:'+getMyVar('cookie'));\nvar html=获取源码(MY_URL);\n//log(\"源码:\"+html);\n//log('骚火cookie:'+getMyVar('cookie'));\nif(/验证码/.test(html)){\n    showLoading(\"验证码识别中，请稍等\");\n    let vcode=获取验证码('https://saohuo.vip/include/vdimgck.php');\n    log('获取验证码:'+vcode);\n    let host=MY_URL.split('?')[0];\n    let page=MY_URL.match(/page=(\\d+)&/)[1];\n    let key=MY_URL.match(/searchword=(.*?)&/)[1];\n    let 提交地址=host+'?scheckAC=check&page='+page+'&searchtype=&order=&tid=&area=&year=&letter=&yuyan=&state=&money=&ver=&jq=';\n    log('提交地址:'+提交地址);\n    let 提交数据='validate='+vcode+'&searchword='+key;\n    log('提交数据:'+提交数据);\n    let ret=提交验证码(提交地址,'','',提交数据);\n    hideLoading();\n    html=ret;\n    //log('验证后结果:'+html);\n}\nparStr=\".v_list&&li;a&&title;.lazyload&&data-original;.v_note&&Text;a&&href;\";\n一级(parStr,true,null,null,html);","search_url":"https://saohuo.vip/search.php?page=fypage&searchword=**&searchtype=","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.grid_box&&h1&&Text',\n img:'.m_background&&style',\n url:'.m_background&&style',\n desc:'.grid_box&&p&&Text',\n content:'.p_txt&&Text',\n tabs:'.from_list&&li',\nlists:'#play_link&&li,#id&&a',\n tab_id:'',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var 验证码='https://saohuo.vip/include/vdimgck.php';\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://saohuo.vip/favicon.ico"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"泡饭影视.dr","author":"道长&&情້໌ᮨ","version":1,"type":"video","url":"hiker://empty##https://www.paofans.net/vodshow/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/\\/(.*)--------(.*?)---.html/)[2];\nlog(page)\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n        一级分类: '.stui-header__menu',\n        子分类: 'body&&li:not(:matches(首页|专题|安卓APP))',\n       分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+).html/, 'vodshow/$1-----------.html')\n            }\n        }\n    },{\n        一级分类: 'body&&.stui-screen__list',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\".stui-vodlist__media&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href;.detail&&Text\";\n一级(parStr,true);","search_url":"https://www.paofans.com/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.data,0&&Text;.data,1&&Text;.data,2&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'.data,3&&Text',\n content:'.stui-pannel_bd,1&&Text',\n tabs:'body&&h3:not(:matches(剧情|猜你|榜单))', lists:'body&&.stui-content__playlist,#id&&li',\n tab_id:'',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://syimg.3dmgame.com/uploadimg/ico/2021/1105/1636096800320181.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"1080P影视.dr","author":"道长&&情້໌ᮨ","version":1,"type":"video","url":"https://1080p.tv/vodshow/1--------fypage---/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&.module-item;.lazyloaded&&alt;.lazyloaded&&data-src;.module-item-text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?)---/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.nav-menu-items',\n    子分类: 'ul&&li:gt(0):lt(8):not(:matches(首页|网址|APP))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------/')\n            }\n        }\n},{\n    一级分类: 'body&&.library-box',\n    子分类: 'body&&a:not(:matches(^$)):not(:matches(片库))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-search-item;h3&&Text;img&&data-src;a.video-serial&&Text;a.video-serial&&href;.video-info-item,-1&&Text\";\n一级(parStr,true);","search_url":"https://1080p.tv/vodsearch/**----------fypage---/","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.page-title&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src',\n desc:'.video-info-aux&&Text',\n content:'.video-info-item,5&&Text.js:input.split(\"……\")[0].replace(\"收起\",\"\")',\n tabs:'body&&.module-tab-item',\n lists:'body&&.sort-item,#id&&a',\n tab_id:'',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"http://dbzytv-1080-img.oss-cn-hongkong.aliyuncs.com/2021/08/14/71599ed9205d8.png"},{"last_chapter_rule":"","pageList":[],"title":"小小影视D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##http://www.xiaoysw1.com/vodshow/1--------fypage---/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".fed-list-info&&li;a,1&&Text;a&&data-original;.fed-list-remarks&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?)---/)[2];\ntrue_url = 获取正确链接();\n//log(true_url);\nlet cates=打造动态分类([{\n    一级分类: '.fed-pops-list',\n    子分类: 'ul&&li:gt(0):lt(8):not(:matches(首页|明星|资讯|敏感|直播|专题))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n},{\n    一级分类: 'body&&.fed-casc-list&&dl',\n    子分类: 'dl&&a:not(:matches(^$))',\n},{\n    一级分类: '.fed-list-head',\n    子分类: 'body&&a:not(:matches(^$))',\n}]);\n设置(cates,false);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split(\"##\")[1];\n//log(MY_URL);\nrequire(config.模板);\n//log('cookie:'+getMyVar('cookie'));\nvar html=获取源码(MY_URL);\n//log(\"源码:\"+html);\nif(/输入验证码/.test(html)){\n    showLoading(\"验证码识别中，请稍等\");\n    let vcode=获取验证码('http://www.xiaoysw1.com/verify/index.html?');\n    log('获取验证码:'+vcode);\n    let ret=提交验证码('http://www.xiaoysw1.com/index.php/ajax/verify_check?type=search&verify='+vcode);\n    hideLoading();\n    log(\"验证后结果:\"+ret);\n   // html=ret;\n    if(/\"msg\"/.test(ret)&&/\"ok\"/.test(ret)){\n       // refreshPage(true);\n        html=获取源码(true_url);\n    }else{\n        log('验证未通过:'+ret)\n    }\n    \n}\nlet parStr=\"body&&.fed-deta-info;h1&&Text;.fed-lazy&&data-original;.fed-list-remarks&&Text;a&&href;.fed-part-esan&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.xiaoysw.com/vodsearch/----------fypage---/?wd=**","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.fed-deta-content&&li,5&&Text;.fed-deta-content&&li,2&&Text;.fed-deta-content&&li,4&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.fed-list-pics&&data-original',//图片\n url:'.fed-list-pics&&data-original',//可以是影片链接，或者图片也行\n desc:'.fed-deta-content&&li,-1&&Text',//一般主演，地区，影片评分等描述\n tabs:'.fed-drop-tops&&a ',//线路\n lists:'body&&.fed-play-item,#id&&li:not(:matches(播放集数|视频排序：正序))',//列表\n tab_id:'',//线路id，可不填,\n \n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 二级处理={\n    图片点击:function(u){\n        return u+'#.png'\n    }\n};\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var 验证码='http://www.xiaoysw1.com/verify/index.html?';\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/83.png"},{"last_chapter_rule":"","pageList":[],"title":"瓜皮TV.dr","author":"道长大大","version":2,"type":"video","url":"hiker://empty##http://www.dijiaxia.com/index.php/vod/type/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".myui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(\\d+)\\.html/)[1];\n//true_url = 获取正确链接();\nif(!/page/.test(true_url)){\n    true_url = true_url.replace(/\\.html/,'/page/'+page+'.html')\n}\nelse{\ntrue_url = true_url.replace('/page\\/(\\d+)\\.html/','page/'+page+'.html')\n}\n\nlog(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.myui-header__menu',\n        子分类: 'body&&li.hidden-sm:not(:matches(首页|资讯|专题|演员))',\n    },{\n        一级分类: 'body&&.myui-screen__list',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split(\"##\")[1];\n//log(MY_URL);\nrequire(config.模板);\nlet ck_id='cookie.dijiaxia';\nlet cookie=获取ck(ck_id)||getMyVar('cookie','');\nvar html=获取源码(MY_URL,'','',cookie);\n//log(\"源码:\"+html);\nif(/输入验证码/.test(html)){\n    showLoading(\"验证码识别中，请稍等\");\n    let vcode=获取验证码('http://www.dijiaxia.com/index.php/verify/index.html?');\n    log('获取验证码:'+vcode);\n    let ret=提交验证码('http://www.dijiaxia.com/index.php/ajax/verify_check?type=search&verify='+vcode);\n    hideLoading();\n    //log(\"验证后结果:\"+ret);\n    //html=ret;\n    if(/\"msg\"/.test(ret)&&/\"ok\"/.test(ret))    {\n       // refreshPage(true);\n        html=获取源码(MY_URL,'','',cookie);\n        //log(html);\n        if(/搜索时间间隔/.test(html)){\n            setResult([{\n                title:'搜索验证已自动跳过，等待3秒后下拉刷新',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n        }\n    }else{\n        //log('验证未通过:'+ret);\n        setResult([{\n                title:'验证未通过，请尝试重新搜索',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n    }\n}\nlet parStr=\".myui-vodlist__media&&li;a&&title;a&&data-original;p,2&&Text;a&&href;p.hidden-xs&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##http://www.dijiaxia.com/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1&&Text;#rating&&Text;p.data,0&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'p.data,1&&Text;p.data,2&&Text;p.data,3&&Text',\n content:'.content&&span.data&&Text',\n tabs:'.nav-tabs&&li',\n lists:'body&&.myui-content__list,#id&&li',\n tab_id:'',\n};\nvar lazy=$('').lazyRule((v)=>{\n    eval(pdfh(request(input,{}),'body&&.embed-responsive&&script&&Html'));\n    var fr=player_aaaa.from;\n    var url=player_aaaa.url.replace(/\\\\\\//g,'/');\n    //log(url);\n    if(/\\.m3u8/.test(url)){\n        return v.是否视频(url)\n    }else if(v.是否支持魔断(url,fr)){\n        return v.纯魔断(realUrl)\n    }else if(fr === 'xfyun'){\n        realUrl='https://mobilegamestudio.net/?url='+realUrl;\n        return v.纯通免(realUrl)\n    }else{\n        return v.纯通免(input)\n    }\n},解析);\n\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var 验证码='http://www.dijiaxia.com/index.php/verify/index.html?t='+Math.random();\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"http://android-artworks.25pp.com/fs08/2021/07/20/5/110_076936efbf10ceb777f798ed83b29b11_con_100x100.png"},{"last_chapter_rule":"","pageList":[],"title":"视觉影视D♔","author":"道长&蓝莓果酱UX","version":11,"type":"other","url":"hiker://empty##https://shijueyy.com/vod/type/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(\\d+)\\.html/)[1];\n//true_url = 获取正确链接();\nif(!/page/.test(true_url)){\n    true_url = true_url.replace(/\\.html/,'/page/'+page+'.html')\n}\nelse{\ntrue_url = true_url.replace('/page\\/(\\d+)\\.html/','page/'+page+'.html')\n}\n\nlog(true_url);\nlet cates=打造动态分类([{\n    一级分类: '.stui-header__menu',\n    子分类: 'ul&&li:gt(0):lt(10):not(:matches(首页|明星|资讯|敏感|专题))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n},{\n    一级分类: '#screenbox&&ul',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".stui-vodlist&&li;h4&&Text;.lazyload&&data-original;.pic-text&&Text;a&&href;li--h4&&Text\";\n一级(parStr,true); ","search_url":"https://shijueyy.com/v/search/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.data&&Text;.data,2&&Text ',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&data-original',//图片\n url:'.lazyload&&data-original',//可以是影片链接，或者图片也行\n desc:'.detail-sketch&&Text',//一般主演，地区，影片评分等描述\n tabs:'body&&h3:not(:matches(猜你喜欢|剧情介绍|影片评论|推荐专题|&nbsp;热播榜|剧情 热播榜|热播榜|热门|更新))',//列表\n lists:'.stui-content__playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/147.png"},{"last_chapter_rule":"","pageList":[],"title":"闪电.dr","author":"道长","version":1,"type":"video","url":"hiker://empty##https://www.ak1080.me/vodshow/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".myui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/\\/(.*)--------(.*?)---.html/)[2];\ntrue_url = 获取正确链接();\n//log(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.nav-list',\n        子分类: 'body&&li:not(:matches(首页|app下载))',\n        分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+).html/, 'vodshow/$1-----------.html')\n            }\n        }\n    },{\n        一级分类: 'body&&.myui-screen__list',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split(\"##\")[1];\n//log(MY_URL);\nrequire(config.模板);\nlog('cookie:'+getMyVar('cookie'));\nvar html=获取源码(MY_URL);\nif(/输入验证码/.test(html)){\n    showLoading(\"验证码识别中，请稍等\");\n    let vcode=获取验证码('https://www.ak1080.me/index.php/verify/index.html?');;\n    log('获取验证码:'+vcode);\n    let ret=提交验证码('https://www.ak1080.me/index.php/ajax/verify_check?type=search&verify='+vcode);\n    hideLoading();\n    if(/\"msg\"/.test(ret)&&/\"ok\"/.test(ret)){\n       // refreshPage(true);\n        html=获取源码(MY_URL);\n        //log(html);\n        if(/搜索时间间隔/.test(html)){\n            setResult([{\n                title:'搜索验证已自动跳过，等待3秒后下拉刷新',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n        }\n    }else{\n        log('验证未通过:'+ret)\n    }\n}\nparStr=\".myui-vodlist__media&&li;.detail&&h4&&Text;a&&data-original;.pic_text&&Text;a&&href;.detail--h4&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.ak1080.me/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1.title&&Text;#rating&&Text;p.data,1&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'p.data,0&&Text;p.data,2&&Text;p.data,3&&Text',\n content:'meta[name=description]&&content',\n tabs:'.nav-tabs&&li',\n lists:'body&&.myui-content__list,#id&&li',\n tab_id:'',\n};\nvar lazy=$('').lazyRule((v)=>{\neval(pdfh(request(input), '.myui-player__box&&script&&Html'))\n    var url = player_aaaa.url;\n    if (!/http/.test(url)&&/m3u8|mp4/.test(url)) {\n        url='https://jx.ak1080.me'+url\n    }else if(!/m3u8|mp4/.test(url)){\n        url=v.纯通免(input)\n    }\n    return url\n},解析);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var 验证码='https://www.ak1080.me/index.php/verify/index.html?';\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.ak1080.me/template/mytheme/statics/image/20210311/eb4ec58b7.ico"},{"last_chapter_rule":"","pageList":[],"title":"雪人D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##https://qpys.qd234.cn/vodshow/1/page/fypage/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".hl-list-wrap&&li.hl-list-item;a&&title;a&&data-original;.hl-lc-1&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(\\d+)\\//)[1];\n//true_url = 获取正确链接();\nif(!/page/.test(true_url)){\n    true_url = true_url+'page/'+page+'/'\n}\nelse{\ntrue_url = true_url.replace(/page\\/(\\d+)\\//,'page/'+page+'/')\n}\n//log(true_url);\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.hl-nav',\n    子分类: 'ul&&li:has(a[href]):not(:matches(首页|雪人APP|留言|最新|排行)):not(:matches(^$))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype/, 'vodshow')\n            }\n        }\n},{\n    一级分类: 'body&&ul.hl-filter-list:not(.hl-filter-opted)',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n},{\n    一级分类: 'body&&.hl-rb-title',\n    子分类: 'body&&a',\n}]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".hl-list-wrap&&.hl-list-item;a&&title;a&&data-original;.hl-pic-text&&Text;a&&href;P.hl-item-sub,-1&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://qpys.qd234.cn/vodsearch/page/fypage/wd/**/","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h2&&Text;li.hl-col-xs-12,1&&Text;li.hl-col-xs-12,2&&Text',\n img:'.hl-dc-pic&&span&&data-original',\n url:'.hl-dc-pic&&span&&data-original',\n desc:'li.hl-col-xs-12,3&&Text;li.hl-col-xs-12,4&&Text;li.hl-col-xs-12,5&&Text',\n content:'li.hl-col-xs-12,-1&&Text.js:input.replace(\"简介：\",\"\")',\n tabs:'.hl-tabs&&a',\n lists:'body&&.hl-plays-list,#id&&li',\n tab_id:'',\n};\nvar lazy=$('').lazyRule((解析)=>{\n    eval(pdfh(request(input,{}),'body&&.embed-responsive&&script&&Html'));\n    var fr=player_aaaa.from;\n    var url=player_aaaa.url.replace(/\\\\\\//g,'/');\n    log(url);\n    if(/\\.m3u8|\\.mp4/.test(url)){\n        return 解析.是否视频(url)\n    } else{\n        return 解析.纯通免(input)\n    }\n},解析);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/133.png"},{"last_chapter_rule":"","pageList":[],"title":"柠柚.dr","author":"道长&情້໌ᮨ","version":2,"type":"video","url":"hiker://empty##http://mh.e4tv.cn/index.php/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".module-items&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href\";\nvar page = MY_PAGE;\ntrue_url=获取正确链接();\n//log(true_url);\nvar html=获取源码(true_url);\nif (/\\?btwaf=/.test(html)) {\n    let url=MY_URL+'?btwaf'+html.match(/btwaf(.*?)\\\"/)[1];\n    log(\"跳转到:\"+url);\n    html=获取源码(url);\n}\nlet cates=打造动态分类([{\n        一级分类: 'body&&.library-box:not(:matches(部影片))',\n        子分类: '.library-list:not(:matches(预告片))&&a',\n        分类链接: {\n            二次处理(url) {\n                return url\n            }\n        }\n    }]);\n设置(cates);\n一级(parStr,true,cates,null,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true);","search_url":"http://mh.e4tv.cn/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n    title:'.video-info-items,1&&Text;.video-info-aux&&Text',\n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src',\n    desc: '.sqjj_a&&Text',\n    content:'.video-info-content&&Text',\n    tabs:'.module-tab-content,0&&.tab-item',\n    lists:'body&&.sort-item,#id&&a',\n    tab_id:'',\r\n};\n//下面是正版地址，不过被加密了\nvar lazy =$('').lazyRule((解析)=>{\n    let url=JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url;\n    log(url);\n    url=unescape(base64Decode(url));\n    log(url);\n    var 插件=解析.加载魔断();\n    url=插件.魔断().猫('http://jx.e4tv.cn/?url='+url,false,'A42EAC0C2B408472');\n    return 解析.是否视频(url);\n},解析);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://mh.e4tv.cn/mxstatic/picture/logo.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"U23c影院.dr","author":"道长","version":1,"type":"video","url":"hiker://empty##https://www.u23c.com/vodshow/22--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".movie-list-body&&.movie-list-item;.movie-title&&Text;.movie-post-lazyload&&data-original;.movie-rating&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/\\/(.*)--------(.*?)---.html/)[2];\ntrue_url = 获取正确链接();\n//log(true_url)\nlet cates=打造动态分类([{\n        一级分类: '.category-block',\n        子分类: 'body&&a:not(:matches(^$))',\n        \n    },{\n        一级分类: 'body&&.filter-panel',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\"body&&.vod-search-list;.txtHide&&Text;.lazy&&data-original;.movie-rating&&Text;a&&href;.detail&&Text\";\n一级(parStr,true);","search_url":"https://www.u23c.com/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.movie-title&&Text;.cr3&&Text',\n img:'.poster&&img&&src',\n url:'.poster&&img&&src',\n desc:'.scroll-content&&Text;.starLink&&Text',\n content:'.summary&&Text',\n tabs:'body&&#tag&&a',\n lists:'body&&.content_playlist,#id&&li',\n tab_id:'',\n};\n\nvar lazy=$('').lazyRule((v)=>{\n    eval(pdfh(request(input,{}),'body&&#bofang_box&&script&&Html'));\n    var fr=player_aaaa.from;\n    var realUrl=player_aaaa.url.replace(/\\\\\\//g,'/');\n    log(realUrl);\n    var 插件=v.加载魔断();\n    if(/duoduozy/.test(realUrl)){\n        return 插件.DD(realUrl)\n    }\n    else if(/\\.m3u8|\\.mp4/.test(realUrl)){\n        return v.是否视频(realUrl)\n    }else if(v.是否支持魔断(realUrl,fr)){\n        return v.纯魔断(realUrl)\n    }else if(/renrenmi/.test(realUrl)){\n        return 插件.RR(realUrl)\n    }else{\n        return v.纯通免(input)\n    }\n},解析);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://android-artworks.25pp.com/fs08/2021/06/30/11/110_e6a3cfa0cb36a38fed6a529db18b0140_con_130x130.png"},{"last_chapter_rule":"","pageList":[],"title":"星空影视.dr","author":"道长大大","version":1,"type":"video","url":"hiker://empty##https://xkys123.com/vodshow/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".module-list&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/\\/(.*)--------(.*?)---.html/)[2];\ntrue_url = 获取正确链接();\nlog(true_url);\nlet cates=打造动态分类([{ \n        一级分类: 'body&&.library-box',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".module-list&&.module-search-item;a&&title;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-items,-1&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://xkys123.com/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.video-info-header&&h1&&Text;.video-info-header&&h2&&Text;div.tag-link&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src',\n desc:'div.video-info-items&&Text;div.video-info-items,1&&Text;div.video-info-items,3&&Text',\n content:'.video-info-content&&span&&Text',\n tabs:'body&&.tab-item',\n lists:'body&&.sort-item,#id&&a',\n tab_id:'',\n};\nvar lazy=$('').lazyRule((v)=>{\n    eval(pdfh(request(input,{}),'body&&.player-wrapper&&script&&Html'));\n    var fr=player_aaaa.from;\n    var realUrl=player_aaaa.url.replace(/\\\\\\//g,'/');\n    log(realUrl);\n    if(/\\.m3u8/.test(realUrl)){\n        return v.是否视频(realUrl)\n    }else if(v.是否支持魔断(realUrl,fr)){\n        return v.纯魔断(realUrl)\n    }else{\n        return v.纯通免(input)\n    }\n},解析);\n\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://xkys123.com/mxstatic/picture/logo.png"},{"last_chapter_rule":"","pageList":[],"title":"八号D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##http://www.8hyyw.com/frim/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/-(.*?)\\.html/)[1];\n//log('page:'+page);\ntrue_url=getMyVar('header.url',MY_URL);\n//true_url = 获取正确链接();\n//log(true_url);\nif(parseInt(page)>1){\n    true_url=true_url.replace(/\\/(.*?)-(.*?)\\.html/,'/$2.html').replace(/\\/(.*?)\\.html/,'/$1-'+page+'.html')\n}\n//log(true_url);\nlet cates=打造动态分类([{\n    一级分类: '.stui-header__menu',\n    子分类: 'ul&&li:gt(0):lt(8):not(:matches(首页|明星|资讯|敏感|专题|留言|电视直播|APP下载))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n},{\n    一级分类: '.stui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".stui-vodlist__media&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href;.detail&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##http://www.8hyyw.com/search.php?page=fypage&searchword=**&searchtype=","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p.data&&Text;p.data,2&&Text;p.data,1&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&data-original',//图片\n url:'.lazyload&&data-original',//可以是影片链接，或者图片也行\n desc:'.detail-sketch&&Text',//一般主演，地区，影片评分等描述\n tabs:'body&&h3:not(:matches(猜你喜欢|剧情介绍|剧情简介|影片评论|推荐专题|&nbsp;热播榜|剧情 热播榜|热播榜|热门|更新|最新))',//列表\n lists:'.stui-content__playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/143.png"},{"last_chapter_rule":"","pageList":[],"title":"1090D♔","author":"道长&蓝莓果酱UX","version":0,"type":"video","url":"hiker://empty##http://1090ys2.com/whole/2/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(.*?)\\.html/)[1]\ntrue_url = true_url.replace('.html', '/page/' + page + '.html')\n\nlog(true_url);\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.type-slide',\n    子分类: 'ul&&li:has(a[href]):not(:matches(首页|雪人APP|留言|最新|排行|新动漫|会员)):not(:matches(^$))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype/, 'vodshow')\n            }\n        }\n},{\n    一级分类: 'body&&.stui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n},{\n    一级分类: 'body&&.nav',\n    子分类: 'body&&a',\n}]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split(\"##\")[1];\n//log(MY_URL);\nrequire(config.模板);\nlog('cookie:'+getMyVar('cookie'));\nvar html=获取源码(MY_URL);\nif(/输入验证码/.test(html)){\n    showLoading(\"验证码识别中，请稍等\");\n    let vcode=获取验证码('http://1090ys2.com/index.php/verify/index.html?');\n    log('获取验证码:'+vcode);\n    let ret=提交验证码(MY_URL,false,false,'vod_search_verify_code='+vcode);\n    hideLoading();\n    let is_ok=!/请输入验证码/.test(ret);\n    //is_ok=/\"msg\"/.test(ret)&&/\"ok\"/.test(ret);\n    if(is_ok){\n       // refreshPage(true);\n        //html=获取源码(MY_URL);\n        html=ret;\n        //log(html);\n        if(/搜索时间间隔/.test(html)){\n            setResult([{\n                title:'搜索验证已自动跳过，等待3秒后下拉刷新',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n        }\n    }else{\n        setResult([{\n                title:'验证未通过，请尝试重新搜索',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n    }\n}\nlet parStr=\".stui-vodlist__media&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href;.detail&&Text\";\n一级(parStr,true,false,false,html);","search_url":"hiker://empty##http://1090ys2.com/search/wd/**/page/fypage.html","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.data&&Text;.data,2&&Text ',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&data-original',//图片\n url:'.lazyload&&data-original',//可以是影片链接，或者图片也行\n desc:'.detail-sketch&&Text',//一般主演，地区，影片评分等描述\n tabs:'body&&h3:not(:matches(猜你喜欢|剧情介绍|影片评论|推荐专题|&nbsp;热播榜|剧情 热播榜|热播榜|热门|更新))',//列表\n lists:'.stui-content__playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var 验证码='http://1090ys2.com/index.php/verify/index.html?';\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://s4.ax1x.com/2021/12/21/TM7wUx.png"},{"last_chapter_rule":"","pageList":[],"title":"零零漆D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##https://www.007ts.cc/channel/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/-(.*?).html/)[1];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.stui-header__menu',\n    子分类: 'ul&&li:gt(0):lt(8):not(:matches(首页|明星|资讯|敏感|专题|留言|电视直播|APP下载))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n},{\n    一级分类: '#screenbox&&ul',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href;p&&Text\";\n一级(parStr,true); ","search_url":"https://www.007ts.cc/search/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p.data,1&&Text;p.data,2&&Text;p.data,4&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&data-original',//图片\n url:'.lazyload&&data-original',//可以是影片链接，或者图片也行\n desc:'.detail-sketch&&Text',//一般主演，地区，影片评分等描述\n tabs:'.nav&&li',//列表\n lists:'.stui-content__playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/73.png"},{"last_chapter_rule":"","pageList":[],"title":"789D♔","author":"蓝莓果酱UX","version":2,"type":"video","url":"hiker://empty##https://789ba.com/list/2-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/-(.*?).html/)[1];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.stui-header__menu',\n    子分类: 'ul&&li:gt(0):lt(8):not(:matches(首页|明星|资讯|敏感|专题|留言))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n},{\n    一级分类: 'body&&.stui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n},{\n    一级分类: '.nav-tabs',\n    子分类: 'ul&&li:not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".stui-vodlist__media&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\n一级(parStr,true);","search_url":"https://789ys.com/search/**-------------.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p.data,1&&Text;p.data,3&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&data-original',//图片\n url:'.lazyload&&data-original',//可以是影片链接，或者图片也行\n desc:'.desc&&Text',//一般主演，地区，影片评分等描述\n tabs:'body&&h3:not(:matches(猜你喜欢|剧情简介|日韩剧周榜单|日韩剧月榜单|国产剧月榜单|国产剧周榜单|榜单))',//列表\n lists:'.stui-content__playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/55.png"},{"last_chapter_rule":"","pageList":[],"title":"路漫漫.dr","author":"道长","version":10,"type":"video","url":"hiker://empty##https://www.17skr.com/type/dongman_fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"动漫","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&div.video-img-box;h6.title&&Text;img&&data-src;.label&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/(.*)_(.*?).html/)[2];\nif(page>1&&!/_(\\d+)\\.html/.test(true_url)){\ntrue_url = true_url.replace('.html', '_' + page + '.html'); //拼接页码\n}else if(page==\"1\"){\n    true_url=true_url.replace(/_(\\d+).html/,'.html')\n}\n//log(true_url);\nvar html = 获取源码(true_url);\nlet cates=打造动态分类([{\n  一级分类: 'body&&.navbar-nav',\n        子分类: 'body&&a',\n},{\n        一级分类: 'body&&.gutter-20.row.pb-3',\n        子分类: 'body&&a',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&div.video-img-box;h6.title&&Text;img&&data-src;.label&&Text;a&&href\";\n一级(parStr,true,false);","search_url":"https://www.17skr.com/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.page-title&&Text;.video-subtitle&&Text',\n img:'.url_img&&src',\n url:'.url_img&&src',\n desc:'.video-info-aux&&Text;.video-info-items,-3&&Text',\n content:'.content-text&&Text',\n tabs:'.module-tab-content&&.module-tab-item',\n lists:'.scroll-content,#id&&a',\n tab_id:'',\n reChange:function(u){\n     fba.log(\"改变链接，只取&前面内容\");\n     if(/\\.mp4/.test(u)){\n            //u=u.split(\"&\")[0];\n            u=u.replace(\"&type=mp4\",\"\")\n        }else if(/type=m3u8/.test(u)){\n            u = u.split('?')[0]\n        }\n     return u\n }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/36.png"},{"firstHeader":"area","last_chapter_rule":"","pageList":[],"title":"飞极速在线.dr","author":"道长","version":10,"type":"video","url":"http://www.feijisu03.com/tv/0/0/all/fypage.html;get;UTF-8;{User-Agent@Mozilla/5.0 (Windows NT 10.0)&&Cookie@.js:getMyVar('$cookie')}}","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\".list&&li;a&&title;img&&data-img;.hint&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL)\nvar page = MY_URL.match(/(.*)\\/(.*?)\\.html/)[2];\ntrue_url = true_url.replace(/\\/(\\d+.html)/, '/'+page+'.html');\nvar html = 获取源码(true_url);\nlet cates=打造动态分类([{\n        一级分类: 'div.b-listfilter&&dl:not(:matches((?i).*推.*荐.*))',\n        子分类: 'dl&&dd&&a',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nlet d = [];\nlet now_url = MY_URL;\nlet a=now_url.split('/');\nlet key = a.slice(-1)[0];\nlet url = 'http://159.75.7.49:7211/sssv.php?top=10&q='+key;\nlet code=fetch(url,{headers:{'Referer':'http://www.feijisu6.com','Origin':'http://www.feijisu6.com'}});\nlet list =eval(code);\n//log(list);\nfor(let i in list){\n  d.push({\n\ttitle:list[i].title,\n\timg:list[i].thumb,\n\tdesc:list[i].lianzaijs,\n\tcontent:list[i].star,\n\turl:list[i].url+'#immersiveTheme#',\n  });\n}\nsetResult(d)","search_url":"http://m.feijisu06.com/search/**","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1&&Text',\n img:'.b-detailcover&&img&&data-img',\nurl:'.b-detailcover&&img&&src',\ndesc:'.top-info-detail&&.item&&Text',\n content:'.top-info-detail&&.item-desc&&Text',\n tabs:'.playurl&&li',\n lists:'.details-con2-list,#id&&li',\n tab_id:'',\n reChange:function(u){\n     fba.log(\"改变链接，只取&前面内容\");\n     if(/\\.mp4/.test(u)){\n            //u=u.split(\"&\")[0];\n            u=u.replace(\"&type=mp4\",\"\")\n        }else if(/type=m3u8/.test(u)){\n            u = u.split('?')[0]\n        }\n     return u\n }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"text_3","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/104.svg"},{"last_chapter_rule":"","pageList":[],"title":"星星影院.dr","author":"道长","version":8,"type":"video","url":"http://www.xxfqw.com/forum/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&.qcontainer;a&&title;.lazy&&data-original;.v-tips&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page;\nif(/search\\.php/.test(MY_URL)){\n    page = MY_URL.match(/(.*)page=(.*?)&/)[2];\n}else if(/forum/.test(MY_URL)&&/-/.test(MY_URL)){\n    page = MY_URL.match(/(.*)-(.*?).html/)[2];\n}\nif(/forum/.test(true_url)){\n    true_url = true_url.replace(/\\/(\\d+).html/,'/$1-'+page+'.html');\n}else{\n    true_url = true_url.replace(/page=(\\d+)&/,'page='+page+'&')\n}\nvar html = 获取源码(true_url);\nlet cates=打造动态分类([{\n        一级分类: 'body&&.top-nav',\n        子分类: 'body&&li:not(:matches(资讯|首页))',\n    },{\n        一级分类: '#sj-gjsy&&dl',\n        子分类: 'dl&&dd:not(:contains(推荐))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".index-area&&ul&&.qcontainer;a&&title;img&&data-original;.title5nj&&Text;a&&href\";\n一级(parStr,true);","search_url":"http://www.xxfqw.com/search.php?page=fypage&searchword=**&searchtype=","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.ct-c&&.name&&Text',\n img:'.ct-l&&img&&data-original',\n url:'.ct-l&&img&&data-original',\n desc:'.ct-c&&dl&&Text',\ncontent:'.ct-c&&.ee&&Text',\n tabs:'.playfrom&&li',\n lists:'.videourl,#id&&ul&&li',\n tab_id:'',\n reChange:function(url){\n     if(/m3u8&/.test(url)){\n         url=url.split(\"&\")[0]\n     }\n     return url\n }\n \n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/104.svg"},{"last_chapter_rule":"","pageList":[],"title":"猫脱壳.dz","author":"道长","version":2,"type":"tool","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet url='https://jx.5imv.net/m3u8.php?url=';\nlet d=[];\nd.push({\n    title:'万能猫脱壳',\n    desc:'不管是否加密，朕一贱脱光之，来个例子？\\n只需要输入解析地址即可，不用加播放正版地址',\n    col_type:'text_1',\n    url:$('#noLoading#').lazyRule(()=>{\n    putMyVar('url','https://vip.superchen.top:3389/m37u8.php?url=');\n    putMyVar('referer','https://api.okjx.cc:3389');\n    refreshPage(false);\n    return 'toast://例子给你了，不要问我要了！！！'\n})\n});\nd.push({\n    title:'Referer',\n    col_type:'input',\n    desc:'访问来源一般不填，特殊情况要',\n    extra:{\n    defaultValue:getMyVar('referer',''),\n    onChange:\"putMyVar('referer',input)\"\n  }\n});\nd.push({\n    title:'脱壳',\n    col_type:'input',\n    desc:'请输入要脱壳的猫解析地址',\n    url:$.toString(()=>{\n    //return 'toast://已脱壳'\n    \n    return $().rule(()=>{\n        let url=getMyVar('url').split('=')[0]+'=https://v.qq.com/x/cover/m441e3rjq9kwpsc/w0040i00ghg.html';\n        let ref=getMyVar('referer','');\n        setResult([{\n    col_type: \"x5_webview_single\",\n    url: ref?ref:url,\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true,\n        js:$.toString((ref,url)=>{\n             eval(fy_bridge_app.getInternalJs());\n            fba.log('开始注入js');\n            if(ref&&!location.href.includes(url)){\n                fba.log('当前:'+location.href+',准备跳转到:'+url);\n                location.href=url;\n            }else{\n           try{ fba.log('_token_key:'+_token_key);\n            let pwd=window.CryptoJS.enc.Utf8.stringify(_token_key);\n    fba.log('猫密码:'+pwd);\n    if(confirm('已解析出结果:'+pwd+',立即返回查看？')){\n       fba.putVar('mao.ret',pwd); fba.parseLazyRule('hiker://empty@lazyRule=.js:back()');\n    }\n    }catch(e){\n       alert(e.message)\n   }\n   }\n},ref,url)\n   }\n}]);\n    })\n}),\nextra:{\n    defaultValue:getMyVar('url',url),\n    onChange:\"putMyVar('url',input)\"\n}\n});\nd.push({\n    title:'结果为:'+getVar('mao.ret',''),\n    desc:'点击复制',\n    col_type:'text_1',\n    url:$().lazyRule(()=>{\n        copy(getVar('mao.ret',''));\n        return 'hiker://empty'\n    })\n});\nsetResult(d);","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/89.png"},{"last_chapter_rule":"","pageList":[],"title":"886影视.dr","author":"道长","version":7,"type":"video","url":"https://www.886946.com/index.php/vod/show/id/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\".vodlist&&.vodlist_item;a&&title;a&&data-original;.pic_text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)\\/(.*?).html/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n        一级分类: '.top_nav',\n        子分类: 'ul&&li:matches(电影|剧|综艺|动漫)',\n        分类链接: {\n            二次处理(url) {\n                return url.replace(\"/type/\", \"/show/\")\n            }\n        }\n    },{\n        一级分类: 'body&&.screen_list',\n        子分类: 'ul&&li:has(a[href])',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h2.title&&Text',\n img:'.content_thumb&&a&&data-original',\n url:'.content_thumb&&a&&data-original',\n desc:'.content_detail,1&&Text',\ncontent:'.full_text&&Text',\n tabs:'.play_source_tab&&a',\n lists:'.play_list_box,#id&&#playlistbox&&ul&&li',\n tab_id:'',\n 样式:'滚动'\n};\nvar lazy = 魔断(function (url){\n    try {\n        let vipUrl = pdfh(fetch(url),'.play_video&&script,0&&Html');\n        eval(vipUrl);\n        return player_aaaa.url\n    }catch (e) {\n        log(e.message);\n        return url\n    }\n});\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/104.svg"},{"last_chapter_rule":"","pageList":[],"title":"飘花.dr","author":"道长","version":12,"type":"video","url":"https://www.gdlhx.com/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\n\nrequire(config.模板);\nlet parStr=\".vodlist&&li;a&&title;.lazyload&&data-original;.pic_text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/(.*)\\/(.*?).html/)[2];\ntrue_url = 获取正确链接(null,null,false);\nlet cates=打造动态分类([{\n        一级分类: '.top_nav',\n        子分类: 'body&&li:not(:matches(首页|留言))',\n        分类链接: {\n            二次处理(url) {\n                return url.replace(\"/type/\", \"/show/\")\n            }\n        }\n    },{\n        一级分类: 'body&&.screen_list',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".vodlist&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href;p,-1&&Text\";\n一级(parStr,true);","search_url":"https://www.gdlhx.com/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'body&&h2&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'.data,1&&Text',\ncontent:'.content&&.content_desc&&span&&Text',\n tabs:'.play_source_tab,0&&a',\n lists:'#playlistbox,#id&&ul&&li',\n tab_id:'',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/104.svg"},{"last_chapter_rule":"","pageList":[],"title":"韩剧TV.dr","author":"道长","version":1,"type":"video","url":"hiker://empty##https://www.hanjutv.me/hanju/page/fypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".m-movies&&.u-movie;h2&&Text;img&&data-original;.zhuangtai&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\n//var page = MY_URL.match(/\\/(.*)\\/page\\/(.*?)$/)[2];\nvar page=MY_PAGE;\n//log(page);\ntrue_url = 获取正确链接();\n//log(true_url);\nlet data=[{\n        一级分类: 'body&&.nav',\n        子分类: 'body&&li:has(a[href]):matches(韩剧|韩综|韩影)',\n        分类链接: {\n            二次处理(url) {\n                return url.replace(/type\\/(.*).html/, 'show/$1-----------.html')\n            }\n        }\n    }];\nif(/\\/hanju/.test(true_url)){\n    data.push({\n        一级分类: 'body&&.sub-menu',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    });\n}\nlet cates=打造动态分类(data);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL,PC_UA,'https://www.hanjutv.me/');\nparStr=\".m-movies&&.u-movie;h2&&Text;img&&data-original;.zhuangtai&&Text;a&&href\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.siguyy.com/search/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1.article-title&&Text;.article-meta&&Text',\n img:'.video_img&&img&&src',\n url:'.video_img&&img&&src',\n desc:'.video_info&&Text',\n content:\"p.jianjie&&Text\",\n tabs:'#playnav&&li',\n lists:'#playcontainer&&.tab,#id&&a',\n tab_id:'',\n};\nvar 二级处理={\n    重定向:function(url,html){\n    url=pd(html,'#video_list_li&&.vlink&&a&&href');    \n  log(url);          \n  html= 获取源码(url,PC_UA,url);\n  return html;\n}\n\n};\n/*\nvar lazy=$('').lazyRule((v)=>{\n    eval(pdfh(request(input,{}),'body&&.content&&script&&Html'));\n    var url=vid;\n    return url\n},解析);\n*/\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,false,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.hmtv.me/images/icon.png"},{"last_chapter_rule":"","pageList":[],"title":"欧尚影视.dr","author":"道长","version":8,"type":"video","url":"https://www.osdy.cc/videow/dianying--------fypage---.html;get;UTF-8;{User-Agent@Mozilla/5.0 (Windows NT 10.0)&&Cookie@.js:getMyVar('$cookie')}}","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\".fed-list-info&&li;a,1&&Text;a&&data-original;.fed-list-remarks&&Text;a&&href\";\nvar page = MY_URL.match(/--------(.*?)---\\.html/)[1];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n        一级分类: '.fed-casc-list&&dl:not(:matches((?i).*推.*荐.*))',\n        子分类: 'dl&&dd:not(:contains(资讯)):not(:contains(演员)):not(:contains(推荐))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\".fed-part-layout,0&&dl;h1&&a&&Text;a&&data-original;.fed-part-rows&&li,0&&Text;a&&href;.fed-part-rows&&li,-1&&Text;\";\n一级(parStr,true);","search_url":"https://www.osdy.cc/videos/**----------fypage---.html;get;UTF-8;{User-Agent@Mozilla/5.0 (Windows NT 10.0)&&Cookie@.js:getMyVar('$cookie')}","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n    title:'.fed-deta-info&&h1&&Text',\n    img:'.fed-deta-info&&a&&data-original',\n    url:'.fed-deta-info&&a&&data-original',\n    desc:'.fed-deta-info&&ul.fed-part-rows&&li,0&&Text',\n    content:'.fed-deta-info&&ul.fed-part-rows&&li,-1&&Text',\n    tabs:'.fed-tabs-item,0&&ul&&li',\n    lists:'.fed-play-item,#id&&ul,1&&a',\n    tab_id:'',\n    reChange:function(u){\n        fba.log(\"改变链接，只取&前面内容\");\n        if(/\\.mp4/.test(u)){\n            //u=u.split(\"&\")[0];\n            u=u.replace(\"&type=mp4\",\"\")\n        }else if(/\\.m3u8/.test(u)&&/jump=/.test(u)){\n            u = u.split('&')[0]\n        }\n        return u\n    }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/104.svg"},{"last_chapter_rule":"","pageList":[],"title":"大象影视.dr","author":"道长","version":8,"type":"video","url":"hiker://empty##https://www.daxiangtv.net/vodshow/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".myui-vodlist&&li;a&&title;.lazyload&&data-original;.pic_text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?)---\\.html/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n  一级分类: '.myui-header__menu',\n        子分类: 'body&&.hidden-sm:not(:matches(首页|明星|资讯|专题))',\n        分类链接: {\n            二次处理(url) {\n                return url.replace(\"/type/\", \"/show/\")\n            }\n        }\n},{\n        一级分类: '.slideDown-box&&ul',\n        子分类: 'ul&&li:has(a[href])',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"#searchList&&li;.detail&&.title&&Text;.thumb&&a&&data-original;.detail&&p,2&&Text;a&&href;p.hidden-xs&&Text\";\n一级(parStr,true);","search_url":"https://www.daxiangtv.net/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\r\nrequire(config.模板);\r\nlet parse={\r\ntitle:'h1&&Text',\r\n img:'.lazyload&&data-original',\r\n url:'.lazyload&&data-original',\r\n desc:\".myui-content__detail&&Html.js:let d=pdfa(input,'body＆＆＆＆p').slice(1,-2)；；let t=[]；；for(let i in d){t.push(pdfh(d[i],'body＆＆＆＆Text'))；；t.join('\\\\n')}\",\r\n content:'.col-pd&&.data&&Text',\r\n tabs:'.nav&&li',\r\n lists:'.tab-content&&ul,#id&&li',\r\n tab_id:''\r\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/154.png"},{"last_chapter_rule":"","pageList":[],"title":"天空.dr","author":"道长","version":6,"type":"video","url":"https://tv.51aizn.com/index.php/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href.js:input.replace('play','detail')+'#immersiveTheme#'\";\nvar page = MY_URL.match(/(.*)\\/(.*?).html/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类({\n        一级分类: 'body&&.scroll-content',\n        子分类: 'body&&a:not(:matches(其他))',\n    });\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-search-item;h3&&Text;.lazyload&&data-src;.video-serial&&Text;h3&&a&&href;.video-info-main&&.video-info-items,2&&Text\";\n一级(parStr,true);","search_url":"https://tv.51aizn.com/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\ntitle:'.page-title&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src',\n desc:\".video-info-main&&Html.js:let d=pdfa(input,'body＆＆＆＆div').slice(0,3)；；let t=[]；；for(let i in d){t.push(pdfh(d[i],'body＆＆＆＆Text'))；；t.join('\\\\n').replace(/\\\\//g,'')}\",\n content:'.sqjj_a&&Text',\n tabs:'body&&.module-tab-item',\n lists:'body&&.scroll-box-y,#id&&a',\n tab_id:''\n};\nvar lazy=`@lazyRule=.js:JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url`\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://tv.51aizn.com/template/DYXS2/static/picture/logo.png"},{"last_chapter_rule":"js:\nrequire(config.模板);\n最新('.tab-content&&ul&&li,-1&&Text');","pageList":[{"col_type":"text_1","name":"Url处理器","path":"url-processor","rule":"function UrlProcessor() {\n    this.params = {}\n    this.regexMap = [\n        {\n            reg: /videot\\/\\d+/,\n            exec: () => {\n                return this.params.url\n                    .replace(/-\\d+.html/, '-' + this.params.page + '.html')\n                    .replace(/(videot\\/\\d+).html/, '$1-' + this.params.page + '.html')\n            }\n        },\n        {\n            reg: 'vodtype\\\\/\\\\d+',\n            exec: () => {\n                return this.params.url\n                    .replace(/-\\d+.html/, '-' + this.params.page + '.html')\n                    .replace(/(vodtype\\/\\d+).html/, '$1-' + this.params.page + '.html')\n            }\n        },\n        {\n            reg: '\\\\/?[\\\\w\\\\d]+-.*?-.*?-.*?-.*?-.*?-.*?-.*?-\\\\d*---\\\\d*.html',\n            exec: () => {\n                return this.params.url\n                    .replace(/(---.html)/, this.params.page + '$1')\n                    .replace(/(---\\d+.html)/, this.params.page + '$1'); // 拼接页码\n            }\n        },\n    ]\n}\n\nObject.assign(UrlProcessor.prototype, {\n    constructor: UrlProcessor,\n    checkParams() {\n        if (!this.params.url) {\n            throw new Error(\"请先调用 .baseUrl(url) 传入链接进行初始化!\")\n        }\n        if (!this.params.page) {\n            throw new Error(\"请先调用 .page(page) 传入页码进行初始化!\")\n        }\n    },\n    baseUrl(url){\n        this.params.url = url\n        return this\n    },\n    page(page){\n        this.params.page = page\n        return this\n    },\n    addExtra(regExp) {\n        if (regExp.constructor === Array) {\n            this.regexMap = this.regexMap.concat(regExp)\n        } else {\n            this.regexMap.push(regExp)\n        }\n        return this;\n    },\n    exec() {\n        this.checkParams()\n        let true_url = ''\n        for (let i = 0; i < this.regexMap.length; i++) {\n            let regObj = this.regexMap[i];\n            let urlExp = regObj.reg;\n            if (typeof urlExp === 'string') {\n                urlExp = new RegExp(urlExp)\n            }\n            if (urlExp.test(this.params.url)) {\n                true_url = regObj.exec();\n                break;\n            }\n        }\n        if (true_url) {\n            return true_url;\n        } else {\n            return this.params.url\n        }\n    },\n    获取处理结果() {\n        return this.exec()\n    },\n    链接(url) {\n        return this.baseUrl(url)\n    },\n    页码(page) {\n        return this.page(page)\n    },\n    插入新处理规则(regExp) {\n        return this.addExtra(regExp)\n    }\n})\n$.exports=new UrlProcessor()\n$.exports\n"}],"title":"美剧虫.dr","author":"道长&面包&轮回","version":10,"type":"video","url":"https://www.meijuchong.com/vodtype/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\nlet parStr=\".myui-vodlist&&li;a&&title;.lazyload&&data-original;div.module-item-text&&Text;a&&href\";\nvar page = MY_URL.match(/-(.*?).html/)[1];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.nav-list',\n    子分类: 'body&&li:gt(0):lt(5)',\n},{\n    一级分类: 'body&&.myui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".myui-vodlist__media#searchList&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href;p,3&&Text\";\n一级(parStr,true);","search_url":"https://www.meijuchong.com/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1.title&&Text;#rating&&Text;p.data,0&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'p.data,1&&Text;p.data,2&&Text;p.data,3&&Text',\ncontent:'span.sketch.content&&Text',\n tabs:'.nav-tabs&&li',\n lists:'.tab-content&&#id&&ul&&li',\n tab_id:'a&&href',\n};\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"const {getApi} = $.require(\"hiker://page/utiliy?rule=道长仓库Pro\");\nvar 模板 = getApi('importUrl')+\"2505\";\nrequire(模板);\n预处理()","pages":"[{\"col_type\":\"text_1\",\"name\":\"Url处理器\",\"path\":\"url-processor\",\"rule\":\"function UrlProcessor() {\\n    this.params = {}\\n    this.regexMap = [\\n        {\\n            reg: /videot\\\\/\\\\d+/,\\n            exec: () => {\\n                return this.params.url\\n                    .replace(/-\\\\d+.html/, '-' + this.params.page + '.html')\\n                    .replace(/(videot\\\\/\\\\d+).html/, '$1-' + this.params.page + '.html')\\n            }\\n        },\\n        {\\n            reg: 'vodtype\\\\\\\\/\\\\\\\\d+',\\n            exec: () => {\\n                return this.params.url\\n                    .replace(/-\\\\d+.html/, '-' + this.params.page + '.html')\\n                    .replace(/(vodtype\\\\/\\\\d+).html/, '$1-' + this.params.page + '.html')\\n            }\\n        },\\n        {\\n            reg: '\\\\\\\\/?[\\\\\\\\w\\\\\\\\d]+-.*?-.*?-.*?-.*?-.*?-.*?-.*?-\\\\\\\\d*---\\\\\\\\d*.html',\\n            exec: () => {\\n                return this.params.url\\n                    .replace(/(---.html)/, this.params.page + '$1')\\n                    .replace(/(---\\\\d+.html)/, this.params.page + '$1'); // 拼接页码\\n            }\\n        },\\n    ]\\n}\\n\\nObject.assign(UrlProcessor.prototype, {\\n    constructor: UrlProcessor,\\n    checkParams() {\\n        if (!this.params.url) {\\n            throw new Error(\\\"请先调用 .baseUrl(url) 传入链接进行初始化!\\\")\\n        }\\n        if (!this.params.page) {\\n            throw new Error(\\\"请先调用 .page(page) 传入页码进行初始化!\\\")\\n        }\\n    },\\n    baseUrl(url){\\n        this.params.url = url\\n        return this\\n    },\\n    page(page){\\n        this.params.page = page\\n        return this\\n    },\\n    addExtra(regExp) {\\n        if (regExp.constructor === Array) {\\n            this.regexMap = this.regexMap.concat(regExp)\\n        } else {\\n            this.regexMap.push(regExp)\\n        }\\n        return this;\\n    },\\n    exec() {\\n        this.checkParams()\\n        let true_url = ''\\n        for (let i = 0; i < this.regexMap.length; i++) {\\n            let regObj = this.regexMap[i];\\n            let urlExp = regObj.reg;\\n            if (typeof urlExp === 'string') {\\n                urlExp = new RegExp(urlExp)\\n            }\\n            if (urlExp.test(this.params.url)) {\\n                true_url = regObj.exec();\\n                break;\\n            }\\n        }\\n        if (true_url) {\\n            return true_url;\\n        } else {\\n            return this.params.url\\n        }\\n    },\\n    获取处理结果() {\\n        return this.exec()\\n    },\\n    链接(url) {\\n        return this.baseUrl(url)\\n    },\\n    页码(page) {\\n        return this.page(page)\\n    },\\n    插入新处理规则(regExp) {\\n        return this.addExtra(regExp)\\n    }\\n})\\n$.exports=new UrlProcessor()\\n$.exports\\n\"}]","icon":"https://img.qzjlw.com.cn:4433/uploads/images/ico/2020/0907/1599445232481760.png"},{"last_chapter_rule":"","pageList":[],"title":"31看.dr","author":"道长&轮回","version":11,"type":"video","url":"https://www.31kan.com/vodshow/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"疑似失效","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\".myui-vodlist&&li;a&&title;.lazyload&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?)---.html/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: 'body&&.nav-list',\n    子分类: 'ul&&li:gt(0):lt(8):not(:matches(首页|明星|资讯))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n},{\n    一级分类: 'body&&.myui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".myui-vodlist__media&&li;a&&title;.lazyload&&data-original;.pic-text&&Text;a&&href;p,-2&&Text\";\n一级(parStr,true);","search_url":"https://www.31kan.com/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1.title&&Text;#rating&&Text;p.data,0&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'p.data,1&&Text;p.data,2&&Text;p.data,3&&Text',\ncontent:'span.sketch.content&&Text',\n tabs:'.nav-tabs&&li',\n lists:'.tab-content&&#id&&ul&&li',\n tab_id:'a&&href',\n};\n/*var lazy=$('').lazyRule(()=>{\n    require('https://gitee.com/xiao-zero/xiao/raw/master/js/xiao688.js');\n    let code=pdfh(request(input,{}),'.embed-responsive&&script&&Html');\n    eval(code);\n    var url=player_aaaa.url;\n    var fr=player_aaaa.from;\n    input = url;\n    let realUrl=url;\n    if(/AS9y/.test(url)){\n        //log('AS9y');\n        realUrl=ParseS.xfyun(input);\n    }else if(fr==='duoduozy'){\n        //log('多多');\n        realUrl=request(\"https://player.duoduozy.com/ddplay/?url=\" + input, {headers:{'Referer':'https://www.tgys.tv/'}}).match(/urls = \"(.*?)\"/)[1];\n    }else if(fr==='renrenmi'){\n        //log('人人迷');\n        var urll=request(\"https://rr.4kbuka.com/analysis.php?v=\" + input).match(/urls = \"(.*?)\"/)[1];\n        realUrl=cacheM3u8(urll);\n    }else if(fr === 'xfyun'){\n        //log('xfyun');\n        realUrl=ParseS.xfyun(input);\n    }\n    //log(realUrl)\n    return realUrl\n});*/\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://p6.toutiaoimg.com/origin/pgc-image/bc331076687b45a081cd6e15dd022f99"},{"last_chapter_rule":"","pageList":[],"title":"虎猫视频.dr","author":"道长&xiao","version":8,"type":"video","url":"hiker://empty##https://humaosp.com/vodshow/1--------fypage---/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".module-items&&.module-item;a&&title;.lazyloaded&&data-src;.module-item-text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?)---/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.nav-menu-items',\n    子分类: 'ul&&li:gt(0):lt(6)',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n},{\n    一级分类: 'body&&.scroll-content',\n    子分类: 'body&&a:not(:matches(^$)):not(:matches(片库))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL = MY_URL.split(\"##\")[1];\nrequire(config.模板);\nvar html=获取源码(MY_URL);\nparStr=\".module-items&&.module-search-item;.video-info-header&&a&&title;.lazyload&&data-src;.video-info-header&&a&&Text;a&&href;.video-info-items,2&&.video-info-item&&Text\";\nvar 一级处理={\n链接:function(u){\nreturn u.replace(/-(.*)\\//,'/').replace(\"vodplay\",\"voddetail\")+'#immersiveTheme#'\n}\n};\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://humaosp.com/vodsearch/**----------fypage---/","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.video-info-items,2&&Text;.video-info-items,3&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src',\n desc:'.video-info-items,0&&Text;.video-info-items,1&&Text',\ncontent:'.video-info-content&&Text.js:input.replace(\"收起\",\"\")',\n tabs:'body&&.tab-item',\n lists:'.sort-item,#id&&a',\n tab_id:'',\n};\nvar lazy=$('').lazyRule((解析)=>{\n    eval(pdfh(request(input,{}),'body&&.player-wrapper&&script&&Html'));\n    var fr=player_aaaa.from;\n    var url=player_aaaa.url.replace(/\\\\\\//g,'/');\n    url=unescape(url);\n    if(/\\.m3u8|\\.mp4/.test(url)){\n        return 解析.是否视频(url)\n    }else if(fr === 'ltnb'|fr === 'renrenmi'){\n    var playUrl='https://svip.humaosp.com/m3u8.php?url='+url;\n    var 插件=解析.加载魔断();\n    url=插件.魔断().猫(playUrl,false,'E7553EBA544FDA9C');\n        return 解析.是否视频(url)\n    }else if(解析.是否支持魔断(url,fr)){\n        return 解析.纯魔断(url)\n    }else{\n        return 解析.纯通免(input)\n    }\n},解析);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://humaosp.com/template/mxone/img/logo.png"},{"last_chapter_rule":"","pageList":[],"title":"艾迪影视.dr","author":"道长&蓝莓果酱UX","version":10,"type":"video","url":"https://aidi.tv/show/lianxuju--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\".vodlist&& li;a&&title;a&&data-original;.pic_text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?)---/)[2];\n//log(page);\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: 'body&&.all_menu_box',\n    子分类: 'ul&&li:gt(0):lt(8):not(:matches(首页|明星|资讯|敏感|直播))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/\\/v\\/(.*?)\\.html/, '/show/$1-----------.html')\n            }\n        }\n},{\n    一级分类: 'body&&.screen_list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\".vodlist&& li;a&&title;a&&data-original;.pic_text&&Text;a&&href;p,-1&&Text\";\n一级(parStr,true);","search_url":"https://aidi.tv/vsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.hd_tit&&Text;.content_detail,1&&ul&&li,0&&Text', \n img:'.lazyload&&data-original',\n url:'a&&href',\n desc:'.data,1&&Text;.data,2&&Text;.data,3&&Text',\n content:'.full_text&&Text',\n tabs:'#NumTab&&a',\n lists:'body&&div.playlist_full,#id&&li',\n tab_id:''\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/150.png"},{"last_chapter_rule":"","pageList":[],"title":"七年影视.dr","author":"道长","version":3,"type":"video","url":"http://www.shanghupai.net/tv-list-id-1-pg-fypage-order--by--year--letter--area--lang-.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\"#contents&&li;h5&&Text;img&&data-src;.play-txt&&p,2&&Text.js:input.replace('更新时间：','');a&&href\";\nvar page = MY_URL.match(/-pg-(.*?)-order--/)[1];\n//log(page);\n//true_url = 获取正确链接();\ntrue_url=getMyVar('header.url', MY_URL);\ntrue_url = true_url.replace(/pg-(\\d+)/,'pg-'+page);\n//log(true_url);\nlet cates=打造动态分类([{\n    一级分类: '#nav',\n    子分类: 'body&&li:has(a[href]):not(:matches(专题)):not(:matches(^$))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/type/, 'list')\n            }\n        }\n},{\n    一级分类: '.ui-cnt&&.filter-list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\"#contents&&li;h5&&Text;img&&data-src;.play-txt&&p,2&&Text;a&&href;.plot&&Text\";\n一级(parStr,true);","search_url":"http://www.shanghupai.net/tv-search-wd-**-pg-fypage.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.detail-title&&Text;.info&&dl,2&&Text;.info&&dl,3&&Text;', \n img:'.detail-pic&&img&&src',\n url:'.detail-pic&&img&&src',\n desc:'.info&&dl,1&&Text;.info&&dl,4&&Text;.info&&dl,6&&Text',\n content:'.detail-desc-cnt&&Text',\n tabs:'.yunbo_playfrom&&li',\n lists:'.yunbo_url,#id&&li',\n tab_id:''\n};\nvar lazy = $('').lazyRule(()=>{\n    let html = fetch(input);\n    // log('源码获取完毕');\n    let plays = html.match(/mac_url=unescape\\('(.*?)'\\);/)[1];\n    // log(plays);\n    // plays = decodeURIComponent(plays);\n    plays = unescape(plays);\n    // log('plays:'+plays);\n    let mts = input.match(/id-(.*?)-src-(.*?)-num-(.*?).html/);\n    let tabs = plays.split('$$$');\n    let nowTab = tabs[parseInt(mts[2])-1];\n    let nowPlay = nowTab.split('#')[parseInt(mts[3])-1].split('$')[1];\n    if(/renrenmi/.test(nowPlay)){\n        let realUrl = 'http://cdn.maclsj.com/jx/own/link/blue_source.php?url='+nowPlay+'&vid='+mts[1]+'&num='+mts[3];\n        log(realUrl);\n        const {lazyParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\n        return lazyParse(realUrl)\n    }else{\n        const {isVideo} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\n        let realUrl = isVideo(nowPlay);\n        if(typeof(realUrl)=='string'){\n            return realUrl\n        }else{\n            try{\n                eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));\n                eval(fetch(config.cj));\n                log(input+'->'+nowPlay+'正在断插魔改版解析...');\n                // 加入超时设置，建议在首页设置\n                return aytmParse(nowPlay)\n            }catch(e){\n                return nowPlay\n            }\n        }\n    }\n});\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"http://www.shanghupai.net/static/images/logo_qinian.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"哔哩轻小说.dr","author":"道长","version":2,"type":"read","url":"https://w.linovelib.com/topfull/fyAll/fypage.html;get;utf-8;{User-Agent@Mozilla/5.0}","col_type":"movie_3_marquee","class_name":"总点击榜&月点击榜&总推荐榜&月推荐榜&最近更新&最新入库&最新上架&收藏榜&字数榜&新书榜","class_url":"allvisit&monthvisit&allvote&monthvote&lastupdate&postdate&signtime&goodnum&words&newhot","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\n//MY_URL=MY_URL.split(\"##\")[1].split(\";\")[0];\n//log(MY_URL);\nrequire(config.模板);\n依赖检测();\nparStr=\"body&&.module-rank-booklist&&li;h4&&Text;img&&data-original;svg&&title;a&&href\";\nvar 一级处理={\n    链接:function(i){\n        return i.replace(\".html\",\"/catalog\")+'#immersiveTheme#'\n    }\n};\nvar page=MY_URL.match(/\\/(\\d+).html/)[1];\n//var html=获取源码(MY_URL);\nlet cates=[];\n设置(cates);\n一级(parStr,true,cates);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.book-ol-normal&&li;img&&alt;img&&data-original;span,1&&Text;a&&href\";\nvar 一级处理={\n    链接:function(i){\n        return i.replace(\".html\",\"/catalog\")+'#immersiveTheme#'\n    }\n};\n一级(parStr,true);","search_url":"https://w.linovelib.com/sa/**_fypage.html","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n    title:'meta[property=\"og:title\"]&&content',\n    //img:'.content&&img&&src',\n    //url:'.content&&img&&src',\n    desc:'meta[name=\"description\"]&&content',\n    tabs:'body&&.btn-group-cell',\n    content:'meta[property=\"og:description\"]&&content',\n    lists:'body&&#volumes&&li:has(a[href])',\n    线路处理:function(s){\n        return s.split(\" \")[0]\n    }\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \"h1&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#acontent&&Html\")\n    }\n};\nvar lazy=小说(定位);\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://gitee.com/CherishRx/imagewarehouse/raw/master/image/13096725fe56ce9cf643a0e4cd0c159c.gif"},{"last_chapter_rule":"","pageList":[],"title":"4K影视.dr","author":"道长","version":5,"type":"video","url":"hiker://empty##https://www.4kvm.com/movies/page/fypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".data&&h3&&Text;img&&src;.rating&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(.*)/)[1];\nlog(page);\ntrue_url = 获取正确链接().replace(/(.*)\\/page\\/(.*)/,'$1'+'/page/'+page);\nif(!/page/.test(true_url)){\n    true_url+='/page/'+page;\n}\nvar list=/movie/.test(true_url)?\"#archive-content&&.item;\":\".items&&.item;\";\nparStr=list+parStr;\nlog(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.head-main-nav&&#main_header',\n        子分类: 'body&&li:not(:matches(电视剧|首页|高分))'\n    },\n        \n    ]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":".search-page&&.result-item;\n.title&&Text;\na&&href.js:input+\"#immersiveTheme#\";\n.contenido&&Text;\n.contenido&&Text;\nimg&&src","search_url":"https://www.4kvm.com/xssearch?s=**&f=_all&p=fypage","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet lastUrl = getMyVar('lastUrl','');\nif(config.html&&lastUrl===MY_URL){\nvar html = config.html;\n}else{\nvar html=fetch(MY_URL.split('##')[1]);\ninitConfig({\n    html:html\n});\n}\nvar video = pdfa(html, '#episodes&&.se-c');\nif(video.length<1){\n    video = pdfa(html, '#playeroptionsul&&li').map((it)=>{\n        let url=\n        \"https://www.4kvm.com/wp-json/dooplayer/v1/post/\"+pdfh(it, 'li&&data-post')+\"?type=movie&source=1\";\n        let title=pdfh(it, 'body&&Text').replace('edu4kvm.com','在线播放');\n        return \"<a href='\"+url+\"'>\"+title+\"</a>\"\n    });\n}else{\n    let url=pdfh(video[0],'a&&href');\n    let html = request(url);\n                let sel_list_json = html.match(/videourls:\\[(.*?)],/)[1];\n                let sel_list = JSON.parse(sel_list_json);\n                video=sel_list.map((it)=>{\n                    return '<a href=\"'+it.url+'\">第'+it.name+'集</a>'\n                });\n}\nlet parse={\n title:'.data&&h1&&Text;.extra&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.poster&&img&&src',//图片\n url:'.poster&&a&&href',//可以是影片链接，或者图片也行\n desc:'.extra&&Text',//一般主演，地区，影片评分等描述\n content:'.wp-content&&p&&Text',//内容简介，详情\n tabs:'.data&&h1',//线路\n lists:function(){\n     return video\n },//列表\n tab_id:'',//线路id，可不填\n};\nvar lazy=$('').lazyRule(()=>{\n    if(/css/.test(input)){\n        let url=cacheM3u8(input)+'#isVideo=true#';\n        return url\n    }\n    let code = request(input);\n                    let url=JSON.parse(code).embed_url;\n                    if(/source=/.test(url))\n                    {\n                        url=url.split(\"source=\")[1].split(\"&\")[0];\n                        url=decodeURIComponent(url);\n                        //log(url);\n                    }\n                    url=cacheM3u8(url)+'#isVideo=true#';\n                    return url\n    \n});\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://z3.ax1x.com/2021/11/16/Ih3VEj.png"},{"last_chapter_rule":"","pageList":[],"title":"美女网.dm","author":"道长","version":6,"type":"video","url":"https://www.ku137.net/b/1/list_1_fypage.html;get;gb18030","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"美女图","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet ps=\".m-list&&li;a&&title;img&&src;.time&&Text;a&&href\";\nlet picStr = {\n    编码:'gb18030',\n    最大页数:function (html){return pdfh(html, \".page&&Text\").match(/共(.*?)页/)[1]},\n    列表:'.content&&img',\n    图片:'img&&src',\n    链接替换:function (input,p){return input.replace(\".html\", \"_\" + p + \".html\")}\n};\nvar lazy=图片(picStr);\n一级处理={\n    标题:function(u){\n        //.js:input.split('NO.')[1]\n        return u.split('NO.')[1]\n    }\n}\n一级(ps);","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/39.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"白丝美图.dm","author":"道长","version":6,"type":"video","url":"http://meiyuns.com/page/fypage/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"美女图","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet ps=\"body&&.grid__item;.czr-title&&Text;img&&src;.published&&Text;a&&href\";\nvar lazy=config.lazy;\n一级(ps);","searchFind":"js:\nrequire(config.模板);\nlet ps=\"body&&.grid__item;.czr-title&&Text;img&&src;.published&&Text;a&&href;.author-meta&&Text\";\nvar lazy=config.lazy;\n一级(ps);","search_url":"http://meiyuns.com/page/fypage/?s=**","group":"#️⃣道长dr","detail_col_type":"pic_1_card","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\nlet picStr = {\n    //编码:'gb18030',\n    //最大页数:function (html){return pdfh(html, \".page&&Text\").match(/共(.*?)页/)[1]},\n    列表:'body&&.czr-wp-the-content&&img',\n    //图片:'img&&src',\n    //链接替换:function (input,p){return input}\n};\nvar lazy=图片(picStr);\ninitConfig({\n  lazy:lazy\n});","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/39.png"},{"last_chapter_rule":"","pageList":[],"title":"菜芽影视.dr","author":"道长","version":5,"type":"video","url":"https://www.g520.vip/index.php/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\".module-items&&.module-item;a&&title;.lazyloaded&&data-src;.module-item-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/(.*)\\/page\\/(.*?).html/)[2];\ntrue_url = 获取正确链接(null,null,false);\nlet cates=打造动态分类([{\n        一级分类: 'body&&.scroll-content',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-search-item;.video-info&&a&&title;.lazyload&&data-src;.video-serial&&Text;a&&href;.video-info-items,2&&Text\";\n一级(parStr,true);","search_url":"https://www.g520.vip/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'body&&h1.page-title&&Text',\n img:'.lazyload&&data-original',\n url:'.page-title&&a&&href',\n desc:'.video-info-aux&&Text',\ncontent:'.sqjj_a&&Text.js:input.split(\"……\")[0].replace(\"[收起部分]\",\"\")',\n tabs:'body&&.module-tab-item',\n lists:'.sort-item,#id&&div&&a',\n tab_id:'',\n};\nvar lazy=魔断((input)=>{\n    let html=fetch(input);\n        let realUrl=html.match(/var player_aaaa=(.*?)url\":\"(.*?)\",/)[2];\n        realUrl=decodeURIComponent(realUrl);\n        return realUrl\n});\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.g520.vip/template/mxone/static/picture/logo.png"},{"last_chapter_rule":"","pageList":[],"title":"草民电影.dr","author":"道长","version":4,"type":"video","url":"hiker://empty##https://m.cmdy555.com/lianxuju-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".index-area&&li;a&&title;img&&data-original;p,-1&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?).html/)[2];\n//log('page:'+page);\ntrue_url=getMyVar('header.url',MY_URL);\n\nif(!/index\\.php/.test(true_url)){\n    //log('情况1');\n    if(parseInt(page)<2){\n        true_url = true_url.replace(\"-1.html\",\".html\");\n    }else{\n        true_url = true_url.replace(/-[\\d+]/,'').replace(/(.*).html/,'$1'+'-'+page+'.html');\n    }\n    \n}else{\n   // log('情况2');\n     true_url=true_url.replace(/-pg-(.*?)-/,'-pg-'+page+'-');\n}\n//log(true_url);\nlet cates=打造动态分类([{\n    一级分类: 'body&&ul.top-nav',\n    子分类: 'ul&&li:gt(0):lt(5):not(:matches(首页))',\n},\n/*\n{\n        一级分类: 'body&&[id^=topnav]:not([id$=5]):not([id$=3])&&ul',\n        子分类: 'body&&li:has(a[href]):not(:matches(^$))',\n    },\n    */\n    {\n        一级分类:'body&&.sy-nav-down&&dl',\n        子分类:'body&&dd:has(a[href])'\n    }\n    \n    ]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".index-area&&li;a&&title;img&&data-original;p,-1&&Text;a&&href\";\n一级(parStr,true);","search_url":"https://www.cmdy555.com/index.php?m=vod-search-pg-fypage-wd-**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.ct-c&&dt,0&&Text;dd,2&&Text',\n img:'.ct-l&&img&&data-original',\n url:'.ct-l&&img&&data-original',\n desc:'dd,0&&Text;dd,3&&Text;dt,2&&Text',\n content:\".ee&&Text\",\n tabs:'body&&.intro',\n lists:'body&&.videourl,#id&&li',\n tab_id:'',\n 线路处理:function(s){\n     return s.split(\"-\")[0]\n }\n};\nvar lazy=$('').lazyRule(()=>{\n    try{\n        let now=input.match(/(.*)-(.*)$/)[2];\n        log(input);\n        let html=fetch(input);\n        let js = pd(html,'.main,-1&&script&&src');\n        let realUrl = fetch(js).match(/unescape\\('(.*?)'\\)/)[1];\n        //log(realUrl);\n        realUrl=unescape(realUrl);\n        log(realUrl);\n        let plays=realUrl.split('#');\n       // log(realUrl);\n        realUrl=plays[parseInt(now)-1];\n        return realUrl.split('$')[1];\n    }catch(e){\n        log(e.message);\n       // const {lazyParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\n       // return lazyParse(input)\n        return input\n    }\n});\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://img.cmstatic.com/template/m1938/Images/logo.png"},{"last_chapter_rule":"","pageList":[],"title":"奇瑞影视.dr","author":"道长","version":8,"type":"video","url":"hiker://empty##https://m.qrzxyy.com/cd/2-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL = MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr = \"body&&.pic-list&&li;a&&title;a&&img&&src;article&&Text;a&&href\";\nvar page = MY_URL.match(/-(.*?).html/)[1];\n//true_url=获取正确链接();\nlog('当前页数:'+page);\nvar true_url = getMyVar('header.url', MY_URL);\nif(/search\\.php/.test(true_url)){\n    true_url = true_url.replace(/page=(\\d+)&/,'page='+page+'&');\n    if(!/page=/.test(true_url)){\n        true_url=true_url.replace(/(.*)\\?(.*)/,'$1?'+'page='+page+'&$2');\n    }\n    \n}else{\n    true_url = true_url.replace(/\\/(\\d+).html/,'/$1-'+page+'.html');\n}\n//log(true_url);\nlet cates = 打造动态分类([{\n    一级分类: 'body&&.menu_bottom',\n    子分类: 'ul&&li:gt(0):lt(5):not(:matches(首页)',\n}, {\n    一级分类: 'body&&#list-box&&dl',\n    子分类: 'body&&a',\n}]);\n//设置(cates);\n设置(cates,true);\n一级(parStr, true, cates, false, html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".sr_lists&&ul&&li;.content&&h3&&Text;.content&&img&&src;p&&Text;a&&href;.int&&Html\";\nvar 一级处理={\n    内容:(input)=>{\n        return pdfh(input,'p,1&&Text')+'     '+pdfh(input,'p,2&&Text')\n    }\n};\n一级(parStr,true);","search_url":"https://m.qrzxyy.com/search.php?page=fypage&searchword=**&searchtype=","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.content-rt&&h1&&Text;.content-rt&&p,0&&Text;.content-rt&&p,2&&Text',\n img:'.img&&img&&src',\n url:'.img&&a&&href',\n desc:'.content-rt&&p,1&&Text;.content-rt&&p,3&&Text;.content-rt&&p,5&&Text',\n content:'.movie-introduce&&Text.js:input.split(\"……\")[0].replace(\"[收起部分]\",\"\")',\n tabs:'body&&.sBox',\n lists:'ul.player,#id&&li',\n tab_id:'',\n 线路处理:(u)=>{\n     return u.split('第')[0]\n }\n};\nvar lazy=$('').lazyRule(()=>{\n    let m3u8= fetch(input).match(/var now=\"(.*?)\"/)[1];\n   // return cacheM3u8(m3u8)\n   return m3u8\n});\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://m.qrzxyy.com/staticwap/img/logo.png"},{"last_chapter_rule":"","pageList":[],"title":"56影视.dr","author":"道长","version":5,"type":"video","url":"hiker://empty##https://www.vod56.com/guochan/pfypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL = MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr = \".list-unstyled&&li;.img-list-h2&&Text;img&&src;a&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)\\/p(.*?).html/)[2];\n//log('page:'+page);\ntrue_url = getMyVar('header.url', MY_URL);\nif (parseInt(page) > 1) {\n        true_url = true_url.replace('/index/', '/').replace(/(.*)index\\.html/, '$1' + 'p' + page + '.html');;\n} \nif(/list-select/.test(true_url)){\n    true_url=true_url.replace(/(.*)\\.html/,'$1-p-'+page+'.html')\n}\n//log(true_url);\nlet cates = 打造动态分类([   \n {\n        一级分类: 'body&&.ff-nav',\n        子分类: 'body&&a:not(:matches(首页|搜索)):not(:matches(^$))'\n    },{\n        一级分类:'body&&.ss-sx-lh',\n        子分类:'body&&a:not(:matches(^$))'\n    }\n\n]);\n设置(cates);\n一级(parStr, true, cates, false, html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".list-unstyled&&li;.img-list-h2&&a&&title;img&&src;a&&Text;a&&href;.img-list-h4&&Text\"\n一级(parStr,true);","search_url":"https://www.vod56.com/vod-search-wd-**-p-fypage.html","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.shiping-xx&&h1&&Text;.shiping-xx&&li,2&&Text;.shiping-xx&&li&&Text',\n desc:'.shiping-xx&&li,1&&Text;.shiping-xx&&li,3&&Text;.shiping-xx&&ul,2&&Text',\n img:'.shiping-img&&img&&src',\n url:'.shiping-img&&img&&src',\n content:'.jianjie&&Text',\n tabs:'.col-lg-9&&.nav',\n lists:'.tab-content,#id&&ul&&li',\n tab_id:'',\n 线路处理:function(s){\n     return s.split(\" \")[0]\n },\r\n};\nvar lazy=$('').lazyRule(()=>{\n    try{\n        let html=fetch(input);\n        let js = pdfh(html,'#cms_player&&script,0&&Html');\n        let realUrl = js.match(/\"url\":\"(.*?)\",/)[1];\n        realUrl=decodeURIComponent(realUrl);\n       // log(realUrl);\n        return realUrl.replace(/\\\\\\//g,'/');\n    }catch(e){\n        return input\n    }\n});\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/45.svg"},{"last_chapter_rule":"","pageList":[],"title":"兔爷电影.dr","author":"道长","version":5,"type":"video","url":"hiker://empty##https://www.tuyede.com/hanju/index_fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL = MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr = \"ul.vbox&&li;a&&title;img&&src;span&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)\\/index_(.*?).html/)[2];\ntrue_url = getMyVar('header.url', MY_URL);\nif (/index_/.test(true_url)) {\n    if (parseInt(page) > 1) {\n        true_url = true_url.replace(/(.*)\\/index_(.*?).html/, '$1' + '/index_' + page + '.html');\n    }\n}\nif(parseInt(page) === 1){\n    true_url=true_url.replace(/index_(.*?)\\.html/,'')\n}else if(parseInt(page) > 1){\n    if(!/index_/.test(true_url)){\n        true_url+='index_'+page+'.html'\n    }\n}\nlog(true_url);\nvar 关闭折叠=true;\nlet cates = 打造动态分类([{\n        一级分类: 'body&&ul.tuyede-nav',\n        子分类: 'ul&&li:gt(0):lt(7):not(:matches(首页))',\n    }\n]);\n设置(cates);\n一级(parStr, true, cates, false, html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".vbox&&li;a&&title;img&&src;a&&Text;a&&href\";\n一级(parStr,true);","search_url":"https://www.tuyede.com/vsearch**----------fypage---/","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'body&&h1&&Text;.dsj-text&&p,0&&Text;.dsj-text&&p,2&&Text',\n desc:'.dsj-text&&p,1&&Text;.dsj-text&&p,3&&Text;.dsj-text&&p,4&&Text',\n img:'.dsj-pic&&img&&src',\n url:'.dsj-pic&&img&&src',\n content:'Body&&#jq-jieshao&&Text',\n tabs:'body&&.tit04:contains(线路)',\n lists:'body&&.juji-con,#id&&li',\n tab_id:'',\r\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.tuyede.com/template/tuyede/images/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"森林影院.dr","author":"道长&面包&轮回&xiao","version":0,"type":"video","url":"http://98bbw.com/whole/2/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)\\/(.*?).html/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.type-slide',\n    子分类: 'body&&li:gt(0):lt(9)',\n},{\n    一级分类: 'body&&.stui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".stui-vodlist__media&&li;.thumb&&a&&title;.thumb&&a&&data-original;.detail&&p,1&&Text;a&&href;.detail&&p,2&&Text\";\n一级(parStr,true);","search_url":"http://98bbw.com/search/wd/**/page/fypage.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.stui-content__detail&&h1&&Text;.stui-content__detail&&p,0&&Text;.stui-content__detail&&p,2&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'p.data,1&&Text;p.data,3&&Text;.stui-content__detail&&p,4&&Text',\n content:'.detail-content&&Text',\n tabs:'.bottom-line&&h3',\n lists:'.stui-content__playlist,#id&&li',\n tab_id:'',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"http://98bbw.com/statics/img/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"策驰影院.dr","author":"道长&格格","version":1,"type":"video","url":"hiker://empty##http://www.mjlzl.com/vodtype/guochanju-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL = MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr = \".stui-vodlist&&li;a&&title;a&&data-original;a&&Text;a&&href\";\nvar page = MY_URL.match(/-(.*?)\\.html/)[1];\n//log('page:'+page);\ntrue_url=获取正确链接();\nlet cates = 打造动态分类([{\n    一级分类: 'body&&.stui-header__menu',\n    子分类: 'body&&li:gt(0):lt(6):not(:matches(首页))',\n    分类链接: {\n        二次处理(url) {\n            return url.replace(/vodtype\\/(.*)\\.html/, 'vodshow/$1-----------.html')\n        }\n    }\n\n}, {\n    一级分类: 'body&&.stui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr, true, cates, false, html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".stui-vodlist__media&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href;.detail&&Text\";\n一级(parStr,true);","search_url":"http://www.mjlzl.com/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nvar lazy = `@lazyRule=.js:JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url`;\n\nlet parse={\n title:'.stui-content__detail&&h1&&Text;.hidden-sm&&Text',\n img:'.stui-content__thumb&&a&&img&&data-original',\n url:'.stui-content__thumb&&a&&href',\n desc:'.data&&Text',\n content:'#desc&&.col-pd&&Text',\n tabs:'body&&h3:not(:matches(剧情|猜你|榜单))',\n lists:'body&&.stui-content__playlist,#id&&li',\n tab_id:''\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"http://www.mjlzl.com/statics/img/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"乌龟影院.dr","author":"道长","version":2,"type":"video","url":"hiker://empty##https://www.wuguiyy.com/type/lianxuju-fypage/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;a&&Text;a&&href\";\nvar page = MY_PAGE;\ntrue_url = 获取正确链接();\nvar 关闭折叠=true;\nlet cates=打造动态分类([{\n    一级分类: '.type-slide',\n    子分类: 'body&&li:gt(0):lt(5)',\n},{\n    一级分类: 'body&&.stui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1&&Text',\n img:'.lazyload&&data-original',\n url:'.stui-content__thumb&&a&&href',\n desc:'.data,0&&Text;.data,2&&Text;.data,1&&Text',\n content:'.detail-sketch&&Text',\n tabs:'body&&.bottom-line',\n lists:'.stui-content__playlist,#id&&li',\n tab_id:'',\n 线路处理:function(u){\n     return u.split(\" \").slice(-1)[0]\n }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.wuguiyy.com/template/shoutu4/statics/img/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"召唤神龙","author":"道长","version":1,"type":"other","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"游戏","year_url":"","find_rule":"js:\n/** 无需下载APP，点返回即可。*/\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"http://g.vsane.com/game/803/\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true\n    }\n}])","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/145.png"},{"last_chapter_rule":"","pageList":[],"title":"風之漫画.dr","author":"道长","version":1,"type":"video","url":"https://manhua.fffdm.com/;get;utf-8;{User-Agent@Mozilla/5.0}","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"漫画","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nparStr=\"#mhmain&&.round;a,1&&Text;img&&src;;a&&href\";\nvar page=1;\nlet cates=[];\n设置(cates);\n一级(parStr,true,cates);","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"pic_1_full","detail_find_rule":"js:\nrequire(config.模板);\n//lazy=通免();\nlet parse={\n title:'body&&#content&&li,0&&Text',\n img:'#content&&img&&src',\n url:'a&&href',\n desc:'',\n content:'',\n tabs:'head&&title',\n lists:'#content&&li',\n tab_id:'',\n 线路处理:function(u){\n     return \"道长在线\"\n }\n};\nvar lazy=`@lazyRule=.js:var htmls=request(input,{});var ty=parseDomForHtml(htmls,\"body&&script,-5&&Html\");eval(ty);var picConts = base64Decode(temps).split('\\\\r\\\\n');var pics=[];for (var k = 0; k < picConts.length;k++) {pics.push('http://p1.fzacg.com/'+picConts[k])};\"pics://\"+pics.join(\"&&\")`;\nvar 二级处理={\n    选集名称:function(u){\n        try{\n        return u.match(/(\\d+)/)[0];\n        }catch(e){\n            return u\n        }\n    }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n//var 下载='漫画';\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/106.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"阿狸影视.dr","author":"道长&&情້໌ᮨ","version":0,"type":"video","url":"hiker://empty##http://www.aliyuntt.com/index.php/vod/show/id/21/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL = MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&.module-item;.lazyloaded&&alt;.lazyloaded&&data-src;.module-item-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(.*?).html/)[1];\ntrue_url = 获取正确链接(null,null,false).replace(\"/type/\", \"/show/\");\nlet cates=打造动态分类([{\n        一级分类: 'body&&.library-box',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"body&&.module-search-item;h3&&Text;a,1&&href;.video-info&&a&&Text;.video-info-main&&.video-info-item,2&&Text;.lazyload&&data-src","search_url":"http://www.aliyuntt.com/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.page-title&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src',\n desc:'.video-info-aux&&Text',\n content:'.video-info-items,4&&Text',\n tabs:'body&&.module-tab-item',\n lists:'body&&.module-blocklist,#id&&a',\n tab_id:'',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"http://www.aliyuntt.com/upload/dycms/20211109-1/dfed878eabde21e7b2d51210eb50dace.png"},{"last_chapter_rule":"","pageList":[],"title":"炫猫D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##https://www.xuanmao520.com/vod/type/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".myui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(\\d+)\\.html/)[1];\n//true_url = 获取正确链接();\nif(!/page/.test(true_url)){\n    true_url = true_url.replace(/\\.html/,'/page/'+page+'.html')\n}\nelse{\ntrue_url = true_url.replace('/page\\/(\\d+)\\.html/','page/'+page+'.html')\n}\n\nlog(true_url);\nlet cates=打造动态分类([{\n        一级分类: 'body&&.myui-header__menu',\n        子分类: 'body&&li:gt(0):lt(5):not(:matches(首页|特约栏目|小说|资讯|明星))',\n分类链接: {\n            二次处理(url) {\n                return url.replace(/type/, 'show')\n            }\n        }\n    },{\n        一级分类: 'body&&.myui-screen__list',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".myui-vodlist__media&&li;a&&title;a&&data-original;a&&Text;a&&href;p.hidden-xs&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.xuanmao520.com/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p.data,7&&Text;p.data,1&&Text;p.data,0&&Text;p.data,5&&Text;p.data,6&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'.sketch&&Text',\n tabs:'.nav-tabs&&li',\n lists:'body&&.myui-content__list,#id&&li',\n tab_id:'',\n};\n\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/65.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"新樱花动漫","author":"道长&&情້໌ᮨ","version":2,"type":"video","url":"hiker://empty##https://www.xyhdm.cc/vodshow/26--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"动漫","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/-(\\d+)---\\.html/)[1];\n//log(page);\ntrue_url=获取正确链接();\n//log(true_url);\nlet cates=打造动态分类([{\n  一级分类: 'body&&.stui-header__menu',\n        子分类: 'body&&li:has(a[href]):gt(0):lt(5)',\n        分类链接: {\n            二次处理(url) {\n                return url.replace(/\\/vodtype\\/(.*?)\\.html/, '/vodshow/$1-----------.html')\n            }\n        }\n},{\n        一级分类: 'body&&.stui-screen__list,0&&li&&ul',\n        子分类: 'body&&a:not(:matches(^$))',\n    },{\n        一级分类:'body&&.nav-head',\n        子分类:'body&&a'\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".stui-vodlist__media&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href;.detail&&Text\";\n一级(parStr,true);","search_url":"https://www.xyhdm.cc/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.data,0&&Text;.data,1&&Text;.data,2&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'.data,3&&Text;.stui-content__detail&&h1&&Text',\n content:'#desc&&.stui-pannel_bd&&Text',\n tabs:'body&&.bottom-line:not(:matches(剧情|动漫|问题))',\n lists:'body&&.stui-content__playlist,#id&&a',\n tab_id:'',\n 线路处理:function(u){\n     return u.split(\" \").slice(-1)[0]\n }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://syimg.3dmgame.com/uploadimg/ico/2021/0508/1620457935684136.jpg"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"猪猪动漫网.dr","author":"道长&&情້໌ᮨ","version":3,"type":"video","url":"hiker://empty##http://www.girls93.com/index.php/vod/type/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"动漫","year_url":"","find_rule":"js:\nMY_URL = MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr = \".fed-list-info&&li;.fed-list-title&&Text;a&&data-original;.fed-list-remarks&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/\\/(\\d+).html/)[1];\n//true_url = 获取正确链接();\ntrue_url=true_url.replace(/\\/(\\d+)\\.html/,'/'+page+'.html');\n//log(true_url);\nlet cates = 打造动态分类([{\n    一级分类: '.fed-pops-list',\n        子分类: 'body&&li:not(:matches(首页|最近更新|动漫资讯|求片))',\n        分类链接: {\n            二次处理(url) {\n                return url.replace(/id\\/(.*?)\\.html/, \"id/$1/page/1.html\")\n            }\n        }\n    \n}, {\n    一级分类: '.fed-scre-list&&dl',\n    子分类: 'body&&dd:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr, true, cates, false, html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\"body&&.fed-list-deta;dd&&h3&&Text;a&&data-original;.fed-list-remarks&&Text;a&&href;ul.fed-part-rows&&Text\";\n一级(parStr,true);","search_url":"http://www.girls93.com/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h3.fed-part-eone&&Text',\n img:'.fed-list-info&&a&&data-original',\n url:'.fed-list-info&&a&&href', desc:'li.fed-part-eone,2&&Text;li.fed-part-eone,3&&Text;li.fed-part-eone,4&&Text',\n content:'p.fed-conv-text&&Text',\n tabs:'body&&.fed-tabs-foot&&a',//线路\n lists:'body&&.fed-tabs-btm,#id&&li',//列表\n tab_id:'',//线路id，可不填\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"http://www.girls93.com/template/90sdyy_dc/asset/img/logo_golden.png"},{"last_chapter_rule":"","pageList":[{"col_type":"text_center_1","name":"详情页面","path":"details","rule":"js:\nvar d = [];\n//log(MY_URL)\n//log(MY_PARAMS.key);\nvar html = getResCode();\n//log(html);\nd.push({\n    title: '<br>'+pdfh(html, \".article-content&&Html\"),\n    col_type: 'rich_text'\n});\nsetResult(d);"}],"title":"今日热榜.dr","author":"道长&壹隅","version":1,"type":"news","url":"hiker://empty##https://tophub.today/c/tech?p=fypage","col_type":"movie_1_vertical_pic","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"资讯","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".bc-cc&&.cc-cd;.cc-cd-ih&&Text;body&&Html;.cc-cd-cb-l&&a&&Text;a&&href\";\nvar true_url = getMyVar('header.url',MY_URL);\nvar page = MY_URL.match(/p=(\\d+)/)[1];\n//log('当前页码:'+page);\nif(!/p=/.test(true_url)){\ntrue_url = true_url+'?p='+page;\n}\n//log(true_url);\nvar html=获取源码(true_url,PC_UA);\nlet cates=打造动态分类([{\n        一级分类: '#tabbar&&.kb-lb-ib-c',\n        子分类: 'body&&a:not(:matches(^$))',\n},{\n一级分类: '.bc-tc-ob',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\nvar 一级处理={\n    图片:function(input){\n       u=pdfh(input,'img&&src');\n       u=u.replace(/_.*/,'');\n       //u=u+'@Referer=';\n       //log(u);\n       return u\n    }\n};\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".bc-cc&&.cc-mp;a,1&&Text;body&&Html;.Ib-T-n&&Text;a&&href;.dd&&Text\";\nvar 一级处理={\n    图片:function(input){\n       u=pdfh(input,'img&&src');\n       u=u.replace(/_.*/,'');\n       //u=u+'@Referer=';\n       //log(u);\n       return u\n    }\n};\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://tophub.today/search?q=**&e=&p=fypage","group":"#️⃣道长dr","detail_col_type":"movie_1_vertical_pic","detail_find_rule":"js:\nvar d = [];\nMY_URL=MY_URL.split('##')[1];\n//log(MY_URL);\nvar html = fetch(MY_URL);\nvar list = parseDomForArray(html, 'tbody&&tr');\n//log(list);\nd.push({\ntitle: '““””<b>'+'<span style=\"color:#33CCFF\">'+'\\n\\n'+pdfh(html,'head&&title&&Text')+'</span></b>',\nurl: 'toast://点什么点 (｡•ˇ‸ˇ•｡)',\nimg: pdfh(html,'#tabbed-header-panel&&img&&src'),\ncol_type: 'text_center_1'});\nfor(var j=1; j<list.length+1; j++){\nd.push({\r\n        desc:j+'.  '+ pdfh(list[j-1],'a&&Text'),\n        url: $(pd(list[j - 1], 'a&&href')).rule(() => {\n    var texts = [];\n    var html = getResCode();\n    texts.push({\n        title: '<br>' + pdfh(html, \".article-content&&Html\"),\n        col_type: 'rich_text'\n    });\n    setResult(texts);\n}),\n        col_type: 'text_1'\n    \n});\n}\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[{\"col_type\":\"text_center_1\",\"name\":\"详情页面\",\"path\":\"details\",\"rule\":\"js:\\nvar d = [];\\n//log(MY_URL)\\n//log(MY_PARAMS.key);\\nvar html = getResCode();\\n//log(html);\\nd.push({\\n    title: '<br>'+pdfh(html, \\\".article-content&&Html\\\"),\\n    col_type: 'rich_text'\\n});\\nsetResult(d);\"}]","icon":"https://file.ipadown.com/tophub/assets/images/logo.png"},{"last_chapter_rule":"","pageList":[{"col_type":"scroll_button","name":"内容载入","path":"content","rule":"js:\nsetPageTitle('JSON编辑器');\neval(JSON.parse(request('hiker://page/functions')).rule)\nlet AllJson = JSON.parse(readFile('JSONTemp') || '{}'),\n    Path = MY_PARAMS.Path || JSON.parse(base64Decode(getParam('Path'))),\n\t JsonPath = MY_PARAMS.JsonPath,\n    Json = JSONRecur(AllJson, Path),\n    Type = Object.prototype.toString.call(Json).slice(8, -1)\naddListener('onClose', Path.length == 1 ? 'back(false);deleteFile(\"JSONTemp\")' : 'refreshPage(false)')\nif(!JsonPath){\n    try{\n        JsonPath = base64Decode(getParam('JsonPath'));\n    }catch(e){\n        JsonPath='hiker://files/rules/dzHouse/ruleCache/xxx.json';\n    }\n}\nlet el = [{\n    title: '““””' + (Path.join('.') + ': ').bold().fontcolor('#409eff') + '[' + Type + '] 🖋️',\n    url: $(['Object', 'Array', 'String', 'Number', 'Boolean', 'Null'], 2, '选择数据类型').select((Path) => {\n        eval(JSON.parse(request('hiker://page/functions')).rule)\n        let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\n        JSONRecur(AllJson, Path, (self) => typeConvert(self, input))\n        saveFile('JSONTemp', JSON.stringify(AllJson))\n        refreshPage(false)\n    }, Path),\n    col_type: 'text_1',\n    extra: { lineVisible: false },\n}, {\n    title: '✏️修改',\n    url: $(typeConvert(Json, 'String'), '可清空后，导入新内容覆盖\\n可自由选择内容复制').input((Path, Type) => {\n        eval(JSON.parse(request('hiker://page/functions')).rule)\n        let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\n        JSONRecur(AllJson, Path, typeConvert(input, Type))\n        saveFile('JSONTemp', JSON.stringify(AllJson))\n        refreshPage(false)\n    }, Path, Type)\n}, {\n    title: '💾保存',\n    url: $(JsonPath||'hiker://files/', '输入保存文件路径').input((Path) => {\n        eval(JSON.parse(request('hiker://page/functions')).rule)\n        let AllJson = JSON.parse(readFile('JSONTemp') || '{}'),\n            Json = typeConvert(JSONRecur(AllJson, Path), 'String')\n        writeFile(input, Json)\n        return 'toast://已保存至' + input\n    }, Path)\n}, {\n    title: '⌨️更多处理',\n    url: $('self=\"\"', '用JS对本级内容self进行修改\\n大佬级操作，不懂JS慎用').input((Path) => {\n        eval(JSON.parse(request('hiker://page/functions')).rule)\n        let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\n        JSONRecur(AllJson, Path, new Function('self', input + ';return self'))\n        saveFile('JSONTemp', JSON.stringify(AllJson))\n        refreshPage(false)\n    }, Path)\n}, { col_type: 'line_blank' }]\n\nswitch (Type) {\n    case 'Object':\n    case 'Array':\n        eval(JSON.parse(request('hiker://page/' + Type)).rule)\n        break\n    default:\n        el.push({\n            title: String(Json),\n            col_type: 'long_text'\n        })\n}\n\nsetResult(el)\n"},{"col_type":"movie_3","name":"对象解析","path":"Object","rule":"el.splice(-2, 0, {\n    title: '💠新增',\n    url: $('', '输入新增的键值').input((Path) => {\n        eval(JSON.parse(request('hiker://page/functions')).rule)\n        let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\n        JSONRecur(AllJson, Path, (self) => (self[input] = null, self))\n        saveFile('JSONTemp', JSON.stringify(AllJson))\n        return 'hiker://page/content#noHistory##noRecordHistory#?Path=' + base64Encode(JSON.stringify(Path.concat(input)))\n    }, Path)\n}, {\n    title: '📥导入',\n    url: $('hiker://files/', '输入要批量新增的\\n对象JSON或文件路径\\n键值相同的会被覆盖').input((Path) => {\n        eval(JSON.parse(request('hiker://page/functions')).rule)\n        try {\n            input = JSON.parse(input)\n        } catch (e) {\n            input = JSON.parse(request(input))\n        }\n        let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\n        JSONRecur(AllJson, Path, (self) => Object.assign(self, input))\n        saveFile('JSONTemp', JSON.stringify(AllJson))\n        refreshPage(false)\n    }, Path)\n})\nfor (let k in Json) {\n    let v = Json[k],\n        vType = Object.prototype.toString.call(v).slice(8, -1)\n    el.push({\n        title: '““””' + (k + ': ').bold() + '[' + vType + ']',\n        desc: typeConvert(v, 'String').slice(0, 200),\n        url: 'hiker://page/content#noHistory##noRecordHistory#',\n        col_type: 'text_1',\n        extra: {\n            Path: Path.concat(k),\n            lineVisible: false\n        }\n    }, {\n        title: '✎ 键值',\n        url: $('', '新的键值').input((key, Path) => {\n            eval(JSON.parse(request('hiker://page/functions')).rule)\n            let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\n            JSONRecur(AllJson, Path, (self) => (self[input] = self[key], delete self[key], self))\n            saveFile('JSONTemp', JSON.stringify(AllJson))\n            refreshPage(false)\n        }, k, Path)\n    }, {\n        title: '✘ 删除',\n        url: $('确定要删除键值[' + k + ']的内容吗？').confirm((key, Path) => {\n            eval(JSON.parse(request('hiker://page/functions')).rule)\n            let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\n            JSONRecur(AllJson, Path, (self) => (delete self[key], self))\n            saveFile('JSONTemp', JSON.stringify(AllJson))\n            refreshPage(false)\n            return 'hiker://empty'\n        }, k, Path)\n    },{\n        title: '🖨复制键',\n        url: 'copy://'+k\n    },\n    {\n        title: '🖨复制值',\n        url: 'copy://'+typeConvert(v, 'String')\n    },\n     { col_type: 'line' })\n}\n"},{"col_type":"movie_3","name":"数组解析","path":"Array","rule":"el.splice(-2, 0, {\n    title: '💠新增',\n    url: $('#noLoading#').lazyRule((Path, lastIndex) => {\n        eval(JSON.parse(request('hiker://page/functions')).rule)\n        let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\n        JSONRecur(AllJson, Path, (self) => (self.push(null), self))\n        saveFile('JSONTemp', JSON.stringify(AllJson))\n        return 'hiker://page/content#noHistory##noRecordHistory#?Path=' + base64Encode(JSON.stringify(Path.concat(lastIndex)))\n    }, Path, Json.length)\n}, {\n    title: '📥导入',\n    url: $('hiker://files/', '输入要批量新增的\\n数组JSON或文件路径').input((Path) => {\n        eval(JSON.parse(request('hiker://page/functions')).rule)\n        try {\n            input = JSON.parse(input)\n        } catch (e) {\n            input = JSON.parse(request(input))\n        }\n        let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\n        JSONRecur(AllJson, Path, (self) => self.concat(input))\n        saveFile('JSONTemp', JSON.stringify(AllJson))\n        refreshPage(false)\n    }, Path)\n})\nfor (let i = 0; i < Json.length; i++) {\n    let v = Json[i],\n        vType = Object.prototype.toString.call(v).slice(8, -1)\n    el.push({\n        title: '““””' + (i + ': ').bold() + (vType == 'Object' && (v.title || v.name) || '') + ' [' + vType + ']',\n        desc: typeConvert(v, 'String').slice(0, 200),\n        url: 'hiker://page/content#noHistory##noRecordHistory#',\n        col_type: 'text_1',\n        extra: {\n            Path: Path.concat(i),\n            lineVisible: false\n        }\n    }, {\n        title: '⇵ 移动',\n        url: $(String(i), '要移动到的位置序号').input((index, Path) => {\n            eval(JSON.parse(request('hiker://page/functions')).rule)\n            let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\n            JSONRecur(AllJson, Path, (self) => (self.splice(input, 0, self.splice(index, 1)[0]), self))\n            saveFile('JSONTemp', JSON.stringify(AllJson))\n            refreshPage(false)\n        }, i, Path)\n    }, {\n        title: '✘ 删除',\n        url: $('确定要删除序号[' + i + ']的内容吗？').confirm((index, Path) => {\n            eval(JSON.parse(request('hiker://page/functions')).rule)\n            let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\n            JSONRecur(AllJson, Path, (self) => (self.splice(index, 1), self))\n            saveFile('JSONTemp', JSON.stringify(AllJson))\n            refreshPage(false)\n            return 'hiker://empty'\n        }, i, Path)\n    },\n    {\n        title: '🖨复制值',\n        url: 'copy://'+typeConvert(v, 'String')\n    },{ col_type: 'line' })\n}\n"},{"col_type":"movie_3","name":"公用函数","path":"functions","rule":"function typeConvert(value, type) {\n    let vType = Object.prototype.toString.call(value).slice(8, -1)\n    switch (type) {\n        case 'Object':\n            switch (vType) {\n                case 'Object':\n                    return value\n                case 'Array':\n                    return value.reduce((obj, v, i) => {\n                        obj[i] = value[i]\n                        return obj\n                    }, {})\n                case 'String':\n                    try {\n                        return JSON.parse(value)\n                    } catch (e) { return {} };\n                default:\n                    return {}\n            };\n        case 'Array':\n            switch (vType) {\n                case 'Object':\n                    return Object.keys(value).map((k) => value[k])\n                case 'Array':\n                    return value\n                case 'String':\n                    try {\n                        return JSON.parse(value)\n                    } catch (e) { return [] };\n                default:\n                    return []\n            };\n        case 'String':\n            switch (vType) {\n                case 'Object':\n                case 'Array':\n                    return JSON.stringify(value)\n                default:\n                    return String(value)\n            };\n        case 'Number':\n            return Number(value) || 0\n        case 'Boolean':\n            try { value = eval(value) } catch (e) {}\n            return Boolean(value)\n        case 'Null':\n            return null\n    }\n}\n\nfunction JSONRecur(json, path, value, isCode) {\n    if (path.length == 1) {\n        if (value === undefined) {\n            return json[path[0]]\n        } else if (typeof value == 'function') {\n            json[path[0]] = value(json[path[0]])\n        } else json[path[0]] = value\n    } else {\n        return JSONRecur(json[path[0]], path.slice(1), value, isCode)\n    }\n}\n"},{"col_type":"text_center_1","name":"对外接口","path":"interface","rule":"js:\n/*\n入口示例\n{ url: 'hiker://page/interface#noHistory##noRecordHistory#?rule=JSON编辑器', extra: { Json: JSON对象或字符串或文件地址 } }\n{ url: 'hiker://page/interface#noHistory##noRecordHistory#?rule=JSON编辑器&Json='+base64Encode(JSON字符串或文件地址)) }\n*/\nsetPageTitle('JSON编辑器')\nlet Json = MY_PARAMS.Json || base64Decode(getParam('Json'));\nlet JsonPath=typeof(Json)== 'string'&&/^hiker:|^file:/.test(Json)?Json:'hiker://files/';\nif (typeof Json != 'object'){\n    try {\n        Json = JSON.parse(Json);\n    } catch (e) {\n        try{\n        if(Json.includes('rules/files/')){\n           let fl=Json.split('/').slice(-1)[0];\n           //log(fl);\n           Json=JSON.parse(readFile(fl,0));\n        }else{\n            Json = JSON.parse(request(Json));\n        }\n        }catch(e){\n            Json='null';\n        }\n    }\n}\nvar d=[];\nif(Json!=='null'){\n    saveFile('JSONTemp', JSON.stringify({ this: Json }))\nJson = JSON.stringify(Json, null, 2)\nif(Json.length > 10000) Json = Json.slice(0, 9999) + '\\n\\n......'\n    d.push({\n    title: '““””<b>点我开始编辑Json',\n    desc: '““””<b>预览',\n    url: 'hiker://page/content#noHistory##noRecordHistory#',\n    extra: { Path: ['this'],JsonPath:JsonPath },\n})\n}else{\n    d.push({\n        title:'JSON文件错误，请用其他编辑器编辑',\n        url:'hiker://empty'\n    })\n}\nd=d.concat([{title:'视界编辑器编辑',col_type:'text_2', url:'editFile://'+JsonPath},\n{title:'外部查看编辑',col_type:'text_2',url:'openFile://'+JsonPath}\n,{ title: Json, col_type: 'long_text' }])\n\nsetResult(d);\n"}],"title":"JSON编辑器","author":"永远の明日&道长","version":10,"type":"tool","url":"hiker://empty","col_type":"text_center_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"工具","year_url":"","find_rule":"js:\nlet history = JSON.parse(readFile('history') || '[]'),\n    el = [{\n        desc: '输入JSON或文件路径...',\n        url: $.toString((history) => {\n            let Json = {}\n            try {\n                Json = JSON.parse(input)\n            } catch (e) {\n                if(/^\\/storage\\/|^\\/sdcard\\//.test(input)){\r\n                input = 'file://'+input;\r\n            }\n                Json = JSON.parse(request(input))\n                if (!history.includes(input)) {\n                    history.push(input)\n                    saveFile('history', JSON.stringify(history))\n                }\n            }\n            saveFile('JSONTemp', JSON.stringify({ this: Json }))\n            let extra=/^hiker:|^file:/.test(input)?'JsonPath='+base64Encode(input):'';\n            //log(extra);\n            return 'hiker://page/content?'+extra+'#noHistory##noRecordHistory#'\n        }, history),\n        extra: { Path: ['this']},\n        col_type: 'input'\n    }, {\n        title: '““””<big><b>历史记录 &nbsp</b></big>🗑',\n        url: $(['清空历史记录', '删除单项记录']).select(() => {\n            if (input == '清空历史记录') {\n                deleteFile('history')\n                refreshPage(false)\n            } else {\n                let code = function(his, code) {\n                    return $(['““””' + '返回并应用'.bold().fontcolor('#f44236')].concat(his), 1).select((his, code) => {\n                        if (input == '““””' + '返回并应用'.bold().fontcolor('#f44236')) {\n                            saveFile('history', JSON.stringify(his))\n                            refreshPage()\n                            return\n                        } else {\n                            his.splice(his.indexOf(input), 1)\n                            return code(his, code)\n                        }\n                    }, his, code)\n                }\n                return code(JSON.parse(readFile('history') || '[]'), code)\n            }\n        }),\n        col_type: 'text_1'\n    }]\nhistory.forEach((v) => el.push({\n    title: v,\n    url: $('#noLoading#').lazyRule((url) => {\n        let Json = JSON.parse(request(url))\n        saveFile('JSONTemp', JSON.stringify({ this: Json }))\n        return 'hiker://page/content#noHistory##noRecordHistory#'\n    }, v),\n    extra: { Path: ['this'] ,JsonPath:v},\n}))\nsetResult(el)\n","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"/*\n\n*/","pages":"[{\"col_type\":\"scroll_button\",\"name\":\"内容载入\",\"path\":\"content\",\"rule\":\"js:\\nsetPageTitle('JSON编辑器');\\neval(JSON.parse(request('hiker://page/functions')).rule)\\nlet AllJson = JSON.parse(readFile('JSONTemp') || '{}'),\\n    Path = MY_PARAMS.Path || JSON.parse(base64Decode(getParam('Path'))),\\n\\t JsonPath = MY_PARAMS.JsonPath,\\n    Json = JSONRecur(AllJson, Path),\\n    Type = Object.prototype.toString.call(Json).slice(8, -1)\\naddListener('onClose', Path.length == 1 ? 'back(false);deleteFile(\\\"JSONTemp\\\")' : 'refreshPage(false)')\\nif(!JsonPath){\\n    try{\\n        JsonPath = base64Decode(getParam('JsonPath'));\\n    }catch(e){\\n        JsonPath='hiker://files/rules/dzHouse/ruleCache/xxx.json';\\n    }\\n}\\nlet el = [{\\n    title: '““””' + (Path.join('.') + ': ').bold().fontcolor('#409eff') + '[' + Type + '] 🖋️',\\n    url: $(['Object', 'Array', 'String', 'Number', 'Boolean', 'Null'], 2, '选择数据类型').select((Path) => {\\n        eval(JSON.parse(request('hiker://page/functions')).rule)\\n        let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\\n        JSONRecur(AllJson, Path, (self) => typeConvert(self, input))\\n        saveFile('JSONTemp', JSON.stringify(AllJson))\\n        refreshPage(false)\\n    }, Path),\\n    col_type: 'text_1',\\n    extra: { lineVisible: false },\\n}, {\\n    title: '✏️修改',\\n    url: $(typeConvert(Json, 'String'), '可清空后，导入新内容覆盖\\\\n可自由选择内容复制').input((Path, Type) => {\\n        eval(JSON.parse(request('hiker://page/functions')).rule)\\n        let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\\n        JSONRecur(AllJson, Path, typeConvert(input, Type))\\n        saveFile('JSONTemp', JSON.stringify(AllJson))\\n        refreshPage(false)\\n    }, Path, Type)\\n}, {\\n    title: '💾保存',\\n    url: $(JsonPath||'hiker://files/', '输入保存文件路径').input((Path) => {\\n        eval(JSON.parse(request('hiker://page/functions')).rule)\\n        let AllJson = JSON.parse(readFile('JSONTemp') || '{}'),\\n            Json = typeConvert(JSONRecur(AllJson, Path), 'String')\\n        writeFile(input, Json)\\n        return 'toast://已保存至' + input\\n    }, Path)\\n}, {\\n    title: '⌨️更多处理',\\n    url: $('self=\\\"\\\"', '用JS对本级内容self进行修改\\\\n大佬级操作，不懂JS慎用').input((Path) => {\\n        eval(JSON.parse(request('hiker://page/functions')).rule)\\n        let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\\n        JSONRecur(AllJson, Path, new Function('self', input + ';return self'))\\n        saveFile('JSONTemp', JSON.stringify(AllJson))\\n        refreshPage(false)\\n    }, Path)\\n}, { col_type: 'line_blank' }]\\n\\nswitch (Type) {\\n    case 'Object':\\n    case 'Array':\\n        eval(JSON.parse(request('hiker://page/' + Type)).rule)\\n        break\\n    default:\\n        el.push({\\n            title: String(Json),\\n            col_type: 'long_text'\\n        })\\n}\\n\\nsetResult(el)\\n\"},{\"col_type\":\"movie_3\",\"name\":\"对象解析\",\"path\":\"Object\",\"rule\":\"el.splice(-2, 0, {\\n    title: '💠新增',\\n    url: $('', '输入新增的键值').input((Path) => {\\n        eval(JSON.parse(request('hiker://page/functions')).rule)\\n        let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\\n        JSONRecur(AllJson, Path, (self) => (self[input] = null, self))\\n        saveFile('JSONTemp', JSON.stringify(AllJson))\\n        return 'hiker://page/content#noHistory##noRecordHistory#?Path=' + base64Encode(JSON.stringify(Path.concat(input)))\\n    }, Path)\\n}, {\\n    title: '📥导入',\\n    url: $('hiker://files/', '输入要批量新增的\\\\n对象JSON或文件路径\\\\n键值相同的会被覆盖').input((Path) => {\\n        eval(JSON.parse(request('hiker://page/functions')).rule)\\n        try {\\n            input = JSON.parse(input)\\n        } catch (e) {\\n            input = JSON.parse(request(input))\\n        }\\n        let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\\n        JSONRecur(AllJson, Path, (self) => Object.assign(self, input))\\n        saveFile('JSONTemp', JSON.stringify(AllJson))\\n        refreshPage(false)\\n    }, Path)\\n})\\nfor (let k in Json) {\\n    let v = Json[k],\\n        vType = Object.prototype.toString.call(v).slice(8, -1)\\n    el.push({\\n        title: '““””' + (k + ': ').bold() + '[' + vType + ']',\\n        desc: typeConvert(v, 'String').slice(0, 200),\\n        url: 'hiker://page/content#noHistory##noRecordHistory#',\\n        col_type: 'text_1',\\n        extra: {\\n            Path: Path.concat(k),\\n            lineVisible: false\\n        }\\n    }, {\\n        title: '✎ 键值',\\n        url: $('', '新的键值').input((key, Path) => {\\n            eval(JSON.parse(request('hiker://page/functions')).rule)\\n            let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\\n            JSONRecur(AllJson, Path, (self) => (self[input] = self[key], delete self[key], self))\\n            saveFile('JSONTemp', JSON.stringify(AllJson))\\n            refreshPage(false)\\n        }, k, Path)\\n    }, {\\n        title: '✘ 删除',\\n        url: $('确定要删除键值[' + k + ']的内容吗？').confirm((key, Path) => {\\n            eval(JSON.parse(request('hiker://page/functions')).rule)\\n            let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\\n            JSONRecur(AllJson, Path, (self) => (delete self[key], self))\\n            saveFile('JSONTemp', JSON.stringify(AllJson))\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, k, Path)\\n    },{\\n        title: '🖨复制键',\\n        url: 'copy://'+k\\n    },\\n    {\\n        title: '🖨复制值',\\n        url: 'copy://'+typeConvert(v, 'String')\\n    },\\n     { col_type: 'line' })\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"数组解析\",\"path\":\"Array\",\"rule\":\"el.splice(-2, 0, {\\n    title: '💠新增',\\n    url: $('#noLoading#').lazyRule((Path, lastIndex) => {\\n        eval(JSON.parse(request('hiker://page/functions')).rule)\\n        let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\\n        JSONRecur(AllJson, Path, (self) => (self.push(null), self))\\n        saveFile('JSONTemp', JSON.stringify(AllJson))\\n        return 'hiker://page/content#noHistory##noRecordHistory#?Path=' + base64Encode(JSON.stringify(Path.concat(lastIndex)))\\n    }, Path, Json.length)\\n}, {\\n    title: '📥导入',\\n    url: $('hiker://files/', '输入要批量新增的\\\\n数组JSON或文件路径').input((Path) => {\\n        eval(JSON.parse(request('hiker://page/functions')).rule)\\n        try {\\n            input = JSON.parse(input)\\n        } catch (e) {\\n            input = JSON.parse(request(input))\\n        }\\n        let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\\n        JSONRecur(AllJson, Path, (self) => self.concat(input))\\n        saveFile('JSONTemp', JSON.stringify(AllJson))\\n        refreshPage(false)\\n    }, Path)\\n})\\nfor (let i = 0; i < Json.length; i++) {\\n    let v = Json[i],\\n        vType = Object.prototype.toString.call(v).slice(8, -1)\\n    el.push({\\n        title: '““””' + (i + ': ').bold() + (vType == 'Object' && (v.title || v.name) || '') + ' [' + vType + ']',\\n        desc: typeConvert(v, 'String').slice(0, 200),\\n        url: 'hiker://page/content#noHistory##noRecordHistory#',\\n        col_type: 'text_1',\\n        extra: {\\n            Path: Path.concat(i),\\n            lineVisible: false\\n        }\\n    }, {\\n        title: '⇵ 移动',\\n        url: $(String(i), '要移动到的位置序号').input((index, Path) => {\\n            eval(JSON.parse(request('hiker://page/functions')).rule)\\n            let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\\n            JSONRecur(AllJson, Path, (self) => (self.splice(input, 0, self.splice(index, 1)[0]), self))\\n            saveFile('JSONTemp', JSON.stringify(AllJson))\\n            refreshPage(false)\\n        }, i, Path)\\n    }, {\\n        title: '✘ 删除',\\n        url: $('确定要删除序号[' + i + ']的内容吗？').confirm((index, Path) => {\\n            eval(JSON.parse(request('hiker://page/functions')).rule)\\n            let AllJson = JSON.parse(readFile('JSONTemp') || '{}')\\n            JSONRecur(AllJson, Path, (self) => (self.splice(index, 1), self))\\n            saveFile('JSONTemp', JSON.stringify(AllJson))\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, i, Path)\\n    },\\n    {\\n        title: '🖨复制值',\\n        url: 'copy://'+typeConvert(v, 'String')\\n    },{ col_type: 'line' })\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"公用函数\",\"path\":\"functions\",\"rule\":\"function typeConvert(value, type) {\\n    let vType = Object.prototype.toString.call(value).slice(8, -1)\\n    switch (type) {\\n        case 'Object':\\n            switch (vType) {\\n                case 'Object':\\n                    return value\\n                case 'Array':\\n                    return value.reduce((obj, v, i) => {\\n                        obj[i] = value[i]\\n                        return obj\\n                    }, {})\\n                case 'String':\\n                    try {\\n                        return JSON.parse(value)\\n                    } catch (e) { return {} };\\n                default:\\n                    return {}\\n            };\\n        case 'Array':\\n            switch (vType) {\\n                case 'Object':\\n                    return Object.keys(value).map((k) => value[k])\\n                case 'Array':\\n                    return value\\n                case 'String':\\n                    try {\\n                        return JSON.parse(value)\\n                    } catch (e) { return [] };\\n                default:\\n                    return []\\n            };\\n        case 'String':\\n            switch (vType) {\\n                case 'Object':\\n                case 'Array':\\n                    return JSON.stringify(value)\\n                default:\\n                    return String(value)\\n            };\\n        case 'Number':\\n            return Number(value) || 0\\n        case 'Boolean':\\n            try { value = eval(value) } catch (e) {}\\n            return Boolean(value)\\n        case 'Null':\\n            return null\\n    }\\n}\\n\\nfunction JSONRecur(json, path, value, isCode) {\\n    if (path.length == 1) {\\n        if (value === undefined) {\\n            return json[path[0]]\\n        } else if (typeof value == 'function') {\\n            json[path[0]] = value(json[path[0]])\\n        } else json[path[0]] = value\\n    } else {\\n        return JSONRecur(json[path[0]], path.slice(1), value, isCode)\\n    }\\n}\\n\"},{\"col_type\":\"text_center_1\",\"name\":\"对外接口\",\"path\":\"interface\",\"rule\":\"js:\\n/*\\n入口示例\\n{ url: 'hiker://page/interface#noHistory##noRecordHistory#?rule=JSON编辑器', extra: { Json: JSON对象或字符串或文件地址 } }\\n{ url: 'hiker://page/interface#noHistory##noRecordHistory#?rule=JSON编辑器&Json='+base64Encode(JSON字符串或文件地址)) }\\n*/\\nsetPageTitle('JSON编辑器')\\nlet Json = MY_PARAMS.Json || base64Decode(getParam('Json'));\\nlet JsonPath=typeof(Json)== 'string'&&/^hiker:|^file:/.test(Json)?Json:'hiker://files/';\\nif (typeof Json != 'object'){\\n    try {\\n        Json = JSON.parse(Json);\\n    } catch (e) {\\n        try{\\n        if(Json.includes('rules/files/')){\\n           let fl=Json.split('/').slice(-1)[0];\\n           //log(fl);\\n           Json=JSON.parse(readFile(fl,0));\\n        }else{\\n            Json = JSON.parse(request(Json));\\n        }\\n        }catch(e){\\n            Json='null';\\n        }\\n    }\\n}\\nvar d=[];\\nif(Json!=='null'){\\n    saveFile('JSONTemp', JSON.stringify({ this: Json }))\\nJson = JSON.stringify(Json, null, 2)\\nif(Json.length > 10000) Json = Json.slice(0, 9999) + '\\\\n\\\\n......'\\n    d.push({\\n    title: '““””<b>点我开始编辑Json',\\n    desc: '““””<b>预览',\\n    url: 'hiker://page/content#noHistory##noRecordHistory#',\\n    extra: { Path: ['this'],JsonPath:JsonPath },\\n})\\n}else{\\n    d.push({\\n        title:'JSON文件错误，请用其他编辑器编辑',\\n        url:'hiker://empty'\\n    })\\n}\\nd=d.concat([{title:'视界编辑器编辑',col_type:'text_2', url:'editFile://'+JsonPath},\\n{title:'外部查看编辑',col_type:'text_2',url:'openFile://'+JsonPath}\\n,{ title: Json, col_type: 'long_text' }])\\n\\nsetResult(d);\\n\"}]","proxy":"","icon":"https://img.icons8.com/?format=png&id=6or30FVdPylJ&size=96"},{"last_chapter_rule":"","pageList":[],"title":"书包.dr","author":"道长","version":5,"type":"read","url":"hiker://empty##https://www.shubaob.net/sort/fypage/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".side_commend&&ul&&li;h2&&Text;img&&data-original;.fa-user-circle-o&&Text;a&&href;.indent&&Text\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/sort\\/(.*?)\\//)[1];\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(/sort\\/$/.test(true_url)){\n    true_url=true_url+page+'/'\n}\nelse{\n   true_url=true_url.replace('_1','_'+page)\n}\n//log(true_url);\nlet cates=打造动态分类([{\n        一级分类: 'body&&#after_menu',\n        子分类: 'div,-1&&a:not(:matches(^$))',\n        \n    },{\n        一级分类: 'body&&.header_right',\n        子分类: 'body&&a:matches(书库|完本)',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split(\"##\")[1];\nlet pars=MY_URL.split(\"?\")[1];\nlet html=post(MY_URL.split(\"?\")[0],{\n    body:pars,\n    headers:{\n        \"User-Agent\":MOBILE_UA,\n        \"Cookie\":getMyVar(\"cookie\")\n    }\n});\nparStr=\"body&&.searchresult;a,1&&Text;img&&data-original;p,-3&&Text;a,1&&href;.searchresult_p&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.shubaob.net/search/?searchkey=**&searchtype=all&Submit=","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.novel_info_title&&h1&&Text;.novel_info_title&&i&&Text;.novel_info_title&&p&&span&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.novel_info_main&&img&&src',//图片\n url:'.novel_info_main&&img&&src',//可以是影片链接，或者图片也行\n desc:'.novel_info_title&&p&&span,1&&Text;.novel_info_title&&p&&span,2&&Text;.flex&&Text',//一般主演，地区，影片评分等描述\n content:'#info&&.intro&&Text',\n tabs:'body&&#a_catalog',//线路\n //lists:'body&&.BGsectionThree-content,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n lists:'#ul_all_chapters,#id&&li'\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".style_h1&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#article&&Html\")\n    },\n    链接:function(html){\n        //log('进了链接获取函数');\n        //log(MY_URL);\n        let host = MY_URL.match(/(.*)\\/\\/(.*?)\\//)[0];\n         if(pdfh(html,'#next_url&&Text').includes('下一页')){\n             let urls=[host+pdfh(html,'#next_url&&href')]; \n             //log(urls);\n            return urls\n            }\n    }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\nvar lazy=小说(定位);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://m.shubaob.net/static/ss_wap2/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"稻草人.dr","author":"道长","version":1,"type":"read","url":"hiker://empty##https://www.07dcr.com/xuanhuan.html#fypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1].split('#')[0];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".main&&.row&&.mb10;h4&&Text;img&&data-original;;a&&href;.media-info&&Text\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_PAGE;\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(page>1){\n    true_url=true_url.replace('.html',page+'.html')\n}\n//log(true_url);\nvar 关闭折叠=true;\nlet cates=打造动态分类([{\n        一级分类: 'body&&.breadcrumb',\n        子分类: 'body&&li:not(:matches(连载|完结))',\n        \n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split(\"##\")[1];\nlet html=request(MY_URL);\nparStr=\".table-condensed&&tbody&&tr;a&&title;;;a,0&&href;body&&Text\";\nvar 一级处理={\n    内容:function(u){\n        return u.trim().split(' ')[1]\n    }\n};\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.07dcr.com/plus/search.php?q=**","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.book-name&&Text;.media-body&&.dark&&Text;.media-body&&.dark,1&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.book-img-middel&&src',//图片\n url:'.book-img-middel&&src',//可以是影片链接，或者图片也行\n desc:'.dark,2&&Text;.dark,-2&&Text;.dark,-1&&Text',//一般主演，地区，影片评分等描述\n content:'.book-detail&&Text',\n tabs:'#all-chapter&&.panel-title',//线路\n //lists:'body&&.BGsectionThree-content,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n lists:'#all-chapter&&.panel-body,#id&&.item'\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \"#content&&.cont-title&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#cont-text&&Html\")\n    },\n    链接:function(html){\n        //log('进了链接获取函数');\n        MY_URL=MY_URL.split('#')[0];\n        //log(MY_URL);\n        let host = MY_URL.match(/(.*)\\/\\/(.*?)\\//)[0];\n        //log(host);\n         if(pdfh(html,'.text-center&&.btn-info,-1&&Text').includes('下一页')){\n             //log('有下一页');\n             let max=pdfh(html,'.pagination&&li,-1&&Text');\n            // let now=pdfh(html,'.pagination&&li.active&&Text');\n            // let next=parseInt(now)+1;\n             //let next_url=MY_URL.replace(/_(\\d+)\\.html/,'_'+next+'.html');\n             let urls=[]; \n             for(let i=2;i<=parseInt(max);i++){\n                 urls.push(MY_URL.replace(/\\.html/,'_'+i+'.html'))\n             }\n            // log(urls);\n            return urls\n            }\n    }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\nvar lazy=小说(定位);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://s4.ax1x.com/2022/02/10/Ht2jjP.jpg"},{"last_chapter_rule":"","pageList":[],"title":"书包网.dr","author":"道长","version":5,"type":"read","url":"hiker://empty##https://m.shubaob.net/sort/fypage/","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".CGsectionTwo-right-content&&.CGsectionTwo-right-content-unit;p&&a&&Text;img&&src;p,1&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/sort\\/(.*?)\\//)[1];\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(/sort\\/$/.test(true_url)){\n    true_url=true_url+page+'/'\n}\nelse{\n   true_url=true_url.replace('_1','_'+page)\n}\n//log(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.CGsectionTwo-left',\n        子分类: 'body&&a:not(:matches(^$))',\n        \n    },{\n        一级分类: '.CGsectionOne&&ul',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\nvar 一级处理={\n    对象:function(obj){\n       // log(obj);\n       // return extra\n    }\n}\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split(\"##\")[1];\nlet pars=MY_URL.split(\"?\")[1];\nlet html=post(MY_URL.split(\"?\")[0],{\n    body:pars,\n    headers:{\n        \"User-Agent\":MOBILE_UA,\n        \"Cookie\":getMyVar(\"cookie\")\n    }\n});\nparStr=\".SHsectionThree-middle&&p;a,1&&Text;;a,-1&&Text;a,1&&href\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://m.shubaob.net/search/?searchkey=**&searchtype=all&submit=","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.BGsectionOne-top-right&&p&&Text;p.author&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.BGsectionOne-top-left&&img&&src',//图片\n url:'.BGsectionOne-top-left&&img&&src',//可以是影片链接，或者图片也行\n desc:'p.category&&Text;p.time&&Text;p.newestChapter&&Text',//一般主演，地区，影片评分等描述\n content:'.BGsectionTwo-bottom&&p&&Text',\n tabs:'body&&.newestChapter',//线路\n //lists:'body&&.BGsectionThree-content,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n lists:function(){\n     let html=fetch(MY_URL.replace('page','indexlist').replace('hiker://empty##',''));\n     let pages=pdfa(html,'#indexselect&&option'); MY_URL=MY_URL.replace('page','indexlist').replace('hiker://empty##','');\n     pages=pages.map((it)=>{\n         return pd(it,'option&&value')\n     });\n     //log(MY_URL);\n    // log(pages)\n     let htmlUrl=[];\n     for(let j in pages){\n     htmlUrl.push({\n                url: pages[j],\n                options: {\n                    headers: {\n                        \"content-type\": \"charset=utf-8\"\n                    }\n                }\n            });\n     }\n     html=batchFetch(htmlUrl.slice(0,32));\n     let d=[];\n     for(let i in html){\n         let it=html[i];\n         let lis=pdfa(it,'body&&.BCsectionTwo&&li')\n         //log(lis.length);\n         d=d.concat(lis);\n     }\n     return d\n }\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \"#chapterTitle&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#content&&Html\")\n    },\n    链接:function(html){\n        //log('进了链接获取函数');\n        //log(MY_URL);\n        let host = MY_URL.match(/(.*)\\/\\/(.*?)\\//)[0];\n         if(pdfh(html,'.RBGsectionTwo&&li,-1&&Text')==='下一页'){\n             let urls=[host+pdfh(html,'.RBGsectionTwo&&li,-1&&a&&href')]; \n             //log(urls);\n            return urls\n            \n            }\n    }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\nvar lazy=小说(定位);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"require('https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/预处理.js')","pages":"[]","icon":"https://m.shubaob.net/static/ss_wap2/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"万能影视D♔","author":"道长&蓝莓果酱UX","version":2,"type":"video","url":"https://wap.wnvod.net/vodtype/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\".myui-vodlist&&li;a&&title;.lazyload&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/-(.*?).html/)[1];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.nav-list',\n    子分类: 'body&&li:gt(0):lt(5)',\n},{\n    一级分类: 'body&&.myui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".myui-vodlist__media#searchList&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href;p,3&&Text\";\n一级(parStr,true);","search_url":"https://wap.wnvod.net/vodsearch/-------------.html?wd=**&submit=","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p.data,1&&Text;p.data,2&&Text;p.data,3&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'span.sketch.content&&Text',\n tabs:'.nav-tabs&&li',\n lists:'.tab-content&&#id&&ul&&li',\n tab_id:'a&&href',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/129.png"},{"last_chapter_rule":"","pageList":[],"title":"迷你库.dr","author":"道长&xiao","version":3,"type":"video","url":"hiker://empty##https://www.miniku.cc/vodtype/20-fypage/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".module-items&&.module-item;a&&title;.lazyloaded&&data-src;.module-item-text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?)/)[2];\ntrue_url = 获取正确链接();\nvar 关闭折叠=true;\nlet cates=打造动态分类([{\n    一级分类: '.nav-menu-items',\n    子分类: 'ul&&li:gt(0):lt(7)',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL = MY_URL.split(\"##\")[1];\nrequire(config.模板);\nvar html=获取源码(MY_URL);\nparStr=\"body&&.module-search-item;.video-info-header&&a&&title;.lazyload&&data-src;.video-info-header&&a&&Text;a&&href;.video-info-items,2&&.video-info-item&&Text\";\nvar 一级处理={\n链接:function(u){\nreturn u.replace(/-(.*)\\//,'/').replace(\"vodplay\",\"voddetail\")+'#immersiveTheme#'\n}\n};\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.miniku.cc/vodsearch/**----------fypage---/","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.video-info-items,2&&Text;.video-info-items,3&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src',\n desc:'.video-info-items,1&&Text;.video-info-items&&Text',\n content:'.vod_content&&span&&Text',\n tabs:'body&&.tab-item',\n lists:'.sort-item,#id&&a',\n tab_id:'',\n线路处理:function(u){\n     return u.split(\" \").slice(0)[0]\n }\n};\nvar lazy=$('').lazyRule((解析)=>{\n    eval(pdfh(request(input,{}),'body&&.player-wrapper&&script&&Html'));\n    var fr=player_aaaa.from;\n    var url=player_aaaa.url.replace(/\\\\\\//g,'/');\n    if(/\\.m3u8|\\.mp4/.test(url)){\n        return 解析.是否视频(url)\n    }else if(解析.是否支持魔断(url,fr)){\n        return 解析.纯魔断(url)\n    }else if(fr === 'renrenmi'){\n    realUrl='https://jx.blbo.cc:4433/ku/?url='+url;\n        return 解析.纯通免(realUrl)\n    }else{\n        return 解析.纯通免(input)\n    }\n},解析);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.miniku.cc/upload/mxcms/20211026-1/f829108856ade114cd56f0b11f626efd.png"},{"last_chapter_rule":"","pageList":[],"title":"喜欢看D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"https://www.xhkan.com/vodtype/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&.stui-vodlist__box;a&&title;.lazyload&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/-(.*?).html/)[1];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.dropdown',\n    子分类: 'body&&li:gt(0):lt(6)',\n},{\n    一级分类: 'body&&.stui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.stui-vodlist__media&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href;p,3&&Text\";\n一级(parStr,true);","search_url":"https://www.xhkan.com/vodsearch/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p.data,1&&Text;body&&p,0&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'.detail&&Text',\n tabs:'body&&h3:gt(0):lt(5)',\n lists:'body&&.stui-content__playlist,#id&&ul&&li',\n tab_id:'',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/100.png"},{"last_chapter_rule":"","pageList":[],"title":"阿里云D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"http://www.aliyuntt.com/index.php/vod/show/id/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&.module-item;.lazyloaded&&alt;.lazyloaded&&data-src;.module-item-text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)\\/(.*?).html/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n  一级分类: 'body&&.library-list',\n        子分类: 'body&&a:not(:matches(直播))',\n}]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true);","search_url":"http://www.aliyuntt.com/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\r\nrequire(config.模板);\r\nlet parse={\n    title:'.video-info-items,1&&Text;.video-info-aux&&Text',\n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src',\n    desc: '.sqjj_a&&Text',\n    tabs:'.module-tab-content,0&&.tab-item',\n    lists:'body&&.sort-item,#id&&a',\n    tab_id:'',\r\n};\r\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/171.png"},{"last_chapter_rule":"","pageList":[],"title":"免费看影2.dr","author":"道长&xiao","version":2,"type":"video","url":"hiker://empty##http://qzy998-1.ysgq.xyz/vodshow/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".vodlist&&.pack-ykpack;a&&title;.eclazy&&data-original;.pack-prb&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?)---/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: 'body&&.filter_line',\n    子分类: 'body&&a:not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split('##')[1];\n//log(MY_URL);\nrequire(config.模板);\nvar html=获取源码(MY_URL);\nparStr=\".ec-search&&li;a.title&&Text;.eclazy&&data-original;.ec_indezb&&Text;a&&href;.ecitem-desc&&Text\";\n一级(parStr,true,'','',html);","search_url":"hiker://empty##http://qzy998-1.ysgq.xyz/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1&&Text;p.item-actor,2&&Text;p.item-desc,0&&Text',\n img:'.s-cover&&img&&src',\n url:'.s-cover&&img&&src',\n desc:'p.item-desc,1&&Text;p.item-desc,2&&Text',\n content:'.desc_txt&&span&&Text',\n tabs:'.play_source_tab&&.swiper-wrapper&&a',\n lists:'.content_playlist,#id&&li',\n tab_id:'',\n线路处理:function(u){\n     return u.split(\" \").slice(-1)[0]\n }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://android-artworks.25pp.com/fs08/2021/10/27/0/109_44bd5d0015c9141c5a8d60f0b86ef8ae_con_130x130.png"},{"last_chapter_rule":"","pageList":[],"title":"七猫小说.dr","author":"道长","version":2,"type":"read","url":"hiker://empty##https://www.qimao.com/shuku/a-a-a-a-a-a-a-click-fypage/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet ck_id='cookie.qimao';\nlet cookie=获取ck(ck_id);\nputMyVar('cookie',cookie);\nlet parStr=\".js-list-data&&ul&&li;.s-tit&&Text;.pic&&img&&src;.s-tags&&Text;a&&href\";\nvar page=MY_URL.match(/click-(\\d+)/)[1];\n//log('当前页数:'+page);\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\ntrue_url=true_url.replace(/click-(\\d+)/,'click-'+page);\n//log(true_url);\nvar html=获取源码(true_url);\n//log('源码:'+html);\nif(/七猫中文网/.test(html)){\nlet cates=打造动态分类([{\n        一级分类: '.classify-wrap&&.clearfix',\n        子分类: 'body&&a:not(:matches(^$))',\n        \n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);\n}else{\n  log(true_url);\n  道长验证码(null,true_url,'',ck_id);\n}","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split(\"##\")[1];\nlet ck_id='cookie.qimao';\nlet cookie=获取ck(ck_id);\nvar html=获取源码(MY_URL,'','',cookie);\nif(/七猫中文网/.test(html)){\nparStr=\".qm-pic-txt&&li;.s-tit&&Text;.pic&&img&&src;.s-tags&&Text;a&&href;.s-des&&Text\";\n一级(parStr,true,null,null,html);\n}else{\n  log(html.length);\n  log(getMyVar('请求头'));\n  道长验证码(null,MY_URL,'',ck_id);\n}","search_url":"hiker://empty##https://www.qimao.com/search/index/?keyword=**&page=fypage","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.data-txt-top-con&&.tit&&Text;.p-tags&&Text;.p-name&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.poster-pic&&img&&src',//图片\n url:'.poster-pic&&img&&src',//可以是影片链接，或者图片也行\n desc:'.p-num&&Text;.p-update&&Text',//一般主演，地区，影片评分等描述\n content:'.article&&Text',\n tabs:'body&&.chapter-directory&&h3',//线路\n lists:'.chapter-directory&&dd,#id&&div,0&&a',//列表\n tab_id:'',//线路id，可不填,\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".chapter-title&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \".article&&Html\")\n    },\n    /*\n    链接:function(html){\n        //log('进了链接获取函数');\n        //log(MY_URL);\n        let host = MY_URL.match(/(.*)\\/\\/(.*?)\\//)[0];\n         if(pdfh(html,'.RBGsectionTwo&&li,-1&&Text')==='下一页'){\n             let urls=[host+pdfh(html,'.RBGsectionTwo&&li,-1&&a&&href')]; \n             //log(urls);\n            return urls\n            \n            }\n    }\n    */\n};\nvar lazy=小说(定位);\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\nvar 指定cookie=获取ck('cookie.qimao');\nlog('指定cookie:'+指定cookie);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://cdn-front.qimao.com/global/static/images/favicon2022.ico"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"嗷呜动漫.dr","author":"道长&&情້໌ᮨ","version":2,"type":"video","url":"hiker://empty##https://www.wyydm.com/vodshow/20--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"疑似失效","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".stui-vodlist&&li;.title&&Text;.lazyload&&data-original;.text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?)---/)[2];\n//log(page);\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: 'body&&.stui-header__menu',\n    子分类: 'ul&&li:gt(0):lt(6)',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/\\/vodtypehtml\\/(.*?)\\//, '/vodshow/$1-----------.html')\n            }\n        }\n},{\n    一级分类: 'body&&.stui-screen__list',\n    子分类: 'body&&li:has(a[href]):not(:matches(^$)):not(:matches(片库))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\".stui-vodlist__media&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href;.detail&&Text\";\n一级(parStr,true);","search_url":"https://www.wyydm.com/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.stui-content__detail&&h1&&Text;.data,0&&Text;.data,1&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'.data,2&&Text;.data,5&&Text;.data,6&&Text',\n content:'#desc&&.stui-pannel_bd&&Text',\n tabs:'.nav-tabs&&li', lists:'.stui-content__playlist,#id&&li',\n tab_id:'',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://images.liqucn.com/mini/120x120/img/h22/h99/img_localize_e8804438cac7d87f63b61c67e8a65b73_512x512_120x120.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"刷剧吧.dr","author":"道长&&情້໌ᮨ","version":1,"type":"video","url":"hiker://empty##https://shuaju8.com/index.php/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL = MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&.module-item;.lazyloaded&&alt;.lazyloaded&&data-src;.module-item-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(.*?).html/)[1];\n//log('page:'+page);\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n        一级分类: 'body&&.library-box',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-search-item;.video-info&&h3&&Text;.lazyload&&data-src;a.video-serial&&Text;.video-info-header&&a.video-serial&&href;.video-info-item,-1&&Text\";\n一级(parStr,true);","search_url":"https://shuaju8.com/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.video-info-header&&h1&&Text;.scroll-box&&Text;.video-info-items,2&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src',\n desc:'.video-info-main&&Text;.video-info-items,1&&Text;.video-info-items,2&&Text',\n content:'.vod_content&&Text.js:input.replace(\"收起\",\"\")',\n tabs:'body&&.tab-item',\n lists:'body&&.sort-item,#id&&a',\n tab_id:'',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar lazy=$('').lazyRule((v)=>{\n    let html=fetch(input);\n    let url=html.match(/,\"url\":\"(.*?)\",\"url_next\"/)[1];\n    if(/\\.m3u8/.test(url)){\n    return url.replace(/\\\\\\//g,'/')\n    }else{\n        return v.纯通免(input)\n    }\n},解析);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://image.newasp.net/attachment/soft/2021/0711/093041_57506555.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"麻花电影.dr","author":"道长&&情້໌ᮨ","version":1,"type":"video","url":"hiker://empty##https://kanjudy.com/vodshow/dianying/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&.module-item;.lazyloaded&&alt;.lazyloaded&&data-src;.module-item-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(.*?).html/)[1];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n        一级分类: 'body&&.library-box',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-search-item;h3&&Text;.lazyload&&data-src;.video-info-header&&a&&Text;a.video-serial&&href;.video-info-items,-1&&Text\";\n一级(parStr,true);","search_url":"https://kanjudy.com/vodsearch**/page/fypage.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.page-title&&Text;.video-info-aux&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src',\n desc:'.video-info-items&&Text;.video-info-items,1&&Text',\n content:'.video-info-item,-1&&Text',\n tabs:'body&&.tab-item',\n lists:'body&&.sort-item,#id&&a',\n tab_id:'',\n};\nvar lazy=$('').lazyRule(()=>{\nlet html=request(input);\nlet js=pdfh(html,'body&&.player-wrapper&&script&&Html');\nreturn js.match(/\"url\":\"(.*?)\"/)[1].replace(/\\\\\\//g,'/')\n});\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"http://pic.downyi.com/upload/2019-7/20197261140305143.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"新世界动漫.dr","author":"道长&情້໌ᮨ","version":1,"type":"video","url":"hiker://empty##https://m.iiyy.cc/list/dongman______fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"动漫","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&.leo-video-item;h2&&Text;img&&data-original;.leo-video-remark&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/\\/dongman______(.*?).html/)[1];\n//log(page);\n//true_url = 获取正确链接()\ntrue_url=true_url.replace(/(\\d+)\\.html/,'.html').replace('.html','_'+page+'.html');\nlog(true_url);\nlet cates=打造动态分类([{\n        一级分类: '#leo-head-nav&&.clearfix',\n        子分类: 'body&&li:not(:matches(首页|专题|资讯|最新新番|动漫排行|漫画|地区|年代|类型))',分类链接: {\n            二次处理(url) {\n                return url.replace(/(.*)\\/(.*?)\\//, \"$1/list/$2_____.html\")\n            }\n        }\n  },\n{\n    一级分类: 'body&&ul.swiper-wrapper.clearfix:not(:matches(首页))',\n    子分类: 'body&&li:has(a[href]):not(:matches(^$))',\n    分类链接: {\n            二次处理(url) {\n                if(!/\\/list\\//.test(url)){\n                    url=url.replace(/(.*)\\/(.*?)\\//, \"$1/list/$2_____.html\")\n                }\n                return url\n            }\n        }\n  },\n  {\n      一级分类:'body&&.leo-mod-title.leo-pl-20',\n      子分类:'body&&a',\n  }\n  \n  ]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\"body&&.leo-detail-wrap;h1&&Text;img&&data-original;.leo-color-a,1&&Text;.leo-mt-15&&a&&href\";\n一级(parStr,true);","search_url":"https://m.iiyy.cc/search/**-fypage.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.leo-detail-media&&h1&&Text',\n img:'img&&data-original',\n url:'img&&data-original',\n desc:'.leo-mt-20,1&&Text',\n content:'.leo-color-e&&Text',\n tabs:'body&&.swiper-wrapper&&li',\n lists:'body&&.leo-play-num,#id&&li',\n tab_id:'',\n};\nvar lazy=$('').lazyRule(()=>{\nlet html=request(input);\nlet js=pdfh(html,'body&&#zanpiancms_player&&script&&Html');\nreturn js.match(/\"url\":\"(.*?)\"/)[1].replace(/\\\\\\//g,'/')\n})\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://i-1-img.gamehome.tv/2021/10/30/fe847bc5-2f74-41ab-9b5d-082e1d969349.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"新动漫网.dr","author":"道长&情້໌ᮨ","version":2,"type":"video","url":"hiker://empty##https://www.xdmw.cc/vodtype/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"动漫","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/(.*)-(.*?).html/)[2];\ntrue_url = 获取正确链接();\n//log(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.stui-header__menu',\n        子分类: 'body&&li:not(:matches(首页|专题|动漫资讯))',\n        分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n    },{\n        一级分类: '#screenbox&&.clearfix',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\n一级(parStr,true);","search_url":"https://www.xdmw.cc/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.stui-content__detail&&h1&&Text;.data,0&&Text;.data,1&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'.data,2&&Text;.data,5&&Text;.data,6&&Text',\n content:'.detail&&Text.js:input.replace(\"简介:\",\"\")',\n tabs:'body&&h4:has(i.icon-iconfontplay2)', lists:'body&&.stui-content__playlist,#id&&li',\n tab_id:'',\n};\nvar lazy=$('').lazyRule(()=>{\nlet html=request(input);\nlet js=pdfh(html,'body&&.stui-player__video&&script&&Html');\n//log(js);\neval(js);\nrealUrl=js.match(/\"url\":\"(.*?)\"/)[1];\nrealUrl=unescape(base64Decode(realUrl));\nlog(realUrl);\nlog(player_aaaa.from);\nif(/bilibili|qiyi|youku|qq|sohu|mgtv|pptv|letv/.test(player_aaaa.from)){\n    require(config.模板);\n    showLoading('魔断解析中..');\n    return realUrl+魔断()\n}else{\nreturn realUrl\n}\n});\n\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://imgo.shouji.com.cn/simg/20190725/2019072527728934.png"},{"last_chapter_rule":"","pageList":[],"title":"奇书网.dr","author":"道长","version":2,"type":"read","url":"hiker://empty##http://m.qishuxx.com/newbook/index_fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&.book_list&&li;.book_title&&Text;.book_cover&&src;body&&Html;a&&href\";\nvar page=MY_URL.match(/index_(\\d+).html/)[1];\n//log('当前页数:'+page);\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(parseInt(page)==1){\n    true_url=true_url.replace(/_(\\d+)/,'');\n}else{\ntrue_url=true_url.replace(/index_(\\d+)/,'index_'+page);\n}\n//log(true_url)\nvar html=获取源码(true_url,'','','',{\n    \"content-type\": \"charset=gb18030\"\n});\n//log('源码:'+html);\nvar 关闭折叠=true;\nlet cates=打造动态分类([{\n        一级分类: 'body&&div[class^=menu]',\n        子分类: 'body&&a:not(:matches(首页)):not(:matches(^$))',\n        分类链接: {\n            二次处理(url) {\n                if(!/index/.test(url)){\n                    url=url+'index_1.html'\n                }\n                return url\n            }\n        }\n    }]);\n设置(cates);\nvar 一级处理={\n    描述:function(u){\n        return [pdfh(u,'p,1&&Text'),pdfh(u,'p,2&&Text'),pdfh(u,'p,3&&Text')].join('  ')\n    }\n};\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nvar page=MY_URL.match(/page=(\\d+)/)[1];\nvar key=MY_URL.split('key=')[1];\nlog('页数:'+page);\nlog('关键字:'+key);\nvar res=post('http://m.qishuxx.com/e/search/index.php',{\n    headers:{\n        \"content-type\": \"charset=gb18030\",\n        \"User-Agent\":MOBILE_UA\n    },\n    body:'keyboard='+key+'&show=title,writer&tbname=book&tempid=1',\n    withHeaders:true\n});\nlet ourl=JSON.parse(res).url;\nlet html=JSON.parse(res).body;\nif(parseInt(page)>1){\n    let url=ourl+'&page='+(parseInt(page)-1);\n    html=获取源码(url,'','','',{\n        \"content-type\": \"charset=gb18030\",\n    })\n}\nlog(ourl);\nvar 一级处理={\n    内容:function(u){\n        return '下载数:'+u\n    }\n}\nlet parStr=\"body&&ul.listtxt:not(.listtitle);.bookname&&Text;;.bookauthor&&Text;body&&Html;.click&&Text\";\nvar 一级处理={\n    链接:function(u){\n        MY_URL='http://m.qishuxx.com';\n        return pd(u,'a&&href')+'#immersiveTheme#'\n    }\n}\n一级(parStr,true,false,false,html);","search_url":"hiker://empty##page=fypage&key=**","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.bookcover&&h1&&Text;.bookcover&&P&&Text',\n img:'.pic&&img&&src',\n url:'.pic&&img&&src',\n desc:'.bookcover&&p,1&&Text;.bookcover&&p,3&&Text;.bookcover&&p,4&&Text',\n content:'.bookintro&&.con&&Text',\n tabs:'body&&.location',//线路\n lists:'.cataloglist,#id&&a',//列表\n tab_id:'',//线路id，可不填,\n}; \nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".read-top&&.title&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \".articlecon&&Html\")\n    },\n    /*\n    链接:function(html){\n        //log('进了链接获取函数');\n        //log(MY_URL);\n        let host = MY_URL.match(/(.*)\\/\\/(.*?)\\//)[0];\n         if(pdfh(html,'.RBGsectionTwo&&li,-1&&Text')==='下一页'){\n             let urls=[host+pdfh(html,'.RBGsectionTwo&&li,-1&&a&&href')]; \n             //log(urls);\n            return urls\n            \n            }\n    }\n    */\n};\nvar 二级处理={\n    重定向:function(url,html){\n        MY_URL=url;\n       let newUrl=pd(html,'.greenBtn:matches(全文在线阅读)&&href');\n       log('重定向阅读全文地址:'+newUrl);\n       html=获取源码(newUrl,'','','',{\n           \"content-type\":\"charset=gb18030\",\n       });\n       return html\n    }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 编码='gb18030';\nvar 指定ua=PC_UA;\nvar lazy=小说(定位);\nvar 下载='小说';\n//var 指定cookie=获取ck('cookie.qimao');\n//log('指定cookie:'+指定cookie);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://s4.ax1x.com/2021/12/13/oLtQ0I.jpg"},{"last_chapter_rule":"","pageList":[],"title":"第一笔趣阁.dr","author":"道长","version":4,"type":"read","url":"hiker://empty##https://www.dybqg.com/list/1_fypage.html","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"#newscontent&&ul,0&&li;a,0&&Text;;body&&Html;a,0&&href\";\nvar page=MY_URL.match(/_(\\d+).html/)[1];\n//log('当前页数:'+page);\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(/\\.html/.test(true_url)){\n    true_url=true_url.replace(/_(\\d+)/,'_'+page);\n}else{\ntrue_url=true_url+page\n}\n//log(true_url)\nvar html=获取源码(true_url,'','','',{\n    \"content-type\": \"charset=gb18030\"\n});\n//log('源码:'+html);\nvar 关闭折叠=true;\nlet cates=打造动态分类([{\n        一级分类: '.nav&&ul',\n        子分类: 'body&&li:has(a[href]):not(:matches(首页|书架|榜单)):not(:matches(^$))',\n        分类链接: {\n            二次处理(url) {\n                /*\n                if(!/index/.test(url)){\n                    url=url+'index_1.html'\n                }\n                */\n                return url\n            }\n        }\n    }]);\n设置(cates);\nvar 一级处理={\n    描述:function(u){\n        //return [pdfh(u,'.s3&&Text'),pdfh(u,'.s5&&Text')].join('  ')\n        return '最新章节:'+pdfh(u,'.s3&&Text')+'     \\n'+'作者:'+pdfh(u,'.s5&&Text')\n    }\n};\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nvar key=MY_URL.match(/searchkey=(.*?)&/)[1];\nlet enkey=gbk编码(key);\nMY_URL=MY_URL.replace(key,enkey);\nvar html=fetch(MY_URL,{\n    headers:{\n      \"content-type\": \"charset=gb18030\"\n    },\n    withHeaders:true\n});\nvar res=JSON.parse(html);\nlet url=res.url;\nif(url==MY_URL){\nhtml=res.body;\nlet parStr=\"body&&#nr;body&&Html;;body&&Html;body&&Html;body&&Html\";\nvar 一级处理={\n    链接:function(u){\n       u=u.replace(/td/g,'div');\n       return pd(u,'a,0&&href')\n    },\n    标题:function(u){\n        return pdfh(u,'a,0&&Text')\n    },\n    描述:function(u){\n        return pdfh(u,'a,1&&Text')\n    },\n    内容:function(u){\n        return pdfh(u,'body&&Text')\n    }\n    \n}\n一级(parStr,true,false,false,html);\n}else{\n    setResult([{\n        title:key,\n        url:'hiker://empty##'+url+'#immersiveTheme#',\n        content:'仅有一个结果，点击立即阅读'\n    }]);\n}","search_url":"hiker://empty##https://www.dybqg.com/modules/article/search.php?searchkey=**&searchtype=articlename&page=fypage","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'#info&&h1&&Text;#info&&p,-1&&Text',\n img:'#fmimg&&img&&src',\n url:'#fmimg&&img&&src',\n desc:'#info&&p,0&&Text;#info&&p,1&&Text;#info&&p,2&&Text',\n content:'#intro&&Text',\n tabs:'#list&&dt:gt(0)',//线路\n lists:'#list,#id&&dd:gt(9)',//列表\n tab_id:'',//线路id，可不填,\n}; \nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".bookname&&h1&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#content&&Html\")\n    },\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 编码='gb18030';\nvar 下载='小说';\nvar lazy=小说(定位,编码);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://s4.ax1x.com/2021/12/13/oONW1U.jpg"},{"last_chapter_rule":"","pageList":[],"title":"新笔趣阁.dr","author":"道长","version":2,"type":"read","url":"hiker://empty##https://www.biqu.in/list/1_fypage.html","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"#newscontent&&ul,0&&li;a,0&&Text;;body&&Html;a,0&&href\";\nvar page=MY_URL.match(/_(\\d+).html/)[1];\n//log('当前页数:'+page);\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(/\\.html/.test(true_url)){\n    true_url=true_url.replace(/_(\\d+)/,'_'+page);\n}else{\ntrue_url=true_url+page\n}\n//log(true_url)\nvar html=获取源码(true_url,'','','',{\n    \"content-type\": \"charset=gb18030\"\n});\n//log('源码:'+html);\nvar 关闭折叠=true;\nlet cates=打造动态分类([{\n        一级分类: '.nav&&ul',\n        子分类: 'body&&li:has(a[href]):not(:matches(首页|书架|榜单)):not(:matches(^$))',\n        分类链接: {\n            二次处理(url) {\n                /*\n                if(!/index/.test(url)){\n                    url=url+'index_1.html'\n                }\n                */\n                return url\n            }\n        }\n    }]);\n设置(cates);\nvar 一级处理={\n    描述:function(u){\n        //return [pdfh(u,'.s3&&Text'),pdfh(u,'.s5&&Text')].join('  ')\n        return '最新章节:'+pdfh(u,'.s3&&Text')+'     \\n'+'作者:'+pdfh(u,'.s5&&Text')\n    }\n};\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nvar key=MY_URL.match(/searchkey=(.*?)&/)[1]\n;\nlet enkey=gbk编码(key);\nMY_URL=MY_URL.replace(key,enkey);\nvar html=fetch(MY_URL,{\n    headers:{\n      \"content-type\": \"charset=gb18030\"\n    },\n    withHeaders:true\n});\nvar res=JSON.parse(html);\nlet url=res.url;\nif(url==MY_URL){\nhtml=res.body;\nlet parStr=\"body&&#nr;body&&Html;;body&&Html;body&&Html;body&&Html\";\nvar 一级处理={\n    链接:function(u){\n       u=u.replace(/td/g,'div');\n       return pd(u,'a,0&&href')\n    },\n    标题:function(u){\n        return pdfh(u,'a,0&&Text')\n    },\n    描述:function(u){\n        return pdfh(u,'a,1&&Text')\n    },\n    内容:function(u){\n        return pdfh(u,'body&&Text')\n    }\n    \n}\n一级(parStr,true,false,false,html);\n}else{\n    setResult([{\n        title:key,\n        url:'hiker://empty##'+url+'#immersiveTheme#',\n        content:'仅有一个结果，点击立即阅读'\n    }]);\n}","search_url":"hiker://empty##https://www.biqu.in/modules/article/search.php?searchkey=**&searchtype=articlename&page=fypage","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'#info&&h1&&Text;#info&&p,-1&&Text',\n img:'#fmimg&&img&&src',\n url:'#fmimg&&img&&src',\n desc:'#info&&p,0&&Text;#info&&p,1&&Text;#info&&p,2&&Text',\n content:'#intro&&Text',\n tabs:'#list&&dt:gt(0)',//线路\n lists:'#list,#id&&dd:gt(9)',//列表\n tab_id:'',//线路id，可不填,\n}; \nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".bookname&&h1&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#content&&Html\")\n    },\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 编码='gb18030';\nvar 下载='小说';\nvar lazy=小说(定位,编码);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://s4.ax1x.com/2021/12/13/oOwTKO.jpg"},{"last_chapter_rule":"","pageList":[],"title":"八八读书.dr","author":"道长","version":2,"type":"read","url":"hiker://empty##https://www.x88du.com/shuku/daquan_default_0_0_0_0_0_0_fypage.html","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&.writer_i_4;a,1&&Text;img&&src;body&&Html;a,0&&href\";\nvar page=MY_URL.match(/_(\\d+).html/)[1];\n//log('当前页数:'+page);\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(/\\.html/.test(true_url)){\n    true_url=true_url.replace(/_(\\d+).html/,'_'+page+'.html');\n}else{\ntrue_url=true_url.replace(/\\/(\\d+)/,'/'+page);\n}\n//log(true_url)\nvar html=获取源码(true_url,'','','',{\n    \"content-type\": \"charset=gb18030\"\n});\n//log('源码:'+html);\nvar 关闭折叠=true;\nlet cates=打造动态分类([{\n        一级分类: 'body&&.sr_list',\n        子分类: 'body&&a:not(:matches(^$))',\n        分类链接: {\n            二次处理(url) {\n                /*\n                if(!/index/.test(url)){\n                    url=url+'index_1.html'\n                }\n                */\n                return url\n            }\n        }\n    }]);\n设置(cates);\nvar 一级处理={\n    描述:function(u){\n        //return [pdfh(u,'.s3&&Text'),pdfh(u,'.s5&&Text')].join('  ')\n        return '最新章节:'+pdfh(u,'.writer_name4&&Text')+'\\n'+'作者:'+pdfh(u,'.writer_name1&&span&&Text');\n    }\n};\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nvar key=MY_URL.match(/searchkey=(.*?)&/)[1]\n;\n//log(key);\nif (key.length<2){\n//confirm({title:'警告',content:'必须超过两个字'});\nsetResult([{\n    title:'必须输入2个字及以上',\n    url:'hiker://empty'\n}]);\n}else{\nlet enkey=gbk编码(key);\nlog(enkey);\nMY_URL=MY_URL.replace(key,enkey);\nvar html=fetch(MY_URL,{\n    headers:{\n      \"content-type\": \"charset=gb18030\"\n    },\n    withHeaders:true\n});\nvar res=JSON.parse(html);\nlet url=res.url;\nif(url==MY_URL){\nhtml=res.body;\n//log(html);\nlet parStr=\".searchresult&&tr:gt(0);body&&Html;;body&&Html;body&&Html;body&&Html\";\n\nvar 一级处理={\n    链接:function(u){\n       u=u.replace(/td/g,'div');\n       return pd(u,'a,0&&href')\n    },\n    标题:function(u){\n        return pdfh(u,'a,0&&Text')\n    },\n    描述:function(u){\n        return pdfh(u,'a,1&&Text')\n    },\n    内容:function(u){\n        return pdfh(u,'body&&Text')\n    }\n}\n一级(parStr,true,false,false,html);\n}else{\n    setResult([{\n        title:key,\n        url:'hiker://empty##'+url+'#immersiveTheme#',\n        content:'仅有一个结果，点击立即阅读'\n    }]);\n}\n}","search_url":"hiker://empty##https://www.x88du.com/modules/article/search.php?searchtype=articlename&searchkey=**&page=fypage","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'img&&alt',\n img:'img&&src',\n url:'img&&src',\n desc:'.msg&&Text',\n content:'.intro&&Text',\n tabs:'body&&h1',//线路\n lists:'.mulu&&ul,#id&&li:has(a[href]):not(:matches(^$))',//列表\n tab_id:'',//线路id，可不填,\n}; \nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".novel&&h1&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \".yd_text2&&Html\")\n    },\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 编码='gb18030';\nvar 下载='小说';\nvar lazy=小说(定位,编码);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://img0.baidu.com/it/u=3945211320,1752686977&fm=26&fmt=auto"},{"last_chapter_rule":"","pageList":[],"title":"书屋网.dr","author":"道长","version":1,"type":"read","url":"hiker://empty##http://www.shu05.com/book/lastupdate-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&.book-coverlist;.caption&&h4&&Text;img&&src;.text-muted&&Text;a&&href\";\nvar page=MY_URL.match(/-(\\d+).html/)[1];\n//log('当前页数:'+page);\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(/\\.html/.test(true_url)){\n    true_url=true_url.replace(/-(\\d+)/,'-'+page);\n}\nlog(true_url);\nvar html=获取源码(true_url,'','','',{\n    \"content-type\": \"charset=gb18030\"\n});\n//log('源码:'+html);\n//var 关闭折叠=true;\nlet cates=打造动态分类([{\n        一级分类: '.navbar-nav',\n        子分类: 'body&&li:has(a[href]):not(:matches(^$))',\n     分类链接: {\n            二次处理(url) {\n                /*\n                if(!/index/.test(url)){\n                    url=url+'index_1.html'\n                }\n                */\n                return url.replace('/list\\/(.*)-(.*?)/', 'book/' + '$1' + '-' + page)\n            }\n        }\n        \n },{\n        一级分类: 'body&&.breadcrumb',\n        子分类: 'body&&li:has(a[href]):not(:matches(^$))',\n\n    }]);\n设置(cates);\n/*\nvar 一级处理={\n    描述:function(u){\n        //return [pdfh(u,'.s3&&Text'),pdfh(u,'.s5&&Text')].join('  ')\n        return '最新章节:'+pdfh(u,'.s3&&Text')+'     \\n'+'作者:'+pdfh(u,'.s5&&Text')\n    }\n}; \n*/\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nvar key=MY_URL.match(/searchkey=(.*?)&/)[1]\n;\n//log(key);\nif (key.length<2){\n//confirm({title:'警告',content:'必须超过两个字'});\nsetResult([{\n    title:'必须输入2个字及以上',\n    url:'hiker://empty'\n}]);\n}else{\nlet enkey=gbk编码(key);\n//log(enkey);\nMY_URL=MY_URL.replace(key,enkey);\nvar html=fetch(MY_URL,{\n    headers:{\n      \"content-type\": \"charset=gb18030\"\n    },\n    withHeaders:true\n});\nvar res=JSON.parse(html);\nlet url=res.url;\nif(url==MY_URL){\nhtml=res.body;\nlet parStr=\"body&&.book-coverlist;h4&&Text;img&&src;.text-muted&&Text;a&&href\";\n一级(parStr,true,false,false,html);\n}else{\n    setResult([{\n        title:key,\n        url:'hiker://empty##'+url+'#immersiveTheme#',\n        content:'仅有一个结果，点击立即阅读'\n    }]);\n}\n}","search_url":"hiker://empty##http://www.shu05.com/modules/article/search.php?searchkey=**&page=fypage","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1.bookTitle&&Text;.col-md-10&&p,2&&Text',\n img:'.img-thumbnail&&src',\n url:'.img-thumbnail&&src',\n desc:'p.booktag&&Text',\n content:'p.text-muted&&Text.js:input.split(\"……\")[0]',\n tabs:'body&&.panel-heading:has(:matches(全部))',//线路\n lists:'#list-chapterAll&&.panel-chapterlist,#id&&dd',//列表\n tab_id:'',//线路id，可不填,\n}; \nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \"h1.readTitle&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#htmlContent&&Html\")\n    },\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 编码='gb18030';\nvar 下载='小说';\nvar lazy=小说(定位,编码);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://img1.baidu.com/it/u=2367677541,1945076142&fm=26&fmt=auto"},{"last_chapter_rule":"","pageList":[],"title":"免费看影视.dr","author":"道长&晓","version":3,"type":"video","url":"hiker://empty##http://qzy998-m-1.ysgq.xyz/vodshow/2--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".module-items&&.module-item;a&&title;.lazyloaded&&data-src;.module-item-text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?)---\\.html/)[2];\ntrue_url = 获取正确链接();\nlet html=获取源码(true_url);\nlet cates=打造动态分类([{\n        一级分类: 'body&&.library-box',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\n//log(MY_URL);\nrequire(config.模板);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-serial&&Text;a&&href;.video-info-item,-1&&Text\";\nvar 一级处理={\n    链接:function(u){\n        return u.replace('vodplay','voddetail')+'#immersiveTheme#';\n    }\n};\n一级(parStr,true);","search_url":"http://qzy998-m-1.ysgq.xyz/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.video-info-header&&h1&&Text;.video-info-aux&&Text;.video-info-items,0&&Text',\n img:'.module-item-pic&&img&&data-src',//图片\n url:'.module-item-pic&&a&&href',//可以是影片链接，或者图片也行\n desc:'.video-info-items,1&&Text;.video-info-items,2&&Text;.video-info-items,3&&Text',//一般主演，地区，影片评分等描述\n content:'body&&.video-info-item,5&&Text.js:input.replace(\"收起\",\"\")',\n tabs:'body&&.module-tab-content&&.module-tab-item',//线路\n lists:'body&&.sort-item,#id&&a',//列表\n tab_id:'',//线路id，可不填,\n reChange:function(u){\n     return u.replace('&next=','')\n }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/15.svg"},{"last_chapter_rule":"","pageList":[],"title":"思古.dr","author":"道长大大","version":3,"type":"video","url":"hiker://empty##https://www.siguyy.com/show/m--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"疑似失效","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".myui-vodlist&&li;a&&title;a&&data-original;a&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/\\/(.*)--------(.*?)---.html/)[2];\ntrue_url = 获取正确链接();\nlog(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.nav-list',\n        子分类: 'body&&li:not(:matches(首页|APP下载|思古影视新版))',\n        分类链接: {\n            二次处理(url) {\n                return url.replace(/type\\/(.*).html/, 'show/$1-----------.html')\n            }\n        }\n    },{\n        一级分类: 'body&&.myui-screen__list',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".myui-vodlist__media&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href;p.hidden-xs&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.siguyy.com/search/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1.title&&Text;#rating&&Text;p.data,1&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'p.data,0&&Text;p.data,2&&Text;p.data,4&&Text',\n content:\"p.data,-2&&Html.js:input.split('Text')[1].match(/','(.*?)','/)[1]\",\n tabs:'.nav-tabs&&li',\n lists:'body&&.myui-content__list,#id&&li',\n tab_id:'',\n};\nvar lazy=$('').lazyRule((v)=>{\n    eval(pdfh(request(input,{}),'body&&.myui-player__video&&script&&Html'));\n    var fr=player_aaaa.from;\n    var realUrl=decodeURIComponent(player_aaaa.url);\n    log(realUrl);\n    if(/\\.m3u8/.test(realUrl)){\n        return v.是否视频(realUrl)\n    }else if(v.是否支持魔断(realUrl,fr)){\n        return v.纯魔断(realUrl)\n    }else if(fr === 'xfyun'){\n        realUrl='https://mobilegamestudio.net/?url='+realUrl;\n        return v.纯通免(realUrl)\n    }else{\n        return v.纯通免(input)\n    }\n},解析);\n\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.siguyy.com/app/image/img.png"},{"last_chapter_rule":"","pageList":[],"title":"六月听书.dr","author":"道长","version":2,"type":"video","url":"hiker://empty##http://www.6yueting.com/ys/t1/o1/pfypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"听书","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".album-list&&.album-item;img&&alt;img&&src;.author&&Text;a&&href\";\nvar page = MY_URL.match(/p(\\d+)/)[1];\n//true_url=获取正确链接();\nvar true_url = getMyVar('header.url', MY_URL);\nif(!/\\/o1\\/p/.test(true_url)){\n    true_url=true_url+'/o1/p'+page\n}\n//log(true_url);\nvar html=获取源码(true_url);\nif (/\\?btwaf=/.test(html)) {\n    let url=MY_URL+'?btwaf'+html.match(/btwaf(.*?)\\\"/)[1];\n    log(\"跳转到:\"+url);\n    html=获取源码(url,MOBILE_UA);\n}\nvar 关闭折叠=true;\nlet cates=打造动态分类([{\n  一级分类: 'body&&.slider',\n        子分类: 'body&&a:not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nlet html=getResCode();\nlet host='http://m.6yueting.com';\nlet img='http://img.6yueting.com:20001/';\nlet d = JSON.parse(html).data.content;\nd=d.map((it)=>{\n     return {\n         title:pdfh(it.name,'body&&Text'),\n         desc:it.author,\n         content:it.descXx,\n         img:/^http/.test(it.pic)?it.pic:img+it.coverUrlLocal+'@Referer=',\n         url:'hiker://empty##'+host+'/list/' + it.code+ '#immersiveTheme#'\n     }\n});\nsetResult(d);","search_url":"http://m.6yueting.com/search/index/search?content=**&type=1&pageNum=fypage&pageSize=40","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.detail-top&&.book-title&&Text;.extra.status&&Text;.extra.update-time&&Text',\n img:'.detail-top&&img&&src',\n url:'.detail-top&&img&&src',\n desc:'.extra,1&&Text;.extra,2&&Text',\n content:'.book-intro&&Text',\n tabs:'body&&.total-num',\n lists:'.book-list,#id&&a',\n tab_id:''\n};\nvar 指定ua=MOBILE_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n//var lazy=通免();\nvar lazy=$('').lazyRule(()=>{\n    let code=input.match(/play\\/(.*?)\\//)[1];\n    //log(code);\n    let num=input.match(/play(.*)\\/(\\d+)/)[2];\n    //log(num);\n    let t=(new Date()).getTime();\n    let url='http://m.6yueting.com/web/index/video_new?code='+code+'&no='+num+'&type=0&timestamp='+t;\n    let lalala=pdfh(request('http://www.6yueting.com/audio-iframe.php?come=100'),'.audio-iframe&&data-info').substring(0,5);\n    //log(lalala);\n    let U=lalala+'FSKVKSKFKS';\n    //log(U);\n    let j=t+code+num+U;\n    //log(j);\n     require('http://www.6yueting.com/js/md5.js');\n    let sign=hex_md5(j);\n    //log(sign);\n    url=url+'&sign='+sign;\n    log(url);\n    return JSON.parse(fetch(url)).data.videoUrl\n});\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fdata.ac-illust.com%2Fdata%2Fthumbnails%2Fbb%2Fbbf80ec0438e25ba5de42910d66445e7_w.jpeg&refer=http%3A%2F%2Fdata.ac-illust.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1642122748&t=9734f2d6fa71cfc0c7d27f65dc5fa2b1"},{"last_chapter_rule":"","pageList":[],"title":"3z中文网.dr","author":"道长","version":1,"type":"read","url":"hiker://empty##http://www.530p.com/xuanhuan/fypage.htm","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".conter&&ul:gt(0);.conter1&&Text;;body&&Html;a,0&&href\";\nvar page=MY_URL.match(/(.*)\\/(.*?).htm/)[2];\n//log('当前页数:'+page);\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(!/(\\d+)\\.htm$/.test(true_url)){\n   true_url+=page+'.htm'\n}\ntrue_url=true_url.replace(/p(\\d+)/,'p'+page);\n//log(true_url);\nvar html=获取源码(true_url,PC_UA,'','',{\n    \"content-type\": \"charset=gb18030\"\n}); \n\n//log('源码:'+html);\nvar 关闭折叠=true;\nlet cates=打造动态分类([{\n        一级分类: '.menu&&ul',\n        子分类: 'body&&li:has(a[href]):not(:matches(无弹窗|看过|我的|注册|登录|退出)):not(:matches(^$))',\n        分类链接: {\n            二次处理(url) {\n                /*\n                if(!/index/.test(url)){\n                    url=url+'index_1.html'\n                }\n                */\n                return url\n            }\n        }\n    }]);\n设置(cates);\nvar 一级处理={\n    描述:function(u){\n        //return [pdfh(u,'.s3&&Text'),pdfh(u,'.s5&&Text')].join('  ')\n        return '最新章节:'+pdfh(u,'.conter2&&Text')+'     \\n'+'作者:'+pdfh(u,'.conter3&&Text')\n    }\n};\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nhtml=获取源码(MY_URL,PC_UA); \n//log(html);\nlet parStr=\".conter&&ul:gt(0);.conter1&&Text;;.conter4&&Text;a,0&&href;.conter3&&Text\";\n一级(parStr,true,false,false,html);","search_url":"hiker://empty##http://www.530p.com/s/**/fypage/","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.tna&&a&&Text;.tc,1&&Text',\n img:'.ffw&&img&&src',\n url:'.ffw&&img&&src',\n desc:'.tc,2&&Text;.ffw&&a,1&&Text',\n content:'.ffw&&tr,-1&&Text',\n tabs:'body&&.tna',//线路\n lists:'.conter&&.clc',//列表\n tab_id:'',//线路id，可不填,\n}; \nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \"#cps_title&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#cp_content&&Html\")\n    },\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 编码='gb18030';\nvar 指定ua=PC_UA;\nvar 下载='小说';\nvar lazy=小说(定位,编码);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Ftrademark.zbjimg.com%2Fpattern-prod%2F20200706%2Fimage_6%2F46903920.jpg&refer=http%3A%2F%2Ftrademark.zbjimg.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1642122810&t=305cbd05f9c405f9aadf1bacd2b444b3"},{"last_chapter_rule":"","pageList":[],"title":"全本小说.dr","author":"道长","version":1,"type":"read","url":"hiker://empty##https://www.qb5.tw/fenlei/1_fypage/","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".titlelist&&li;a&&title;;body&&Html;a&&href\";\nlet parStr2=\"#articlelist&&ul,1&&li;a&&Text;;body&&Html;a&&href\";\nvar page=MY_URL.match(/_(\\d+)\\//)[1];\n//log('当前页数:'+page);\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(/fenlei/.test(true_url)){\n    true_url=true_url.replace(/_(\\d+)/,'_'+page);\n}\nelse if(/quanben/.test(true_url)){\n    true_url=true_url+page\n}\nelse if(/top/.test(true_url)){\n    //true_url=true_url.replace('/monthvisit\\//','$1' + '/' + page + '.html');\n    true_url=true_url+page+'.html';\n}\n//true_url=true_url.replace(/monthvisit/,+page);\nlog(true_url);\nvar html=获取源码(true_url,'','','',{\n    \"content-type\": \"charset=gb18030\"\n});\n//log('源码:'+html);\nvar 关闭折叠=true;\nlet cates=打造动态分类([{\n        一级分类: '.nav_cont&&ul',\n        子分类: 'body&&li:has(a[href]):not(:matches(首页))',\n        \n },{\n        一级分类: 'body&&.toplist',\n        子分类: 'body&&li:has(a[href]):not(:matches(^$))',\n\n    }]);\n设置(cates);\nif(!/\\/top\\//.test(true_url)){\nvar 一级处理={\n    描述:function(u){\n        //return [pdfh(u,'.s3&&Text'),pdfh(u,'.s5&&Text')].join('  ')\n        return '最新章节:'+pdfh(u,'.zz&&a&&Text')+'     \\n'+'作者:'+pdfh(u,'.author&&Text')\n    }\n};\n一级(parStr,true,cates,false,html);\n}else{\n    var 一级处理={\n    描述:function(u){\n        //return [pdfh(u,'.s3&&Text'),pdfh(u,'.s5&&Text')].join('  ')\n        return '更新时间:'+pdfh(u,'.l7&&Text')+'     \\n'+'作者:'+pdfh(u,'.l3&&Text')\n    }\n};\n一级(parStr2,true,cates,false,html);\n    \n}","searchFind":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nvar key=MY_URL.match(/searchkey=(.*?)&/)[1]\n;\nlet enkey=gbk编码(key);\n//log(enkey);\nMY_URL=MY_URL.replace(key,enkey);\nvar html=fetch(MY_URL,{\n    headers:{\n      \"content-type\": \"charset=gb18030\"\n    },\n    withHeaders:true\n});\nvar res=JSON.parse(html);\nlet url=res.url;\nif(url==MY_URL){\nhtml=res.body;\nlet parStr=\"body&&#main&&.grid&&tr:gt(0);body&&Html;;body&&Html;body&&Html;body&&Html\";\nvar 一级处理={\n    链接:function(u){\n       u=u.replace(/td/g,'div');\n       return pd(u,'a,0&&href')\n    },\n    标题:function(u){\n        return pdfh(u,'a,0&&Text')\n    },\n    描述:function(u){\n        return pdfh(u,'a,1&&Text')\n    },\n    内容:function(u){\n        return pdfh(u,'body&&Text')\n    }\n    \n}\n一级(parStr,true,false,false,html);\n}else{\n    setResult([{\n        title:key,\n        url:'hiker://empty##'+url+'#immersiveTheme#',\n        content:'仅有一个结果，点击立即阅读'\n    }]);\n}","search_url":"hiker://empty##https://www.qb5.tw/modules/article/search.php?searchkey=**&submit=%CB%D1%CB%F7&page=fypage","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'#info&&h1&&Text;p.booktag&&span&&Text',\n img:'.img_in&&img&&src',\n url:'.img_in&&img&&src',\n desc:'.update&&Text',\n content:'#intro&&Text',\n tabs:'.zjbox&&.ttname&&h2',//线路\n lists:'.zjlist,#id&&dd:not(:matches(^$))',//列表\n tab_id:'',//线路id，可不填,\n}; \nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \"#main&&h1&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#content&&Html\")\n    },\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 编码='gb18030';\nvar 下载='小说';\nvar lazy=小说(定位,编码);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.qb5.tw/assets/images/logo.png"},{"last_chapter_rule":"","pageList":[],"title":"顶点小说网.dr","author":"道长","version":2,"type":"read","url":"hiker://empty##http://www.kmwx.net/FenLei/1_fypage.htm","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&.grid&&tr:gt(0);body&&Html;;body&&Html;body&&Html\";\nvar page=MY_URL.match(/_(\\d+).htm/)[1];\n//log('当前页数:'+page);\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(/Top/.test(true_url)){\n    true_url=true_url.replace(/Top\\/(.*)_(\\d+)\\.htm/,'Top/'+'$1' + '_'+page+'.htm');\n}else{\n    true_url=true_url.replace(/_(\\d+)\\.htm/,'_'+page+'.htm');\n}\nlog(true_url);\nvar html=获取源码(true_url,PC_UA,'','',{\n    \"content-type\": \"charset=gb18030\"\n});\n//log('源码:'+html);\n//var 关闭折叠=true;\nlet cates=打造动态分类([\n/*{\n        一级分类: '.navlist',\n        子分类: 'body&&li:has(a[href]):not(:matches(返回·首页|个人·中心|修改资料))',\n       }, */\n       {\n        一级分类: 'body&&ul.ulcenter',\n        子分类: 'body&&li:has(a[href]):not(:matches(^$))',\n    },{\n        一级分类: 'body&&#content&&tr[valign=\"middle\"]',\n        子分类: 'body&&a:not(:matches(^$))',\n        }]);\n设置(cates);\nvar 一级处理={\n    链接:function(u){\n       u=u.replace(/td/g,'div');\n       return pd(u,'a,0&&href')\n    },\n    标题:function(u){\n        return pdfh(u,'a,0&&Text')\n    },\n    描述:function(u){    \n        return '最新章节:'+pdfh(u,'a,1&&Text')+'     \\n'+'作者:'+pdfh(u,'a,2&&Text')\n    }\n};\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nvar key=MY_URL.match(/searchkey=(.*?)&/)[1]\n;\nlet enkey=gbk编码(key);\n//log(enkey);\nMY_URL=MY_URL.replace(key,enkey);\nlog(MY_URL);\nvar html=fetch(MY_URL,{\n    headers:{\n      \"content-type\": \"charset=gb18030\"\n    },\n    withHeaders:true\n});\nvar res=JSON.parse(html);\nlet url=res.url;\nif(url==MY_URL){\nhtml=res.body;\nlet parStr=\"body&&#content&&.grid&&tr:gt(0);body&&Html;;body&&Html;body&&Html;body&&Html\";\nvar 一级处理={\n    链接:function(u){\n       u=u.replace(/td/g,'div');\n       return pd(u,'a,0&&href')\n    },\n    标题:function(u){\n        return pdfh(u,'a,0&&Text')\n    },\n    描述:function(u){\n        return pdfh(u,'a,1&&Text')\n    },\n    内容:function(u){\n        return pdfh(u,'body&&Text')\n    }\n    \n}\n一级(parStr,true,false,false,html);\n}else{\n    setResult([{\n        title:key,\n        url:'hiker://empty##'+url+'#immersiveTheme#',\n        content:'仅有一个结果，点击立即阅读'\n    }]);\n}","search_url":"hiker://empty##http://www.kmwx.net/modules/article/search.php?searchtype=articlename&searchkey=**&Submit=+%CB%D1+%CB%F7+&page=fypage","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.info&&h2&&Text;.info&&p,0&&Text;.info&&p,1&&Text',\n img:'.content&&img&&src',\n url:'.left&&img&&src',\n desc:'.info&&p,-2&&Text',\n content:'p.in&&Text',\n tabs:'.info&&h2',//线路\n lists:'.main.list,#id&&dl&&dd:not(:matches(^$))',//列表\n tab_id:'',//线路id，可不填,\n}; \nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".bookname&&h1&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        \n        return pdfh(html, \".centent&&Html\").split('</table>')[1].split('转告，谢谢！')[1]\n    },\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 编码='gb18030';\nvar 指定ua=PC_UA;\nvar 下载='小说';\nvar lazy=小说(定位,编码);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://img1.baidu.com/it/u=2129267010,2487087470&fm=26&fmt=auto"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"DY888影视.dr","author":"道长&情້໌ᮨ","version":1,"type":"video","url":"hiker://empty##https://www.dy888.tv/index.php/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".vodlist&&li;a&&title;.lazyload&&data-original;.pic_text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/(.*)\\/(.*?).html/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n        一级分类: '.top_nav',\n        子分类: 'body&&li:not(:matches(首页|特约栏目|小说))',\n        分类链接: {\n            二次处理(url) {\n                return url.replace(\"/type/\", \"/show/\")\n            }\n        }\n    },{\n        一级分类: 'body&&.screen_list',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".vodlist&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href;p,-1&&Text\";\n一级(parStr,true);","search_url":"https://www.dy888.tv/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.pannel_head&&h2&&Text;.data,1&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'.data,2&&Text;.data,3&&Text;.content_detail,1&&.data&&Text',\n content:'.full_text&&Text',\n tabs:'#NumTab&&a',\n lists:'body&&.content_playlist.list_scroll,#id&&li',\n tab_id:'',\n 线路处理:function(u){\n     return u.replace('','').replace('&nbsp;','').trim()\n }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://img.52z.com/upload/info/20180420/1524192745900369.png"},{"last_chapter_rule":"","pageList":[],"title":"站长工具.dz","author":"道长","version":2,"type":"tool","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"工具","year_url":"","find_rule":"js:\nrequireDownload('https://gitcode.net/qq_32394351/dr/-/raw/master/js/classes2.dex', 'hiker://files/cache/classes2.dex');\nlet d=[];\nlog('视界自带的gbk编码斗罗:'+encodeStr('斗罗', 'GBK'));\nfunction getGbk(key,en,de){\n    en = en||'';\n    de = de||'';\n    let body = {\n        content: key,\n        charsetSelect: 'gb2312',\n    };\n    if(en){\n        body.en = 'UrlEncode编码'\n    }else if(de){\n        body.de = 'UrlDecode解码'\n    }else{\n        body.en = 'UrlEncode编码'\n    }\n    let code=post('http://tool.chinaz.com/tools/urlencode.aspx',{\n        body:body\n    });\n    let enkey=pdfh(code,'#content&&Text');\n    return enkey\n}\nfunction encodeUnicode(str) {\n    str = str.split('').map(it=>it.charCodeAt().toString(16).slice(-4)).join('%');\n    return \"%\" + str\n}\nvar 工具={\n    getGbk:getGbk,\n    encodeUnicode:encodeUnicode,\n};\nd.push({\n    title:'特殊格式的字符串编码解码(gbk/url)',\n    desc:'此工具用于弥补海阔本身的url编码解码不支持指定gbk格式的问题,有些小说网站的搜索参数需要通过gbk格式的url编码解码。也支持海阔自带的evalPrivateJs加解密',\n    url:\"hiker://empty\",\n    col_type:'text_1'\n});\nd.push({\n    title: '字符串',\n    url: $.toString(()=>{\n        return 'toast://不要点我,点下面的编码和解码按钮!'\n    }),\n    col_type: \"input\",\n    desc: \"请输入待编码/解码的字符串\",\n    pic_url: \"\",\n    extra: {\n        onChange: \"putMyVar('str',input)\",\n        titleVisible: true,\n        defaultValue:getMyVar('str','')\n    },\n});\nlet mode_sel = ['gbk','gbk2','url','evalPrivateJs','base64','小龟'].map(it=>getMyVar('mode','gbk')===it?'=>'+it:it);\nd.push({\n    title:'类型:'+getMyVar('mode','gbk'),\n    url:$(mode_sel,2).select(()=>{\n        input = input.replace(/=>g/,'');\n        putMyVar('mode',input);\n        refreshPage(false);\n        return 'hiker://empty'\n    }),\n    col_type:'text_3'\n});\nd.push({\n    title:'编码',\n    url:$('#noLoading#').lazyRule((工具)=>{\n        if(getMyVar('mode','gbk')==='gbk'){\n            let ret = 工具.getGbk(getMyVar('str',''));\n            putMyVar('ret',ret);\n        }\n        else if(getMyVar('mode','gbk')==='gbk2'){\n            let ret = encodeStr(getMyVar('str',''), 'GBK');\n            putMyVar('ret',ret);\n        }\n        else if(getMyVar('mode','gbk')==='url'){\n            let ret = 工具.encodeUnicode(getMyVar('str',''));\n            putMyVar('ret',ret);\n        }else if(getMyVar('mode','gbk')==='evalPrivateJs'){\n            let ret = getPrivateJS(getMyVar('str',''));\n            putMyVar('ret',ret);\n        }else if(getMyVar('mode','gbk')==='base64'){\n            let ret = base64Encode(getMyVar('str',''));\n            putMyVar('ret',ret);\n        }else{\n            return 'toast://暂不支持编码:'+getMyVar('mode')\n        }\n        refreshPage(false);\n        return 'hiker://empty'\n    },工具),\n    col_type:'text_3'\n});\nd.push({\n    title:'解码',\n    url:$('#noLoading#').lazyRule((工具)=>{\n        if(getMyVar('mode','gbk')==='gbk'){\n            let ret = 工具.getGbk(getMyVar('str',''),false,true);\n            putMyVar('ret',ret);\n        }\n        else if(getMyVar('mode','gbk')==='gbk2'){\n            let ret = decodeStr(getMyVar('str',''), 'GBK');\n            putMyVar('ret',ret);\n        }else if(getMyVar('mode','gbk')==='url'){\n            let ret = unescape(getMyVar('str',''));\n            putMyVar('ret',ret);\n        }else if(getMyVar('mode','gbk')==='evalPrivateJs'){\n            var AesUtil = loadJavaClass('hiker://files/cache/classes2.dex', 'com.example.hikerview.utils.encrypt.AesUtil');\n            let ret = AesUtil.decrypt(\"hk6666666109\",getMyVar('str',''));\n            putMyVar('ret',ret);\n        }else if(getMyVar('mode','gbk')==='小龟'){\n            require('https://gitcode.net/qq_32394351/dr/-/raw/master/js/zyw.js');\n            let ret = 通讯解密(getMyVar('str',''));\n            putMyVar('ret',ret);\n        }else if(getMyVar('mode','gbk')==='base64'){\n            let ret = base64Decode(getMyVar('str',''));\n            putMyVar('ret',ret);\n        }\n        refreshPage(false);\n        return 'hiker://empty'\n    },工具),\n    col_type:'text_3'\n});\nd.push({\n    desc: \"编码/解码结果\",\n    col_type: 'input',\n    url: 'hiker://empty',\n    extra: {\n        titleVisible: false,\n        defaultValue: getMyVar('ret', ''),\n        type: \"textarea\",\n        height:-1,\n        onChange: 'putMyVar(\"ret\",input)'\n    }\n});\nsetResult(d)","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"http://csstools.chinaz.com/tools/images/vipInfo.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"两个BT.dr","author":"道长&&情້໌ᮨ","version":1,"type":"video","url":"hiker://empty##https://www.bttwo.tv/movie_bt/movie_bt_tags/4k/page/fypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"疑似失效","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".bt_img&&li;img&&alt;a&&img&&data-original;.furk&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/(.*)\\/page\\/(.*?)$/)[2];\n//log('当前页码:' + page);\n//true_url = 获取正确链接();\nif(/movie_bt_tags/.test(true_url)){\n    true_url=true_url.replace(/movie_bt_tags\\/(.*)\\/page\\/(\\d+)/,'movie_bt_tags/'+'$1'+'/page/'+page);\n}\nif(!/page\\/(\\d+)/.test(true_url)){\ntrue_url = true_url+'/page/'+page\n}\n//log(true_url);\nlet cates=打造动态分类([\n{\n        一级分类: '.navlist',\n        子分类: 'body&&li:not(:matches(首页|热门下载|指南))',\n        分类链接: {\n            二次处理(url) {\n                return url.replace('/movie_bt_tags\\/(.*)/', '$1')\n            }\n        }\n    },\n    {\n        一级分类: 'body&&.submenu_mi',\n        子分类: 'body&&li:not(:matches(电影先生|SuSoDH|APP下载)):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\".bt_img&&li;img&&alt;a&&img&&data-original;.furk&&Text;a&&href;.inzhuy&&Text\";\n一级(parStr,true);","search_url":"https://www.bttwo.tv/page/fypage?s=**","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.dytext&&Text',\n img:'.dyimg&&img&&src',\n url:'.dyimg&&img&&src',\n desc:'.yp_context&&p&&Text',\n tabs:'body&&.zaixianbf',\n lists:'body&&.paly_list_btn,#id&&a',\n tab_id:'',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.hao363.com/wp-content/uploads/2021/11/QQ%E5%9B%BE%E7%89%8720211102194739.jpg"},{"last_chapter_rule":"","pageList":[],"title":"vip看片.dr","author":"道长&Killer","version":2,"type":"video","url":"hiker://empty##http://www.vipkanpian.com/vodshow/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\"body&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href.js:input.replace('play','detail')+'#immersiveTheme#'\";\nvar page = MY_URL.match(/(.*)\\/(.*?).html/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类({\n        一级分类: 'body&&.scroll-content',\n        子分类: 'body&&a:not(:matches(其他|动漫))',\n    });\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-search-item;.video-info&&a&&title;.lazyload&&data-src;.video-serial&&Text;a,1&&href;.video-info-items,2&&Text\";\n一级(parStr,true);","search_url":"http://www.kpian.cc/vodsearch/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\ntitle:'.page-title&&Text;.video-info-aux&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src', desc:\".video-info-items,0&&Text;.video-info-items,2&&Text;.video-info-items,3&&Text\",\n content:'.sqjj_a&&Text',\n tabs:'body&&.module-tab-item',\n lists:'body&&.scroll-box-y,#id&&a',\n tab_id:''\n};\nvar lazy=$('').lazyRule(()=>{\n    return JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url\n});\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://img2.baidu.com/it/u=3606208288,3797671163&fm=26&fmt=auto"},{"last_chapter_rule":"","pageList":[],"title":"北川影视.dr","author":"道长&Killer","version":1,"type":"video","url":"hiker://empty##https://www.bcwzg.com/vodshow/2--------fypage---/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\"body&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a,1&&href\";\nvar page = MY_URL.match(/--------(.*?)---/)[1];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类({\n        一级分类: 'body&&.scroll-content',\n        子分类: 'body&&a:not(:matches(其他|动漫))',\n    });\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-search-item;.video-info&&a&&title;.lazyload&&data-src;.video-serial&&Text;a,1&&href;.video-info-items,2&&Text\";\n一级(parStr,true);","search_url":"https://www.bcwzg.com/vodsearch/**----------fypage---/","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\ntitle:'.page-title&&Text;.video-info-aux&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src', desc:\".video-info-items,0&&Text;.video-info-items,2&&Text;.video-info-items,3&&Text\",\n content:'.vod_content&&Text',\n tabs:'body&&.module-tab-item',\n lists:'body&&.scroll-box-y,#id&&a',\n tab_id:'',\n reChange:function(u){\n     if(/\\.m3u8/.test(u)){\n         u=u.split('&next=')[0]\n     }\n     return u\n },\n 线路处理:function(u){\n     return u.split(\" \")[0]\n }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.bcwzg.com/favicon.ico"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"3G壁纸.dr","author":"道长","version":2,"type":"video","url":"hiker://empty##https://www.3gbizhi.com/sjbz/index_fypage.html","col_type":"pic_2","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"图片","year_url":"","find_rule":"js:\nMY_URL = MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr = \".contlistw&&li;img&&title;img&&lazysrc;a&&Text;a:has(img)&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/index_(.*?)\\.html/)[1];\nlog(page);\n//true_url = 获取正确链接();\nif (parseInt(page) === 1) {\n    true_url = true_url.replace(/index_(.*?)\\.html/, '')\n} else if (parseInt(page) > 1) {\n    if (/\\.html/.test(true_url)) {\n        true_url = true_url.replace(/\\.html/, '_' + page + '.html')\n    } else {\n        true_url += 'index_' + page + '.html'\n    }\n}\nlog(true_url);\nlet cates = 打造动态分类([{\n    一级分类: '.tmenu',\n    子分类: 'body&&li:has(a[href]):not(:matches(首页))',\n}, {\n    一级分类: '.menuw&&ul',\n    子分类: 'body&&li:has(a[href]):not(:matches(^$))',\n}]);\nif(/desk\\.3gbizhi|\\/sjbz\\//.test(true_url)){\n    lazy = $('#noLoading#').lazyRule(() => {\n    var html = request(input);\n    url = pd(html, 'a:matches(查看原图)&&href');\n    return url\n});\n}else{\nlet picStr = {\n    编码:'gb18030',\n    最大页数:function (html){\n        try{return pdfh(html, \".showtitle&&Text\").match(/\\((\\d+)\\/(\\d+)\\)/)[2]}catch(e){return 1}\n    },\n    列表:'.morew&&a',\n    图片:'a&&href',\n    链接替换:function (input,p){return input.replace(\".html\", \"_\" + p + \".html\")}\n};\nlazy=图片(picStr);\n}\n设置(cates);\n一级(parStr, false, cates, false, html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nlet ps=\".searchlistw&&.cl&&li;img&&alt;img&&src;;a&&href;.tits&&Text\";\nvar lazy = $('#noLoading#').lazyRule(() => {\n    var html = request(input);\n    url = pd(html, 'a:matches(查看原图)&&href');\n    return url\n});\nlet _=false;\n一级(ps,_,_,_,html);","search_url":"hiker://empty##https://www.3gbizhi.com/search/1-**/fypage.html","group":"#️⃣道长dr","detail_col_type":"pic_1_card","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://desk.3gbizhi.com/favicon.ico"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"核桃影视.dr","author":"道长&情້໌ᮨ","version":2,"type":"video","url":"hiker://empty##http://video.tf/vodshow/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".movie-list-body&&a;.txtHide&&Text;.lazy&&data-original;.movie-rating&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/(.*)-(.*?)---\\.html/)[2];\n//log(page);\ntrue_url = 获取正确链接();\n//log(true_url);\nlet cates=打造动态分类([{\n        一级分类: 'body&&.category-block',\n        子分类: 'body&&a',\n        分类链接: {\n            二次处理(url) {\n                return url\n            }\n        }\n    },{\n        一级分类: 'body&&.filter-panel',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\"body&&.vod-search-list;.txtHide&&Text;.lazy&&data-original;.movie-rating&&Text;a&&href;.detail&&Text\";\n一级(parStr,true);","search_url":"http://video.tf/so/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.movie-title&&Text;.cr3&&Text',\n img:'.poster&&img&&src',\n url:'.poster&&img&&src',\n desc:'.scroll-content&&Text;.starLink&&Text',\n content:'.summary&&Text',\n tabs:'body&&.play_source_tab&&a',\n lists:'body&&.content_playlist,#id&&li',\n tab_id:'',\n};\nvar lazy =$('').lazyRule((解析)=>{\n    let url=JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url;\n    //log(url);\n    //url=unescape(base64Decode(url));\n    //log(url);\n    var playUrl='https://bv.htoo.vip/m3u8.php?url='+url;\n    //log(playUrl);\n    var 插件=解析.加载魔断();\n    url=插件.魔断().猫(playUrl,false,'B8DE3995ABE1F8BA');\n    if(/rongxing/.test(url)){\n        return cacheM3u8(url)\n    }else{\n    return 解析.是否视频(url);\n    }\n},解析);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"http://pic.downcc.com/upload/2021-9/2021915173065656.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"极速云播.dr","author":"道长&情້໌ᮨ","version":2,"type":"video","url":"hiker://empty##https://www.zxyb.cc/s/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/(.*)-(.*?)---\\.html/)[2];\n//log(page);\ntrue_url = 获取正确链接();\n//log(true_url);\nlet cates=打造动态分类([{\n        一级分类: 'body&&.stui-header__menu',\n        子分类: 'body&&li:matches(电影|连续剧|综艺|动漫)',\n        分类链接: {\n            二次处理(url) {\n                return url\n            }\n        }\n    },{\n        一级分类: '#screenbox&&ul',\n        子分类: 'body&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href;p&&Text\";\n一级(parStr,true);","search_url":"https://www.zxyb.cc/so/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1&&Text;p.data,1&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'p.data,4&&Text;p.data,5&&Text;p.data,6&&Text',\n content:'p.desc&&Text',\n tabs:'body&&.nav-tabs&&li',\n lists:'body&&.tab-content&&#id&&ul&&li',\n tab_id:'a&&href',\n};\nvar lazy =$('').lazyRule((解析)=>{\n    let url=JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url;\n    if(/m3u8|mp4/.test(url)){\n        return cacheM3u8(url)\n    }else{\n        return 解析.纯通免(input)\n    }\n},解析);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"http://lsagr.ycpaint.com/20211207/5gdgdpxg1aj.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"64影视网.dr","author":"道长&情້໌ᮨ","version":2,"type":"video","url":"hiker://empty##https://www.64ys.com/list/shou-1/index_fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".index-area&&li;a&&title;img&&data-original;.other&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/_(\\d+)\\.html/)[1];\n//log(page);\n//true_url = 获取正确链接();\n//log(true_url);\ntrue_url=true_url.replace(/_(\\d+)\\.html/,'_'+page+'.html');\n//log(true_url);\nlet cates=打造动态分类([{\n        一级分类: 'body&&.top-nav',\n        子分类: 'body&&li:not(:matches(首页))',\n        分类链接: {\n            二次处理(url) {\n                if(!/index_(\\d+)\\.html/.test(url)){\n                    url+='index_1.html'\n                }\n                return url\n            }\n        }\n    },{\n        一级分类: 'body&&#sj-gjsy',\n        子分类: 'body&&dl&&dd:has(a[href]):not(:matches(电影|连续剧|综艺|动漫)):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\".index-area&&li;a&&title;img&&data-original;.other&&Text;a&&href;p,1&&Text\";\n一级(parStr,true);","search_url":"https://www.64ys.com/vodsearch/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.name&&Text;dd&&Text;dd,5&&Text',\n img:'.lazy&&data-original',\n url:'.lazy&&data-original',\n desc:'dd,1&&Text;dt,1&&Text;dd,2&&Text',\n content:'.desc&&Text',\n tabs:'body&&.playfrom',\n lists:'body&&.videourl,#id&&li',\n tab_id:'',\n};\nvar lazy =$('').lazyRule((解析)=>{\n    let url=JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url;\n    if(/m3u8|mp4/.test(url)){\n        return cacheM3u8(url)\n    }else{\n        return 解析.纯通免(input)\n    }\n},解析);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://img.appkg.com/up/2021/8/82b2c45e1a7c2429"},{"last_chapter_rule":"","pageList":[],"title":"麻瓜影视.dr","author":"道长大大","version":1,"type":"video","url":"hiker://empty##https://www.magua.cc/list-read-id-1-p-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".myui-vodlist&&li;a&&title;a&&data-original;a&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/-p-(\\d+)\\.html/)[1];\nif(!/-p-/.test(true_url)){\n    true_url = true_url.replace(/\\.html/,'-p-'+page+'.html')\n}\n//true_url = 获取正确链接();\nlog(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.myui-header__menu',\n        子分类: 'body&&li:not(:matches(^$)):not(:contains(数字))',\n        分类链接: {\n            二次处理名称(title) {\n                return title.replace(/(\\d+)/g, \"\")\n            }\n        }\n        \n    },{\n        一级分类: 'body&&.myui-screen__list',\n        子分类: 'ul&&a:not(:matches(剧情|地区|年份|语言|字母|排序)):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".myui-vodlist__media&&li;a&&title;a&&data-original;a&&Text;a&&href;p.hidden-xs&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.magua.cc/vod-search-wd-**-p-fypage.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1.title&&Text;#rating&&Text;p.data,0&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'p.data,1&&Text;p.data,2&&Text;p.data,3&&Text',\n content:'p.desc&&Text.js:input.replace(\"简介：\",\"\")',\n tabs:'.nav-tabs&&li',\n lists:'body&&.myui-content__list,#id&&li',\n tab_id:'',\n};\nvar lazy=$('').lazyRule((v)=>{\n    eval(pdfh(request(input,{}),'body&&.embed-responsive&&script&&Html'));\n    var url=cms_player.url.replace(/\\\\\\//g,'/');\n    if(/\\.m3u8/.test(url)){\n        return v.是否视频(url)\n    }else{\n        return v.纯通免(input)\n    }\n},解析);\n\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/120.svg"},{"last_chapter_rule":"","pageList":[],"title":"嘀哩嘀哩.dr","author":"道长大大","version":1,"type":"video","url":"hiker://empty##https://www.dlidl.com/list/dianshiju______fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL = MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr = \"#content&&li;a&&title;.lazyload&&data-original;span.vtitle&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/_(\\d+)\\.html/)[1];\nlog('当前页码:' + page);\n\nif (!/\\.html/.test(true_url)) {\n    true_url = true_url + '______' + page + '.html'\n} \nelse if (!/_(\\d+)\\.html/.test(true_url)){\n    true_url = true_url.replace(/\\.html/, '_'+ page + '.html')\n}\n//true_url = 获取正确链接();\nlog(true_url);\nlet cates = 打造动态分类([{\n    一级分类: '.swiper-wrapper',\n    子分类: 'body&&li:not(:matches(^$)):has(:matches(电视剧|电影|动漫|综艺))',\n}, {\n    一级分类: 'body&&.type-select',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr, true, cates, false, html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nif(/搜索时间间隔/.test(html)){\n            setResult([{\n                title:'搜索验证已自动跳过，等待3秒后下拉刷新',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n        }\nparStr=\".img-list&&li;a&&title;.lazyload&&data-original;div.hidden-xs,3&&Text;a&&href;div.vod-txt&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.dlidl.com/search/**-fypage.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.vod-detail-info&&h1&&Text;.vod-detail-info&&.col-xs-1,2&&Text;.vod-detail-info&&.col-xs-1,1&&Text',\n img:'.vod-detail-pic&&img&&src',\n url:'.vod-detail-pic&&img&&src',\n desc:'.vod-detail-info&&.col-xs-1,3&&Text;.vod-detail-info&&.col-xs-1,4&&Text;.vod-detail-info&&.col-xs-1,5&&Text',\n content:'.vod-detail-info&&.txt-hid&&Text.js:input.replace(\"简介：\",\"\")',\n tabs:'.player-more-list&&li',\n lists:'body&&.play-list,#id&&li',\n tab_id:'',\n};\nvar lazy=$('').lazyRule((v)=>{\n    eval(pdfh(request(input,{}),'body&&.embed-responsive&&script&&Html'));\n    var fr=zanpiancms_player.name;\n    var realUrl=zanpiancms_player.url.replace(/\\\\\\//g,'/');\n    //log(realUrl);\n    if(/\\.m3u8/.test(realUrl)){\n        return v.是否视频(realUrl)\n    }else if(v.是否支持魔断(realUrl,fr)){\n        return v.纯魔断(realUrl)\n    }/*\n else if(fr === 'renrenmi'){\n        \neval(fetch('https://lecurl.cn/?url='+zanpiancms_player.url'));\nvar lj= pdfh(html, 'body&&script&&Html');\nurl = config.url.match(/Info(\"(.*)\"/)[1];\nlog(url)\n        return v.是否视频(realUrl)\n    }*/\nelse{\n        return v.纯通免(input)\n    }\n},解析);\n\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.dlidl.com/tpl/zanpiancms12/images/index.png"},{"last_chapter_rule":"","pageList":[],"title":"阿房影视.da","author":"道长","version":20,"type":"video","url":"hiker://empty##https://bwl87.com/#fypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.自动匹配);\n自动一级();","searchFind":"js:\nlet key=MY_URL.split('##')[1];\nlet url='https://www.bwl87.com/index.php/ajax/suggest?mid=1&wd='+key+'&limit=100&timestamp='+new Date().getTime();\nlet html=request(url);\n//log(html);\n let d = JSON.parse(html).list;\n //log(d);\n d=d.map((it)=>{\n     return {\n         title:it.name,\n         //desc:it.id,\n         content:it.en,\n         img:/^http/.test(it.pic)?it.pic:'https://www.bwl87.com'+it.pic,\n         url:'hiker://empty##https://bwl87.com/detail/' + it.id + '/' + '#immersiveTheme#'\n     }\n     \n })\n setResult(d);","search_url":"hiker://empty##**","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/饭团影院.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"哈哩哈哩.dr","author":"道长&情້໌ᮨ","version":2,"type":"video","url":"hiker://empty##http://halihali.icu/tv/0/0/all/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&li;.name&&Text;.lazy&&data-original;.bz&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page=MY_URL.match(/\\/(\\d+).html/)[1];\ntrue_url=true_url.replace(/(\\d+)\\.html/,page+'.html');\nvar html=获取源码(true_url);\nlet cates=打造动态分类([{\n        一级分类: 'body&&.js2.nav-down-pc',\n        子分类: 'ul&&li',\n        分类链接: {\n            二次处理(url) {\n                return url+'0/0/all/1.html'\n            }\n        }\n    },{\n        一级分类: 'body&&.sy.scon&&dl',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n//log(true_url);\nlet 数据=true_url.split('icu/')[1].split('/');\n//log(数据);\nif(数据.length<4){\n    数据=['tv','0','0','all']\n}\nlet 数据链接='https://gda5.quelingfei.com:4438/getsortdata_all_z.php?action='+数据[0]+'&page='+page+'&year='+数据[1]+'&area='+数据[3]+'&class='+数据[2]+'&dect=&id=';\nlog(数据链接);\nhtml=获取源码(数据链接);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nlet [, url] = /var my_search='(http.*php)'/.exec(getResCode())\nlet list = JSON.parse(fetch(url + '?q=' + MY_URL.split('?searchword=')[1], {}))\nvar data = []\nlist.forEach((v) => data.push({\n  title: v.title,\n  url: 'http://halihali.icu/' + v.url + '#immersiveTheme#',\n  content: '连载集数: ' + v.lianzaijs + '\\n演员: ' + v.star,\n  desc: v.time + ' • ' + v.area,\n  img: v.thumb\n}))\nsetResult(data);","search_url":"http://halihali.icu/search.php?searchword=**&page=fypage","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'dt.name&&Text.js:input.split(\"连载\")[0]',\n img:'.lazy&&data-original',\n url:'.lazy&&data-original',\n desc:'dd&&Text;dd,2&&Text;dd,3&&Text',\n content:'.des2&&Text',\n tabs:'body&&.tab1&&a',\n lists:'#stab_1_71,#id&&li',\n tab_id:'',\n reChange:function(u){\n     return u.split('$$$')[0].replace(/com(\\d+)\\//,'com/').split('&')[0]\n }\n};\nvar lazy=$('').lazyRule((解析,嗅探处理)=>{\n    //MY_URL=MY_URL.split('##')[1];\n    let js = request(input).match(/<script[^<>]*?src=\"(.*?)\"><\\/script>[^<>]*?<body>/)[1];\n    eval(request(js));\n    let now=input.match(/\\/(\\d+)\\.html/)[1];\n    //log(now);\n    //log(playarr_2);\n    //log(playarr_1);\n    playarr_2=playarr_2.filter(it=>it);\n    playUrl=playarr_2.filter(it=>it.split(',').slice(-1)[0]==now);\n    if(playUrl.length==1&&/\\.m3u8/.test(playUrl[0])){\n        return playUrl[0].split(',')[0]\n    }else{\n        return 解析.纯通免(input,嗅探处理);\n    }\n},解析,parse.reChange);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://img2.baidu.com/it/u=116437913,2929541611&fm=26&fmt=auto"},{"last_chapter_rule":"","pageList":[],"title":"坛草电影.dr","author":"道长大大","version":0,"type":"video","url":"hiker://empty##http://www.tc720.com/dylb/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".vodlist&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(\\d+)\\.html/)[1];\nvar host = 'http://www.tc720.com/dylb/id/'\n//true_url = 获取正确链接();\nif(!/dylb/.test(true_url)){\n    true_url = host + true_url.match(/type\\/(\\d+)\\.html/)[1] + '/page/'+page+'.html'\n}\nelse{\ntrue_url = true_url.replace(/\\.html/,'/page/'+page+'.html')\n}\n\n//log(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.nav_list',\n        子分类: 'body&&li:not(:matches(首页|资讯|专题|留言|最近更新|排行榜))',\n分类链接: {\n            二次处理名称(title) {\n                return title.replace(' ','')\n            }\n        }\n    },{\n        一级分类: 'body&&.screen_list',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".vodlist&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href;p.hidden_xs&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##http://www.tc720.com/dyss/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1&&Text;#rating&&Text;li.data&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'li.data,1&&Text;li.data,2&&Text;li.data,3&&Text',\n content:'.full_text&&Text.js:input.split(\"坛草电影网\")[0]',\n tabs:'.play_source_tab&&a',\n lists:'body&&.play_source&&.playlist_full,#id&&li',\n tab_id:'',\n线路处理:function(u){\n     return u.split(\" \").slice(-1)[0]\n }\n};\nvar lazy=$('').lazyRule((v)=>{\n    eval(pdfh(request(input,{}),'body&&.embed-responsive&&script&&Html'));\n    var fr=player_aaaa.from;\n    var url=player_aaaa.url;\n    var true_url = unescape(url.replace(/\\u/g, \"%u\"))\n    //log(url);\n    if(/\\.m3u8/.test(true_url)){\n        return v.是否视频(true_url)\n    }else if(v.是否支持魔断(url,fr)){\n        return v.纯魔断(true_url)\n    }else if(fr === 'leduo'){\n       url = request('https://api.leduotv.com/wp-api/glid.php?vid='+true_url+'&isDp=1').match(/url='(.*?)'/)[1];\n        return v.纯通免(url)\n    }else{\n        return v.纯通免(input)\n    }\n},解析);\n\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/119.svg"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"主页","path":"homeIndex","rule":"js:\nlet d = [];\nconst {color,small} = $.require(\"hiker://page/utiliy?rule=道长仓库Pro\");\nlet options = ['带声调','不带声调','首字母','多音字'];\nfor(let i in options){\n    let it = options[i];\n    d.push({\n        title:(it===getMyVar('option','不带声调'))||(it==='多音字'&&getMyVar('多音字',''))?color(it,'#23a309'):it,\n        col_type:'scroll_button',\n        url:$('#noLoading#').lazyRule((it)=>{\n            if(it==='多音字'){\n                let flag = getMyVar('多音字','')?'':'是';\n                putMyVar('多音字',flag);\n            }else{\n                putMyVar('option',it);\n            }\n            refreshPage(false);\n            return 'hiker://empty'\n        },it)\n    });\n}\n\nd.push({\n    title:'转换',\n    col_type:'input',\n    extra:{\n        onChange: \"putMyVar('input',input)\",\n        titleVisible: true,\n        textSize: 13,\n        type: \"textarea\",\n        height:-1,\n        defaultValue:getMyVar('input',''),\n    },\n    url:$.toString(()=>{\n        require(config.字典1);\n        require(config.插件);\n        let option = getMyVar('option','不带声调');\n        let input = getMyVar('input','');\n        let ret = '';\n        let 多音字 = !!getMyVar('多音字','');\n        switch (option){\n            case '带声调':\n                ret = pinyinUtil.getPinyin(input, ' ', true, 多音字);\n                break;\n            case '不带声调':\n                ret = pinyinUtil.getPinyin(input, ' ', false, 多音字);\n                break;\n            case '首字母':\n                ret = pinyinUtil.getFirstLetter(input, 多音字);\n                break;\n            default:\n                ret = pinyinUtil.getPinyin(input, ' ', false, 多音字);\n                break;\n        }\n        log(ret);\n        putMyVar('out',ret);\n        refreshPage(false);\n        return 'toast://转换完毕'\n    }),\n})\n\nd.push({\n    title:'复制',\n    col_type:'input',\n    desc:'转换后结果',\n    url:$.toString(()=>{\n        let ret = getMyVar('out','');\n        if(ret){\n            copy(ret);\n            return 'hiker://empty'\n        }else{\n            return 'toast://无结果!'\n        }\n    }),\n    extra:{\n        onChange: \"putMyVar('out',input)\",\n        titleVisible: true,\n        textSize: 13,\n        type: \"textarea\",\n        height:-1,\n        defaultValue:getMyVar('out',''),\n    }\n});\n\nsetResult(d);"}],"title":"中文转拼音","author":"道长","version":0,"type":"tool","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"工具","year_url":"","find_rule":"js:\neval(JSON.parse(fetch('hiker://page/homeIndex')).rule);","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myApp', MY_RULE.title);\ninitConfig({\n  插件:'http://hiker.nokia.press/hikerule/rulelist.json?id=3230',\n  字典1:'https://gitlab.com/hjdhnx/hiker/-/raw/main/js/pinyin_dict_withtone.js',\n});","pages":"[{\"col_type\":\"movie_3\",\"name\":\"主页\",\"path\":\"homeIndex\",\"rule\":\"js:\\nlet d = [];\\nconst {color,small} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\nlet options = ['带声调','不带声调','首字母','多音字'];\\nfor(let i in options){\\n    let it = options[i];\\n    d.push({\\n        title:(it===getMyVar('option','不带声调'))||(it==='多音字'&&getMyVar('多音字',''))?color(it,'#23a309'):it,\\n        col_type:'scroll_button',\\n        url:$('#noLoading#').lazyRule((it)=>{\\n            if(it==='多音字'){\\n                let flag = getMyVar('多音字','')?'':'是';\\n                putMyVar('多音字',flag);\\n            }else{\\n                putMyVar('option',it);\\n            }\\n            refreshPage(false);\\n            return 'hiker://empty'\\n        },it)\\n    });\\n}\\n\\nd.push({\\n    title:'转换',\\n    col_type:'input',\\n    extra:{\\n        onChange: \\\"putMyVar('input',input)\\\",\\n        titleVisible: true,\\n        textSize: 13,\\n        type: \\\"textarea\\\",\\n        height:-1,\\n        defaultValue:getMyVar('input',''),\\n    },\\n    url:$.toString(()=>{\\n        require(config.字典1);\\n        require(config.插件);\\n        let option = getMyVar('option','不带声调');\\n        let input = getMyVar('input','');\\n        let ret = '';\\n        let 多音字 = !!getMyVar('多音字','');\\n        switch (option){\\n            case '带声调':\\n                ret = pinyinUtil.getPinyin(input, ' ', true, 多音字);\\n                break;\\n            case '不带声调':\\n                ret = pinyinUtil.getPinyin(input, ' ', false, 多音字);\\n                break;\\n            case '首字母':\\n                ret = pinyinUtil.getFirstLetter(input, 多音字);\\n                break;\\n            default:\\n                ret = pinyinUtil.getPinyin(input, ' ', false, 多音字);\\n                break;\\n        }\\n        log(ret);\\n        putMyVar('out',ret);\\n        refreshPage(false);\\n        return 'toast://转换完毕'\\n    }),\\n})\\n\\nd.push({\\n    title:'复制',\\n    col_type:'input',\\n    desc:'转换后结果',\\n    url:$.toString(()=>{\\n        let ret = getMyVar('out','');\\n        if(ret){\\n            copy(ret);\\n            return 'hiker://empty'\\n        }else{\\n            return 'toast://无结果!'\\n        }\\n    }),\\n    extra:{\\n        onChange: \\\"putMyVar('out',input)\\\",\\n        titleVisible: true,\\n        textSize: 13,\\n        type: \\\"textarea\\\",\\n        height:-1,\\n        defaultValue:getMyVar('out',''),\\n    }\\n});\\n\\nsetResult(d);\"}]","icon":"https://lanmeiguojiang.com/tubiao/messy/17.svg"},{"last_chapter_rule":"","pageList":[],"title":"阿里影视.dr","author":"道长","version":2,"type":"video","url":"hiker://empty##http://www.feishi.ltd/index.php/vod/show/id/20/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".fed-list-info&&li;a,1&&Text;a&&data-original;.fed-list-remarks&&Text;a,1&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(\\d+)\\.html/)[1];\n//true_url = 获取正确链接();\nif(!/page/.test(true_url)){\n    true_url = true_url.replace(/\\.html/,'/page/'+page+'.html')\n}\nelse{\ntrue_url = true_url.replace('/page\\/(\\d+)\\.html/','page/'+page+'.html')\n}\n//log(true_url);\n//clearMyVar('header.category');\nlet cates=打造动态分类([{\n        一级分类: '.fed-casc-list&&dl:gt(0)',\n        子分类: 'dl&&dd:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".fed-part-layout&&dl;h3&&Text;a&&data-original;a&&Text;a,1&&href;ul.fed-part-rows&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##http://www.feishi.ltd/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: 'h3&&Text;.fed-deta-images&&a&&Text',\n    img: '.fed-deta-images&&a&&data-original',\n    url: '.fed-deta-images&&a&&data-original',\n    desc: '.fed-list-deta&&ul.fed-part-rows&&Text',\n    content: '.fed-conv-cont&&p.fed-conv-text&&Text',\n    tabs: 'ul.fed-padding&&li',\n    lists: 'body&&ul.fed-tabs-btm,#id&&li',\n    tab_id: '',\n};\nvar lazy = $('').lazyRule((解析) => {\n  var vipUrl=pd(request(input,{}),'body&&.fed-main-info&&iframe&&data-play');\n  log('视频真实链接:'+vipUrl);\nif(解析.是否正版(vipUrl)){\n    插件=解析.加载魔断();\n //return 解析.纯魔断(vipUrl)\n return 插件.魔断().猫(\"https://m3u8.okjx.cc:3389/m.php?url=\" + vipUrl, \"https://m3u8.okjx.cc:3389\", \"36606EE9A59DDCE2\");\n}else if(/\\.m3u8|\\.mp4/.test(vipUrl)){\n  return 解析.是否视频(vipUrl)\n}else{\n  return 解析.纯通免(input)\n}\n        },解析);\n var 动态最新章节 = true;\n var 倒序 = false; \n二级(parse, lazy, true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/more/62.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"大鱼D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##http://187687.com/index.php/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".vodlist&&li;a&&title;.lazyload&&data-original;.pic_text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/(.*)\\/(.*?).html/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n        一级分类: '.top_nav',\n        子分类: 'body&&li:not(:matches(首页|特约栏目|小说|资讯))',\n        分类链接: {\n            二次处理(url) {\n                return url.replace(\"/type/\", \"/show/\")\n            }\n        }\n    },{\n        一级分类: 'body&&.screen_list',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates,true);\nvar 一级处理={\n    沉浸:true\n};\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".vodlist&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href;p,-1&&Text\";\n一级(parStr,true);","search_url":"http://187687.com/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.data,2&&Text;.content_detail,1&&.data&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'.full_text&&Text',\n tabs:'.play_source_tab&&a',\n lists:'body&&#playlistbox,#id&&li',\n tab_id:'',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/more/197.png"},{"last_chapter_rule":"","pageList":[],"title":"看看D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##https://www.kkju.cc/type/2-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/-(.*?).html/)[1];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.stui-header__menu',\n    子分类: 'ul&&li:gt(0):lt(8):not(:matches(首页|明星|资讯|敏感|专题|留言))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n},{\n    一级分类: 'body&&.stui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n},{\n    一级分类: '.nav-head',\n    子分类: 'ul&&li:not(:matches(^$))',\n}]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split(\"##\")[1];\n//log(MY_URL);\nrequire(config.模板);\nlog('cookie:'+getMyVar('cookie'));\nvar html=获取源码(MY_URL);\nif(/输入验证码/.test(html)){\n    showLoading(\"验证码识别中，请稍等\");\n    let vcode=获取验证码('https://www.kkju.cc/verify/index.html');\n    log('获取验证码:'+vcode);\n    let ret=提交验证码('https://www.kkju.cc/index.php/ajax/verify_check?type=search&verify='+vcode);\n    hideLoading();\n    if(/\"msg\"/.test(ret)&&/\"ok\"/.test(ret)){\n       // refreshPage(true);\n        html=获取源码(MY_URL);\n        //log(html);\n        if(/搜索时间间隔/.test(html)){\n            setResult([{\n                title:'搜索验证已自动跳过，等待3秒后下拉刷新',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n        }\n    }else{\n        log('验证未通过:'+ret)\n    }\n}\nparStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href;li&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.kkju.cc/search/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p.data,2&&Text;p.data,3&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&data-original',//图片\n url:'.lazyload&&data-original',//可以是影片链接，或者图片也行\n desc:'.detail-sketch&&Text',//一般主演，地区，影片评分等描述\n tabs:'body&&.dropdown-menu:not(:matches(猜你喜欢|剧情简介|日韩剧周榜单|日韩剧月榜单|国产剧月榜单|国产剧周榜单|榜单))',//列表\n lists:'.stui-content__playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var 验证码='https://www.kkju.cc/verify/index.html';\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/70.png"},{"last_chapter_rule":"","pageList":[],"title":"完美小说.dr","author":"道长","version":1,"type":"read","url":"hiker://empty##https://m.umiwx.com/quanben/fypage.html","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".mod-book&&ul&&li;a&&Text;;body&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/(\\d+)\\.html/)[1];\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\ntrue_url=true_url.replace(/(\\d+)\\.html/,page+'.html');\n//log(true_url);\nvar html=获取源码(true_url,MOBILE_UA);\nlet cates=打造动态分类([{\n        一级分类: 'body&&.top-nav',\n        子分类: 'body&&li:not(:matches(全部)):not(:matches(^$))',\n        \n    }]);\n设置(cates);\nvar 一级处理={\n    标题:function(u){\n        return u.split(':').slice(-1)[0].replace(/【|】/g,'')\n    },\n    描述:function(u){\n        //log(u);\n        let tp=u.match(/\\[(.*?)\\]/)[1];\n        let au=u.split(']')[1].split(':')[0];\n        return '类型:'+tp+' 作者:'+au\n    }\n};\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split(\"##\")[1];\nlet pars=MY_URL.split(\"?\")[1];\nlet html=post(MY_URL.split(\"?\")[0],{\n    body:pars,\n    headers:{\n        \"User-Agent\":MOBILE_UA,\n        \"Cookie\":getMyVar(\"cookie\")\n    }\n});\nparStr=\".mod-search&&ul,0&&li;a&&Text;;.sort&&Text;a&&href\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://m.umiwx.com/s.php?s=**","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.book-info&&h2&&Text;.book-info&&.finish&&Text;.info&&span,0&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'img.lazy&&src',//图片\n url:'img.lazy&&src',//可以是影片链接，或者图片也行\n desc:'.info&&span,1&&Text;.info&&span,2&&Text;.info&&span,3&Text;',//一般主演，地区，影片评分等描述\n content:'meta[property=\"og:description\"]&&content',\n tabs:'body&&.read_start',//线路\n //lists:'body&&.BGsectionThree-content,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n //lists:'#listsss&&li',\n lists:function(u){\n     //log(u);\n     let tds=pdfa(u,'#listsss&&div[data-id]');\n     //log(tds.length);\n     \ntds.sort((a,b)=>{\n            a=pdfh(a,'div&&data-id');\n            b=pdfh(b,'div&&data-id');\n            //log('a:'+a+',b:'+b);\n            return parseInt(a)-parseInt(b)\n        });\n        tds=tds.map(it=>pdfh(it,'div&&Html')).join('');\n       //log(tds.length);\n       let lis=pdfa(tds,'body&&li');\n       //log(lis.length);\n       return lis\n    // return pdfa(u,'#listsss&&li')\n }\n}\nvar 二级处理={\n    重定向:function(input,html){\n        //log('开始重定向');\n        let url=pd(html,'.btns&&li:matches(章节列表)&&a&&href');\n      //log('重定向到:'+url);\n      MY_URL=url;\n      return 获取源码(url)\n    }\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".headline&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        let tds=pdfa(html,'#txt&&dd:not([data-id^=\"999\"])');\n        tds.sort((a,b)=>{\n            a=pdfh(a,'dd&&data-id');\n            b=pdfh(b,'dd&&data-id');\n            //log('a:'+a+',b:'+b);\n            return parseInt(a)-parseInt(b)\n        });\n        tds=tds.map(it=>pdfh(it,'dd&&Html')).join('');\n        return tds\n    },\n    链接:function(html){\n        //log('进了链接获取函数');\n       // log(MY_URL);\n        //log(html);\n        let pages=pdfh(html,'#txt&&Text');\n        let total=pages.match(/\\(第(\\d+)\\/(\\d+)页\\)/)[2];\n        //let host = MY_URL.match(/(.*)\\/\\/(.*?)\\//)[0];\n        //log('累计:'+total);\n        if(parseInt(total)>1){\n        let urls=[];\n        for(let i=2;i<=parseInt(total);i++){\n            urls.push(MY_URL.replace(/.html/,'_'+i+'.html'));\n        }\n        //log(urls);\n        return urls\n        }\n    }\n};\nvar lazy=小说(定位);\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/more/78.png"},{"last_chapter_rule":"","pageList":[],"title":"肥牛D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##https://m.feiniukan.com/channel/2-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/-(.*?).html/)[1];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.stui-header__menu',\n    子分类: 'ul&&li:gt(0):lt(8):not(:matches(首页|明星|资讯|敏感|专题|留言))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n},{\n    一级分类: 'body&&.stui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n},{\n    一级分类: 'body&&.nav',\n    子分类: 'ul&&li:not(:matches(^$))',\n}]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".stui-vodlist__media&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\n一级(parStr,true);","search_url":"https://m.feiniukan.com/search/**-------------.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p.data,1&&Text;p.data,3&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&data-original',//图片\n url:'.lazyload&&data-original',//可以是影片链接，或者图片也行\n desc:'.desc&&Text',//一般主演，地区，影片评分等描述\n tabs:'body&&h3:not(:matches(猜你喜欢|剧情简介|日韩剧周榜单|日韩剧月榜单|国产剧月榜单|国产剧周榜单|榜单))',//列表\n lists:'.stui-content__playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/more/265.png"},{"last_chapter_rule":"","pageList":[],"title":"VIP影院.dr","author":"道长&壹隅","version":1,"type":"video","url":"hiker://empty##https://vipyingyuan.com/index.php/vod/type/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(\\d+)\\.html/)[1];\n//true_url = 获取正确链接();\nif(!/page/.test(true_url)){\n    true_url = true_url.replace(/\\.html/,'/page/'+page+'.html')\n}\nelse{\ntrue_url = true_url.replace('/page\\/(\\d+)\\.html/','page/'+page+'.html')\n}\n\nlog(true_url);\nlet cates=打造动态分类([{\n        一级分类: 'ul.stui-header__menu',\n        子分类: 'body&&li:not(:matches(首页|资讯|专题))',\n分类链接: {\n            二次处理(url) {\n                return url.replace(/type/, 'show')\n            }\n        }\n    },{\n        一级分类: 'body&&.stui-screen&&ul',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".stui-vodlist&&li;a&&title;a&&data-original;a&&Text;a&&href;p.text&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://vipyingyuan.com/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1&&Text;p.data,7&&Text;p.data,1&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'p.data,0&&Text;p.data,5&&Text;p.data,6&&Text',\n content:'p.detail&&Text.js:input.replace(\"简介：\",\"\").replace(\"详情\",\"\")',\n tabs:'.nav-tabs&&li',\n lists:'body&&.stui-content__playlist,#id&&li',\n tab_id:'',\n};\nvar lazy=$('').lazyRule((解析)=>{\n    eval(pdfh(request(input,{}),'body&&.embed-responsive&&script&&Html'));\n    var fr=player_aaaa.from;\n    var url=player_aaaa.url.replace(/\\\\\\//g,'/');\n    log(url);\n    if(/\\.m3u8/.test(url)){\n        return 解析.是否视频(url)\n    }else if(解析.是否支持魔断(url,fr)){\n        return 解析.纯魔断(url)\n    }else{\n        return 解析.纯通免(input)\n    }\n},解析);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"http://www.vipyingyuan.com/template/jianbai/statics/img/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"判断论坛登录","author":"道长","version":2,"type":"tool","url":"hiker://empty##https://haikuoshijie.cn/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"工具","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet ck_id='cookie.hikerbbs';\nlet cookie=获取ck(ck_id);\nlog('论坛cookie:'+cookie);\nputMyVar('cookie',cookie);\nvar html=获取源码(MY_URL);\n//log('源码:'+html);\nif(/退出登录/.test(html)){\nsetResult([{\ntitle:'已成功登录论坛，点此访问',\ncol_type:'text_1',\nurl:MY_URL\n}]);\n}else{\n  道长验证码(null,MY_URL,'',ck_id);\n}","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/messy/18.svg"},{"last_chapter_rule":"","pageList":[],"title":"嗯哩D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##https://enlienli.com/index.php/vod/show/id/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".module-items&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href.js:input +'#immersiveTheme#'\";\nvar page = MY_URL.match(/(.*)\\/(.*?).html/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n  一级分类: 'body&&.library-list',\n        子分类: 'body&&a:not(:matches(直播))',\n}]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true); ","search_url":"https://enlienli.com/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\r\nrequire(config.模板);\r\nlet parse={\n    title:'.video-info-items,1&&Text;.video-info-aux&&Text',\n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src',\n    desc: '.video-info-item,4&&Text',\n    tabs:'.module-tab-content,0&&.tab-item',\n    lists:'body&&.sort-item,#id&&a',\n    tab_id:'',\r\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js'); ","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/134.png"},{"last_chapter_rule":"","pageList":[],"title":"悟空D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##http://www.cqybjs.com/list/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/--------(.*?)---.html/)[1];\ntrue_url = 获取正确链接();\n//log(true_url);\nlet cates=打造动态分类([{\n    一级分类: '.stui-header__menu',\n    子分类: 'ul&&li:gt(0):lt(8):not(:matches(首页|明星|资讯|敏感|专题|留言|电视直播|APP下载))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html').replace(/\\/news\\/(.*?)\\.html/,'/list/$1--------1---.html')\n            }\n        }\n},{\n    一级分类: 'body&&.stui-screen__list',\n子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    },{\n    一级分类: '.nav',\n子分类: 'ul&&li:has(a[href]):not(:matches(^$))', \n}]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p.data,1&&Text;p.data,3&&Text;p.data,2&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&data-original',//图片\n url:'.lazyload&&data-original',//可以是影片链接，或者图片也行\n desc:'.detail-sketch&&Text',//一般主演，地区，影片评分等描述\n tabs:'body&&h3:not(:matches(猜你喜欢|剧情介绍|影片评论|推荐专题|&nbsp;热播榜|剧情 热播榜|热播榜|热门|更新|最新))',//列表\n lists:'.stui-content__playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/162.png"},{"last_chapter_rule":"","pageList":[],"title":"热舞.dm","author":"道长","version":4,"type":"video","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"向上滑动即可播放","class_url":"资源加载可能比较慢","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小姐姐","year_url":"","find_rule":"js:\n\n/** 无需下载APP，点返回即可。*/\nrequire(config.模板);\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"https://tvv.tw/xjj/index.html\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true,\n        js:注入()\n    }\n}])","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/08/72.png"},{"last_chapter_rule":"","pageList":[],"title":"金马.dm","author":"道长","version":0,"type":"video","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"向上滑动即可播放","class_url":"资源加载可能比较慢","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小姐姐","year_url":"","find_rule":"js:\n\n/** 无需下载APP，点返回即可。*/\nrequire(config.模板);\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"http://dsp009.wojiazhe.com/\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true,\n        //js:注入('.icon_play')\n    }\n}])","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/08/72.png"},{"last_chapter_rule":"","pageList":[],"title":"轻松时刻.dm","author":"蓝莓果酱UX&&道长","version":4,"type":"video","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"向上滑动即可播放","class_url":"资源加载可能比较慢","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小姐姐","year_url":"","find_rule":"js:\n\n/** 无需下载APP，点返回即可。*/\nrequire(config.模板);\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"https://lanmeiguojiang.com/xiaojiejie/\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true,\n        js:注入()\n    }\n}])","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/08/72.png"},{"last_chapter_rule":"","pageList":[],"title":"字幕库.dm","author":"道长","version":2,"type":"video","url":"https://zimuku.org/newsubs?t=mv&p=fypage","col_type":"movie_3_marquee","class_name":"全部&电影&美剧","class_url":"&mv&tv","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"资源","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\"table&&tbody&&tr;a,1&&title;img&&data-original;td.last&&Text;a&&href\";\n一级(parStr,true);","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1&&Text',\n img:'.tooltips,-1&&src',\n//url:'.b-detailcover&&img&&src',\ndesc:'h2&&Text',\n content:'.text-warning&&Text',\n tabs:'body&&h1',\n lists:'tbody,-1&&td.first',\n tab_id:'',\n reChange:function(u){\n     fba.log(\"改变链接，只取&前面内容\");\n     if(/\\.mp4/.test(u)){\n            //u=u.split(\"&\")[0];\n            u=u.replace(\"&type=mp4\",\"\")\n        }else if(/type=m3u8/.test(u)){\n            u = u.split('?')[0]\n        }\n     return u\n }\n};\nvar lazy=$('').lazyRule(()=>{\n    try{\n    let c=fetch(input);\n    let t=pd(c,\"#down1&&href\");\n    return t\n    \n    }catch(e){\n        return input\n    }\n});\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/08/72.png"},{"last_chapter_rule":"","pageList":[],"title":"爱米推漫画.dr","author":"道长","version":3,"type":"cartoon","url":"hiker://empty##https://m.imitui.com/list/xuanhuan/?page=fypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"漫画","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"#comic-items&&li;a,1&&Text;img&&src;.info&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/\\\\?page=(\\d+)/)[1];\n//log('当前页码:'+page)\nif (!/page=/.test(true_url)) {\n    true_url = true_url + '?page='+page\n} \n//true_url = 获取正确链接();\n//log(true_url)\nlet cates=打造动态分类([{\n        一级分类: 'body&&.filter-item',\n        子分类: 'ul&&li:not(:matches(^$))',\n},{一级分类: '.sorter',\n        子分类: 'ul&&li:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\"#update_list&&.itemBox;a,1&&Text;img&&src;p.txtItme,1&&Text;a,1&&href;.itemTxt&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://m.imitui.com/search/?keywords=**&page=fypage","group":"#️⃣道长dr","detail_col_type":"pic_1_full","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'#comicName&&Text;p.txtItme&&Text;p.txtItme,1&&Text',\n img:'#Cover&&img&&src',\n url:'p.btnItem&&a,1&&href',\n desc:'p.txtItme,2&&Text;p.txtItme,3&&Text',\n content:'p#full-des&&Text.js:input.replace(\"介绍:漫画简介：\",\"\")',\n tabs:'head&&title',\n lists:'#chapter-list-1&&li:not(:matches(🔒))',\n tab_id:'',\n 线路处理:function(u){\n     return \"道长在线\"\n }\n};\nvar 定位 = {\n    //编码:'gb18030',\n    最大页数:function (html){return pdfh(html, \".image-content&&p&&Text\").match(/\\/(\\d+)/)[1]},\n    列表:'.image-content&&img',\n    //图片:'img&&src',\n    链接替换:function (input,p){return input.replace('.html','-'+p+'.html')}\n};\nvar lazy=图片(定位);\nvar 二级处理={\n    选集名称:function(u){\n        //log(u);\n        try{\n        return u.match(/(\\d+)/)[0];\n        }catch(e){\n            return u\n        }\n    }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='漫画';\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/more/70.png"},{"last_chapter_rule":"","pageList":[],"title":"荔枝D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##http://www.zjys.vip/vodshow/1--------fypage---/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".module-items&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href.js:input +'#immersiveTheme#'\";\nvar page = MY_URL.match(/(.*)-(.*?)---/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n  一级分类: 'body&&.library-list',\n        子分类: 'body&&a:not(:matches(直播))',\n}]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-items,2&&Text\";\n一级(parStr,true);","search_url":"http://www.zjys.vip/vodsearch/page/fypage/wd/**/","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\r\nrequire(config.模板);\r\nlet parse={\n    title:'.video-info-items,1&&Text;.video-info-aux&&Text',\n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src',\n    desc: '.sqjj_a&&Text',\n    tabs:'.module-tab-content,0&&.tab-item',\n    lists:'body&&.sort-item,#id&&a',\n    tab_id:'',\n    reChange:function(u){\n     if(/duoduozy/.test(u)){\n         let html = request(\"https://player.duoduozy.com/ddplay/?url=\" + u.split('&')[0], {headers:{\"User-Agent\":\"Mozilla/5.0\",'Referer':'https://www.tgys.tv/'}});\r\n        return html.match(/urls = \"(.*?)\"/)[1]+';{User-Agent@Mozilla/5.0}';\n     }else{\n         return u.split('&')[0]\n     }\n    }\r\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/152.png"},{"last_chapter_rule":"","pageList":[],"title":"鬼片之家.dr","author":"道长&壹隅","version":1,"type":"video","url":"hiker://empty##https://www.guipian456.com/search.php?page=fypage&searchtype=5","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".video-list1&&.col-md-4;a&&title;body&&Html;.title&&span&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page=(\\d+)/)[1];\n//true_url = 获取正确链接();\nif(!/page/.test(true_url)){\n    true_url = true_url.replace(/\\?/,'?page='+page+'&')\n}\nelse{\ntrue_url = true_url.replace(/page=(\\d+)/,'page='+page)\n}\nlog(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.item&&.screenlist:not(#retr1)',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n},{ \n        一级分类: '.nav-tabs',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\nvar 一级处理={\n    图片:function(input){\n       u=pdfh(input,'.cover&&style');\n       u=u.split(')')[0].split('(')[1];\n       u='https://www.guipian456.com'+u+'@Referer=';\n       //log(u);\n       return u\n    }\n}\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".video-list1&&.col-md-12;a&&title;body&&Html;.text-overflow&&span&&Text;a&&href;.subtitle&&Text\"\nvar 一级处理={\n    图片:function(u){\n       u=pdfh(u,'.cover&&style');\n       u=u.split(')')[0].split('(')[1];\n       u='https://www.guipian456.com'+u+'@Referer=';\n       //log(u);\n       return u\n    }\n}\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.guipian456.com/search.php?page=fypage&searchword=**&searchtype=","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: 'h4&&Text;span.branch&&Text.js:\"评分:\"+input;p.m0&&Text.js:input.replace(\"剧情：\",\"\")',\n    img: 'body&&Html',\n    url: '.media-left&&href',\n    desc: 'p.actor&&Text;.min-container&&p,1&&Text;.min-container&&p,2&&Text',\n    content: '.content-des&&Text',\n    tabs: 'body&&.layout-head:has(h4):not(:matches(相关))',\n    lists: 'body&&.playlist,#id&&ul&&li',\n    tab_id: '',\n    线路处理:function(u){\n        return u.replace('无需安装，即可播放','')\n    }\n};\nvar 二级处理={\n    图片:function(u){\n       u=pdfh(u,'.media-cover&&style');\n       u=u.split(')')[0].split('(')[1];\n      log(u); u='https://www.guipian456.com'+u+'@Referer=';\n    // log(u);\n       return u\n    }\n};\nvar lazy=$('').lazyRule((解析)=>{\n    eval(pdfh(request(input,{}),'body&&.play&&script&&Html'));\n    //var fr=player_aaaa.from;\n    var url=now\n    log(url);\n    if(/\\.m3u8|\\.mp4/.test(url)){\n        return 解析.是否视频(url)\n    } else{\n        return 解析.纯通免(input)\n    }\n},解析);\n var 动态最新章节 = true;\n var 倒序 = false; \n二级(parse, lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.guipian456.com/templets/html/images/favicon.ico"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"江湖","path":"LZ","rule":"var vipUrl = input;\njianghu: function(jxurl, ref) {\n        try {\n            if (ref) {\n                var html = request(jxurl, {\n                    headers: {\n                        'Referer': ref\n                    }\n                });\n            } else {\n                var html = request(jxurl);\n            }\n            var url = html.match(/source src=\"(.*?)\"/)[1];\n            return url;\n        } catch (e) {\n            return '';\n        }\n    },\n    江湖: function(vipUrl) {\n        var parse = 'https://jianghu.jiexilaikan.com/jiexi/?url=';\n        var parse2 = 'https://api.jhdyw.vip/jh.php?url=';\n        var url = this.jianghu(parse + vipUrl);\n        return url == '' ? this.jianghu(parse2 + vipUrl) : url;\n    },"}],"title":"看世界.dr","author":"道长","version":1,"type":"video","url":"hiker://empty##http://www.1080kan.cc/vodshow/1--------fypage---/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"疑似失效","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".module-list&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/\\/(.*)-(.*?)---\\//)[2];\n\ntrue_url = 获取正确链接();\nlog(true_url);\nlet cates=打造动态分类([{ \n        一级分类: 'body&&.library-box:not(:has(h2))',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split(\"##\")[1];\n//log(MY_URL);\nrequire(config.模板);\nlog('cookie:'+getMyVar('cookie'));\nvar html=获取源码(MY_URL);\nif(/输入验证码/.test(html)){\n    showLoading(\"验证码识别中，请稍等\");\n    let vcode=获取验证码('http://www.1080kan.cc/index.php/verify/index.html?');;\n    log('获取验证码:'+vcode);\n    let ret=提交验证码('http://www.1080kan.cc/index.php/ajax/verify_check?type=search&verify='+vcode,false,false,{});\n    hideLoading();\n    if(/\"msg\"/.test(ret)&&/\"ok\"/.test(ret)){\n       // refreshPage(true);\n        html=获取源码(MY_URL);\n        //log(html);\n        if(/搜索时间间隔/.test(html)){\n            setResult([{\n                title:'搜索验证已自动跳过，等待3秒后下拉刷新',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n        }\n    }else{\n        //log('验证未通过:'+ret);\n        setResult([{\n                title:'验证未通过，请尝试重新搜索',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n    }\n}\n//log(html);\nlet parStr=\"body&&.module-list&&.module-search-item;.video-info-header&&h3&&Text;img.lazyload&&data-src;.video-serial&&Text;a,1&&href;.video-info-item,-1&&Text\";\nvar 一级处理={\n    //沉浸:false\n}\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##http://www.1080kan.cc/vodsearch/**----------fypage---/","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1&&Text;h2&&title;.video-info-items,3&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src',\n desc:'.video-info-items,0&&Text;.video-info-items,1&&Text;.video-info-items,2&&Text',\n content:'.video-info-items,-1&&Text.js:input.replace(\"剧情：\",\"\")',\n tabs:'body&&.module-tab-item',\n lists:'body&&.sort-item,#id&&a',\n tab_id:'',\n};\nvar lazy=$('').lazyRule((解析)=>{\n    eval(pdfh(request(input,{}),'body&&.player-wrapper&&script&&Html'));\n    var fr=player_aaaa.from;\n    var url=player_aaaa.url;\n    var urll=unescape(url.replace(/\\u/g, \"%u\"));\n   \n    if(fr=='fqfilm'){\n        var html=request('http://www.1080kan.cc/jiexi/mp4.php?url='+urll);\nvar realurl=pdfh(html,'script,-1&&Html').match(/url:\"(.*?)\"/)[1];\n        return 解析.是否视频(realurl)\n    }else if(fr=='fuckapp'){\n   var html=request('http://www.1080kan.cc/jiexi/rrmi.php?url='+urll);\n//log(html);\nvar realurl=pd(html,'#video&&source&&src');\n//log(realurl);\n        return 解析.是否视频(realurl)\n}else if(fr=='renrenmi'){\n   var html=request('http://www.1080kan.cc/jiexi/rrmi.php?url='+urll);\nvar realurl=pd(html,'#video&&source&&src');\n//log(realurl);\n        return 解析.是否视频(realurl)\n} else{\n        return 解析.纯通免(input)\n    }\n},解析);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var 验证码='http://www.1080kan.cc/index.php/verify/index.html?';\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[{\"col_type\":\"movie_3\",\"name\":\"江湖\",\"path\":\"LZ\",\"rule\":\"var vipUrl = input;\\njianghu: function(jxurl, ref) {\\n        try {\\n            if (ref) {\\n                var html = request(jxurl, {\\n                    headers: {\\n                        'Referer': ref\\n                    }\\n                });\\n            } else {\\n                var html = request(jxurl);\\n            }\\n            var url = html.match(/source src=\\\"(.*?)\\\"/)[1];\\n            return url;\\n        } catch (e) {\\n            return '';\\n        }\\n    },\\n    江湖: function(vipUrl) {\\n        var parse = 'https://jianghu.jiexilaikan.com/jiexi/?url=';\\n        var parse2 = 'https://api.jhdyw.vip/jh.php?url=';\\n        var url = this.jianghu(parse + vipUrl);\\n        return url == '' ? this.jianghu(parse2 + vipUrl) : url;\\n    },\"}]","icon":"https://jhyun-oss.52e.cc/upload/mxcms/20211015-1/e2b74e584450777c61562514aed2d56f.png"},{"last_chapter_rule":"","pageList":[],"title":"林古D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##http://ys.linguyy.xyz/index.php/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"疑似失效","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&.pack-ykpack;a&&title;.ec-jabj&&data-original;.pack-prb&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/(.*)\\/(.*?).html/)[2];\ntrue_url = 获取正确链接();\nvar html=获取源码(true_url,PC_UA);\n let cates=打造动态分类([{\n        一级分类: 'body&&.mg-tabs',\n        子分类: 'body&&a',\n        分类链接: {\n            二次处理(url) {\n                return url.replace(\"/type/\", \"/show/\")\n            }\n        }\n    },{\n        一级分类: 'body&&.filter_line',\n        子分类: 'body&&a',\n    }]);\n设置(cates,true);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.padd;a&&title;.ec-jabj&&data-original;.pack-prb&&Text;a&&href;.ecitem-desc&&Text\";\n一级(parStr,true);","search_url":"http://ys.linguyy.xyz/index.php/vod/search/page/fypage/wd/**.html;get;UTF-8;{User-Agent@Mozilla/5.0 (Windows NT 10.0)}","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.item-wrap&&p,1&&Text;.item-actor,1&&Text;.item-wrap&&p,4&&Text',\n img:'.g-playicon&&img&&src',//图片\n url:'.g-playicon&&img&&src',//可以是影片链接，或者图片也行\n desc:'.desc_txt&&span&&Text',//一般主演，地区，影片评分等描述\n tabs:'.play_source_tab&&a',//列表\n lists:'body&&.content_playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n};\nvar 动态最新章节=true;\nvar 指定ua=PC_UA;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js'); ","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/43.png"},{"last_chapter_rule":"","pageList":[],"title":"有动漫.dr","author":"道长","version":1,"type":"cartoon","url":"hiker://empty##https://www.udm123.com/type/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"漫画","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".index-area&&ul&&li;a&&title;img&&data-original;p.actor&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/-(\\d+)\\.html/)[1];\n//log('当前页码:'+page)\nif (/html/.test(true_url)) {\n    if (!/-(\\d+)\\.html/.test(true_url)){\n        true_url = true_url.replace(/\\.html/, '-' + page + '.html');\n   }\n} else if (/vod-search/.test(true_url)) {\n    true_url = true_url.replace(/vod-search/, 'vod-search-pg-' + page);\n}\n// log(true_url);\nhtml=获取源码(true_url);\nlet jsc=pdfh(html,'script,0&&src');\nlet cateHtml=获取源码(jsc,false,'https://www.udm123.com/');\n//log(jsc);\ncateHtml=cateHtml.split('lanmu()')[1].split('}')[0].match(/\\('(.*?)'\\)/)[1];\n//log(cateHtml);\nlet fcates=pdfa(cateHtml,'body&&li:not(:matches(观看|留言|动画))');\n//log(fcates);\nfcates=fcates.map((it)=>{\n    let title=pdfh(it,'a&&Text');\n    let u=pd(it,'a&&href');\n   // log(u);\n    return {\n        title:getMyVar('header.url')===u?'♥'+title:title,\n        col_type:'scroll_button',\n        url:$(u+'#noLoading#').lazyRule((u)=>{\n            putMyVar('header.url',u);\n            refreshPage(false); \n            return 'hiker://empty'\n        },u)\n    }\n});\nvar 关闭折叠=true;\nlet cates=打造动态分类([{\n        一级分类: '.nav-down-2&&ul',\n        子分类: 'ul&&li:not(:matches(首页|新闻|留言|目录))',\n    }]);\n设置(cates);\nvar 一级处理={\n    图片:function(u){\n        return u+'@Referer=https://www.udm123.com/'\n    }\n};\nif(parseInt(page) == 1){\n  cates=cates.concat(fcates);\n}\n//cates=cates.concat(fcates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".index-area&&ul&&li;a&&title;img&&data-original;p.actor&&Text;a&&href;li&&Text\";\nvar 一级处理={\n    图片:function(u){\n        return u+'@Referer=https://www.udm123.com/'\n    }\n};\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.udm123.com/index.php?m=vod-search-pg-fypage-wd-**.html","group":"#️⃣道长dr","detail_col_type":"pic_1_full","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1.name&&Text;.ct-c&&dt,1&&Text;.ct-c&&dt&&Text.js:\"最新章节:\"+input.replace(\"漫画状态：连载中\",\"\")',\n img:'.lazy&&data-original',\n url:'.lazy&&data-original',\n desc:'.ct-c&&dd&&Text;.ct-c&&dd,1&&Text;.ct-c&&dd,2&&Text',\n content:'.ct-c&&Text.js:input.replace(\"点击此处催更\",\"\")',\n tabs:'head&&title',\n lists:'#vlink_1&&ul&&li',\n tab_id:'',\n 线路处理:function(u){\n     return \"道长在线\"\n }\n};\nvar 二级处理={\n    重定向:function(url,html){\n    url=pd(html,'#vlink_1&&a,1&&href');    \n // log(url);          \n  html= 获取源码(url,PC_UA,url);\n  return html;\n},\n  图片:function(u){\n      log(u);\n        return   u+'@Referer=https://www.udm123.com/'\n    }\n};\nvar 定位 = {\n    //编码:'gb18030',\n    //最大页数:function (html){return pdfh(html, \".image-content&&p&&Text\").match(/\\/(\\d+)/)[1]},\n    //列表:'.image-content&&img',\n    列表:function(html){\n        //log(html);\n        try{\n        let code=html.match(/var result=\"(.*?)\"/)[1];\n        html=base64Decode(code);\n       //log(html);\n        return pdfa(html,'body&&li')\n        }catch(e){\n            try{\n        let code=html.match(/cp=\"(.*?)\"/)[1];\n        html=base64Decode(code).slice(4);\n      // log(html);\n       eval(eval(html));\n       //log(_cuRs);\n       //MY_URL=MY_URL.split('##')[1].split('#')[0];\n       let pics=_cuRs.map(it=>'<img _src=\"'+'https://res.img.pigsea2020.com/'+it+'\"/>');\n       //log(pics);\n       return pics\n       // return pdfa(html,'body&&li')\n        //return []\n        }catch(e){\n            try{\n                return pdfa(html,'center:has(img[_src])&&li')\n            }catch(e){\n                \n            }\n        }\n        }\n       \n        //return []\n    },\n    图片:'img&&_src',\n    来源:'https://www.udm123.com/',\n    //链接替换:function (input,p){return input.replace('.html','-'+p+'.html')}\n};\nvar lazy=图片(定位);\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='漫画';\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.udm123.com/favicon.ico"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"哲东影院.dr","author":"道长","version":2,"type":"video","url":"hiker://empty##https://www.zhedongdai.com/vodshow/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".vodlist&&li;a&&title;a&&style;a&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/-(\\d+)---\\.html/)[1];\nvar spage=parseInt(page)-1;\ntrue_url = 获取正确链接().replace(/-(\\d+)/,spage);\n//log(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.top_nav',\n        子分类: 'ul&&li:not(:matches(首页|影视资讯|热播排行榜))',     \n         分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+).html/, 'vodshow/$1-----------.html')\n            }\n        }\n    },{\n        一级分类: 'body&&.wrapper_fl',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n/*\nvar 一级处理={\n    图片:function(u){\n       u=pdfh(html,'a&&style')\n        return input.split(\"分\").slice(-1)[0]\n    }\n};\n*/\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar page = MY_URL.match(/-(\\d+)---\\.html/)[1];\nvar spage=parseInt(page)-1;\nMY_URL=MY_URL.replace(/-(\\d+)--/,'-'+spage+'--');\nvar html=获取源码(MY_URL);\n//log(html);\nparStr=\".vodlist&&.searchlist_item;a&&title;a&&style;.pic_text&&Text;a&&href;p.hidden_xs&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.zhedongdai.com/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1&&Text;.content_detail&&li&&Text;li.data&&Text',\n img:'.lazyload&&style',\n url:'.lazyload&&style',\n desc:'li.data,1&&Text;li.data,2&&Text;li.data,3&&Text',\n content:'.full_text&&Text.js:input.replace(\"收起全部\",\"\")',\n tabs:'#bofy&&.title_nav&&li',\n lists:'#bofy&&.content_playlist,#id&&li:not(:matches(极速播放))',\n tab_id:'',\n线路处理:function(u){\n     return u.split(\" \").slice(-1)[0]\n }\n};\n\nvar lazy=$('').lazyRule((解析)=>{\n    eval(pdfh(request(input,{}),'.embed-responsive&&script&&Html'));\n    url=player_url\n    log(url);\n    if(/\\.m3u8|\\.mp4/.test(url)){\n        return 解析.是否视频(url)\n    }else{\n        return 解析.纯通免(input)\n    }\n},解析);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.zhedongdai.com/template/ikan/img/favicon.png"},{"last_chapter_rule":"","pageList":[],"title":"哔咪动漫.dr","author":"道长","version":2,"type":"video","url":"hiker://empty##https://www.bimiacg4.net/vodshow/riman--------fypage---/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"动漫","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".drama-module&&.item;a&&title;img&&data-original;.fl&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/-(\\d+)---\\//)[1];\ntrue_url = 获取正确链接();\n//log(true_url);\nvar html=获取源码(true_url,PC_UA);\nlet cates=打造动态分类([{\n        一级分类: '.wrapper&&ul',\n        子分类: 'body&&li:not(:matches(首页|主站|公告|资讯|P站美图))',\n    },{\n        一级分类: 'body&&.selcet_list&&li',\n        子分类: 'body&&a:not(:matches(^$))',\n   },{\n  一级分类: '.v_th',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL,PC_UA);\nparStr=\".drama-module&&.item;a&&title;img&&src;.fl&&Text;a&&href;a&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.bimiacg4.net/vod/search/wd/**/page/fypage/","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1&&Text;.p_txt&&Text;.detail_top&&li,0&&Text',\n img:'.lazy&&src',\n url:'.lazy&&src',\n desc:'.detail_top&&li,2&&Text;.detail_top&&li,,3&&Text;.detail_top&&li,4&&Text',\n content:'.li_intro&&Text.js:input.replace(\"简介：\",\"\")',\n tabs:'.play_source_tab&&a',\n lists:'body&&.player_list,#id&&li',\n tab_id:'',\n};\n/*\nvar lazy=X5($.toString((PC_UA)=>{\n    eval(fy_bridge_app.getInternalJs());\n    try{\n    var urls = _getUrls();\n    //fy_bridge_app.log(JSON.stringify(urls));\n    let text=document.querySelector(\"body\").innerText;\n    //fba.log(text);\n    for(let i in urls){\n        if(urls[i].match(/(.*)\\.zip$|danmu\\/pic\\.php\\?url=|\\.m3u8|\\.mp4/)){\n            //return urls[i]+';{User-Agent@'+PC_UA+'}#isVideo=true#' \n            return urls[i]+'#isVideo=true#'\n        }\n    }\n    //return location.href\n    }catch(e){\n        fy_bridge_app.log('发生错误'+e.message);\n    }\n    try {\n   document.querySelector(\"a:contains(继续观看)\").click()\n    } catch (e) {}\n},PC_UA));\n*/\nvar lazy=`@lazyRule=.play-player&&script,1&&Html.js:eval(input.replace(/player_.*?={/,'player_data={'));var jiexi = 'http://bimiacg4.net/static/danmu/';var url = player_data.url;if(player_data.from=='qy'|player_data.from=='dplayer'){jiexi += 'qy.php?url='}else if(player_data.from=='ksyun'){jiexi += 'ksyun.php?url='}else if(player_data.from=='aliplay'){jiexi += 'kzyun.php?url='}else if(player_data.from=='pic'){jiexi += 'pic.php?url='}else{jiexi += 'play.php?url='};if(player_data.from=='bjm3u8'){url}else if(url.indexOf('sf1-')!=-1){url+'#isVideo=true#'}else{request(jiexi+url).match(/var url = '(.*?)'/)[1].replace('./','http://bimiacg4.net/static/danmu/')+'#isVideo=true#'}`;\nvar 指定ua=PC_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.bimiacg4.net/template/JOELEO/asset/img/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"益辉D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##https://www.yihuimy.com/vodshow/6--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?)---/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.stui-header__menu',\n    子分类: 'ul&&li:gt(0):lt(8):not(:matches(首页|明星|资讯|敏感|专题))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n},{\n    一级分类: 'body&&.stui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n},{\n    一级分类: 'body&&.nav',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".stui-vodlist__media&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href;.detail&&Text\";\n一级(parStr,true);","search_url":"https://www.yihuimy.com/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p.data,1&&Text;p.data,3&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&data-original',//图片\n url:'.lazyload&&data-original',//可以是影片链接，或者图片也行\n desc:'.desc&&Text',//一般主演，地区，影片评分等描述\n tabs:'.nav-tabs&&ul&&li',//线路\n lists:'.stui-content__playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/130.png"},{"last_chapter_rule":"","pageList":[],"title":"看剧兔D♔","author":"道长&蓝莓果酱UX","version":0,"type":"video","url":"hiker://empty##https://www.kanjutu.com/index.php/vod/type/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".vod_list&&li;.name&&Text;img&&lay-src;.state&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(\\d+)\\.html/)[1];\n//true_url = 获取正确链接();\nif(!/page/.test(true_url)){\n    true_url = true_url.replace(/\\.html/,'/page/'+page+'.html')\n}\nelse{\ntrue_url = true_url.replace('/page\\/(\\d+)\\.html/','page/'+page+'.html')\n}\n\nlog(true_url);\nlet cates=打造动态分类([{\n  一级分类: 'body&&.list',\n        子分类: 'body&&a:not(:matches(直播))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".vod_list&&li;.name&&Text;.pic&&img&&lay-src;.state&&Text;a&&href;.actor&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.kanjutu.com/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p,2&&Text;p,5&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.pic&&img&&lay-src',//图片\n url:'.pic&&img&&lay-src',//可以是影片链接，或者图片也行\n desc:'.text,1&&Text ',//一般主演，地区，影片评分等描述\n tabs:'.zu-box&&ul&&li',\n lists:'.ji-box&&ul,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/65.png"},{"last_chapter_rule":"","pageList":[],"title":"IIBB电影网.dr","author":"壹隅","version":1,"type":"video","url":"hiker://empty##http://www.iibb.me/list/dianying_____fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nvar true_url = getMyVar('header.url', MY_URL);\nrequire(config.模板);\n依赖检测();\nlet parStr = \"#content&&li;a&&title;a&&data-original;a&&Text;a&&href\";\nvar page = MY_URL.match(/_(\\d+)/)[1];\nlog('当前页码:' + page)\nif (!/\\.html/.test(true_url)) {\n        true_url = true_url.replace(/\\.me\\/(.*?)\\/$/, '.me/list/' + '$1' + '______' + page + '.html')\n    }else if(/(\\d+)\\.html$/.test(true_url)){\n     true_url = true_url.replace(/(\\d+)\\.html/, '_' + page + '.html')\n    }else{\n      true_url = true_url.replace(/\\.html$/, '_' + page + '.html')\n       }    \n//true_url = 获取正确链接();\n//log(true_url)\nlet cates = 打造动态分类([{\n    一级分类: '.navbar-nav',\n    子分类: 'ul&&li:has(:matches(电影|电视剧|动漫|综艺|剧情|独家|微电影))',\n}, {\n    一级分类: '.list_type&&ul',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}, {\n    一级分类: '.nav-tabs',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr, true, cates, false, html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\"#content&&.details-info-min;a&&title;a&&data-original;li.hidden-xs,1&&Text;a&&href;.col-md-12,-1&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##http://www.iibb.me/search/-fypage.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1&&Text;.info&&.col-md-6&&Text;.info&&.text,5&&Text',\n img:'.video-pic&&style',\n url:'.video-pic&&style',\n desc:'.info&&.text,2&&Text;.info&&.text,3&&Text;.info&&.text,4&&Text',\n content:'.info&&.col-md-12,-1&&Text.js:input.replace(\"详细介绍：\",\"\")',\n tabs:'#playTab&&li',\n lists:'body&&.playlist&&.fade,#id&&li',\n tab_id:'',\n};\nvar lazy=$('').lazyRule((解析)=>{\n    eval(pdfh(request(input,{}),'body&&.embed-responsive&&script&&Html'));\n    var fr=zanpiancms_player.name;\n    var realUrl=zanpiancms_player.url.replace(/\\\\\\//g,'/');\n    var apiurl=zanpiancms_player.apiurl.replace(/\\\\\\//g,'/');\n    log(realUrl);\n  \n    if(/\\.m3u8|\\.mp4/.test(realUrl)){\n        return 解析.是否视频(realUrl)\n    }else if(fr === 'ltnb'){\n        var playUrl=apiurl+realUrl;\n    //log(playUrl);\n    var 插件=解析.加载魔断();\n    url=插件.魔断().猫(playUrl,false,'A42EAC0C2B408472');\n    return 解析.是否视频(url)\n    }else{\n        return 解析.纯通免(input)\n    }\n},解析);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/37.png"},{"last_chapter_rule":"","pageList":[],"title":"逸凡影视.dr","author":"道长&壹隅","version":1,"type":"video","url":"hiker://empty##https://www.365kantv.com/frim/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".myui-vodlist&&li;a&&title;a&&data-original;a&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/-(\\d+)\\.html/)[1];\n//log('当前页码:'+page)\n if (/-(\\d+)/.test(true_url)) {\n    true_url = true_url.replace(/-(\\d+)/,'-'+page)\n}else if (/area|year|yuyan/.test(true_url)) {\n    true_url = true_url.replace(/\\?/,'?page='+page+'&')\n}  else if (/time|hit|commend/.test(true_url)) {\n    true_url = true_url.replace(/page=(\\d+)/,'page='+page)\n}else {\n   true_url=true_url.replace(/\\.html/,'-'+page+'.html');\n}\n//true_url = 获取正确链接();\nlog(true_url)\nlet cates=打造动态分类([{\n        一级分类: '.myui-header__menu',\n        子分类: 'body&&li:not(:matches(首页|最新|最火))',\n},{\n        一级分类: '.myui-panel_bd&&.nav-slide:not(:matches(状态))',\n        子分类: 'body&&a:not(:matches(类型|地区|年份|语言|排序))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nif(/搜索时间间隔/.test(html)){\n            setResult([{\n                title:'搜索验证已自动跳过，等待3秒后下拉刷新',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n        }\nparStr=\".myui-vodlist__media&&li;a&&title;a&&data-original;a&&Text;a&&href;p.hidden-xs&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.365kantv.com/search.php?page= fypage&searchword=**&searchtype=","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1&&Text;#rating&&Text;p.data&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'p.data,1&&Text;p.data,2&&Text',\n content:'span.data&&Text',\n tabs:'.nav-tabs&&li',\n lists:'.tab-content&&ul,#id&&li',\n tab_id:'',\n};\nvar lazy=$('').lazyRule((解析)=>{\n    var base64decode=base64Decode;\n   eval(pdfh(request(input,{}),'body&&.embed-responsive&&script&&Html'));\n      var fr=pn;\n    // log(fr);\n      //var code=now;\n  // log(code);\n    var realUrl = now;\n    log(realUrl);\n  var 插件=解析.加载魔断();\n    if(/\\.m3u8|\\.mp4/.test(realUrl)){\n        return 解析.是否视频(realUrl)\n    }else if(解析.是否正版(realUrl)){\n        return 解析.纯魔断(realUrl)\n    }else if(fr === 'renrenmi'){    \n        return 插件.RR(realUrl)\n    }else{\n        return 解析.纯通免(input)\n    }\n},解析);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.365kantv.com/templets/ajdhfg/images/img/favicon.ico"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"多多资源.dr","author":"道长","version":1,"type":"other","url":"hiker://empty##http://www.duoduozy.com/vodtype/1-fypage.html","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"疑似失效","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".stui-vodlist&&li:not(.active);a&&title;;li&&Html;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/-(\\d+)\\.html/)[1];\n//log(page);\ntrue_url = 获取正确链接();\n//log(true_url);\nvar 关闭折叠=true;\nlet cates=打造动态分类([{\n        一级分类: 'body&&.stui-header__menu',\n        子分类: 'body&&li:not(:matches(留言|首页))'\n    }]);\n设置(cates);\nvar 一级处理={\n    描述:function(u){\n        return pdfh(u,'.text-red&&Text')+'  '+pdfh(u,'font[color=#FF0000]&&Text')\n    }\n};\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".stui-pannel&&li;a&&title;;em&&Text;a&&href;.time&&Text\";\n一级(parStr,true);","search_url":"http://www.duoduozy.com/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.stui-content__detail&&.title&&Text;.data,0&&Text',\n img:'.img-responsive&&src',\n url:'.img-responsive&&src',\n desc:'.data,1&&Text;.data,2&&Text;.data,4&&Text',\n content:'.stui-content__desc&&Text',\n tabs:'#playlist&&.stui-pannel__head&&h3',\n lists:'.stui-content__playlist,#id&&li',\n tab_id:'',\n list_id:'a,1&&span&&Text',\n list_text:'body&&Html',\n 线路处理:function(u){\n     return u.replace('播放类型：','').trim()\n }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 二级处理={\n    选集名称:function(u){\n        let t=u.match(/copy_text\">(.*?)</)[1];\n        return t\n    }\n}\nvar lazy=$('').lazyRule(()=>{\n    let params={headers:{'Referer':'http://www.duoduozy.com/'}};\n    var url =request(\"https://player.duoduozy.com/ddplay/?url=\"+input, params).match(/urls = \"(.*?)\"/)[1];\n    return url\n});\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/100.svg"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"#f.File工具","path":"File.js","rule":"const File = java.io.File;\nconst {\n    Files,\n    Paths,\n    StandardCopyOption,\n    StandardOpenOption\n} = java.nio.file;\nconst javaString = java.lang.String;\nlet javaScope = new JavaImporter(java.io, java.lang, java.lang.reflect, java.util.Vector);\n\nfunction deleteFiles(fileName) {\n    let file = new File(fileName);\n    if (!file.exists()) {\n        //log(\"删除文件失败：\" + fileName + \"文件不存在\");\n        return false;\n    } else {\n        if (file.isFile()) {\n            return deleteFile(fileName);\n        } else {\n            return deleteDirectory(fileName);\n        }\n\n    }\n\n}\n/**\n * 删除单个文件\n * \n * @param fileName\n *            被删除文件的文件名\n * @return 单个文件删除成功返回true,否则返回false\n */\nfunction deleteFile(fileName) {\n    let file = new File(fileName);\n    if (file.isFile() && file.exists()) {\n        file.delete();\n        //log(\"删除单个文件\" + fileName + \"成功！\");\n        return true;\n    } else {\n        //log(\"删除单个文件\" + fileName + \"失败！\");\n        return false;\n    }\n\n}\n/**\n * 删除目录（文件夹）以及目录下的文件\n * \n * @param dir\n *            被删除目录的文件路径\n * @return 目录删除成功返回true,否则返回false\n */\nfunction deleteDirectory(dir) {\n    // 如果dir不以文件分隔符结尾，自动添加文件分隔符\n    if (!dir.endsWith(File.separator)) {\n        dir = dir + File.separator;\n    }\n    let dirFile = new File(dir);\n    // 如果dir对应的文件不存在，或者不是一个目录，则退出\n    if (!dirFile.exists() || !dirFile.isDirectory()) {\n        //log(\"删除目录失败\" + dir + \"目录不存在！\");\n        return false;\n    }\n    let flag = true;\n    // 删除文件夹下的所有文件(包括子目录)\n    let files = dirFile.listFiles();\n    for (let i = 0; i < files.length; i++) {\n        // 删除子文件\n        if (files[i].isFile()) {\n            flag = deleteFile(files[i].getAbsolutePath());\n            if (!flag) {\n                break;\n            }\n        } else { // 删除子目录\n            flag = deleteDirectory(files[i].getAbsolutePath());\n            if (!flag) {\n                break;\n            }\n        }\n    }\n    if (!flag) {\n        //log(\"删除目录失败\");\n        return false;\n    }\n    // 删除当前目录\n    if (dirFile.delete()) {\n        //log(\"删除目录\" + dir + \"成功！\");\n        return true;\n    } else {\n        //log(\"删除目录\" + dir + \"失败！\");\n        return false;\n    }\n}\n\n//copy单个文件\nfunction copyFile(source, target, isCover) {\n    let sourcePath = Paths.get(source);\n    let targetPath = Paths.get(target);\n    let isExist = Files.exists(targetPath);\n    if (Files.isDirectory(sourcePath) || (isExist && !isCover) || (isExist && Files.isDirectory(targetPath))) {\n        return false;\n    }\n    try {\n        if (!isExist) {\n            Files.createDirectories(targetPath.getParent());\n        }\n        if (isCover === true) {\n            Files.copy(sourcePath, targetPath, StandardCopyOption.REPLACE_EXISTING, StandardCopyOption.COPY_ATTRIBUTES);\n        } else {\n            Files.copy(sourcePath, targetPath, StandardCopyOption.COPY_ATTRIBUTES);\n        }\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction getFileTime(path) {\n    let file = new File(path);\n    let lastModified = file.lastModified();\n    let date = new Date(lastModified);\n    return date.getTime();\n}\n\nfunction getName(path) {\n    return new File(path).getName() + \"\";\n}\n\nfunction getFilePath(path, type, expand) {\n    type = type || \"file\";\n    if (![\"file\", \"dir\"].includes(type)) throw new Error(\"类型错误\");\n    let fileType = type === \"file\" ? \"isFile\" : \"isDirectory\";\n    let file = new File(path);\n    let array = file.listFiles() || [];\n    let pathList = [];\n    for (let i = 0; i < array.length; i++) {\n        if (array[i][fileType]()) {\n            pathList.push({\n                name: array[i].getName() + \"\",\n                path: array[i].getPath() + \"\",\n                lastModified: Number(array[i].lastModified()),\n\n            });\n        }\n    }\n    if (expand) {\n        pathList = pathList.filter(it => it.name.endsWith(expand));\n    }\n    return pathList;\n}\n\nfunction renameFile(fromPath, name) {\n    let fromFile = new File(fromPath);\n    let toFile = new File(fromFile.getParent() + \"/\" + name);\n    try {\n        if (!fromFile.exists()) {\n            return false;\n        }\n        if (toFile.exists()) {\n            if (!deleteFlies(toPath)) {\n                return false;\n            }\n        }\n        Files.move(fromFile.toPath(), toFile.toPath(), StandardCopyOption.REPLACE_EXISTING);\n        return true;\n    } catch (e) {\n        log(e.toString());\n        return false;\n    }\n}\n\nfunction moveFiles(fromPath, toPath) {\n    let fromFile = new File(fromPath);\n    let toFile = new File(toPath);\n    try {\n        if (!fromFile.exists()) {\n            return false;\n        }\n        if (toFile.exists()) {\n            if (!deleteFlies(toPath)) {\n                return false;\n            }\n        }\n        Files.move(fromFile.toPath(), toFile.toPath(), StandardCopyOption.REPLACE_EXISTING);\n        return true;\n    } catch (e) {\n        log(e.toString());\n        return false;\n    }\n}\n\nfunction fileWrite(path, content) {\n    writeFile(\"file://\" + path, content)\n}\n\nfunction fileWriteAppend(path, content) {\n    let file = new File(path);\n    let paths = file.toPath();\n    if (file.exists()) {\n        Files.write(paths, new javaString(content).getBytes(), StandardOpenOption.APPEND);\n    } else {\n        writeFile(\"file://\" + path, content);\n    }\n}\n\nfunction getTotalSizeOfFilesInDir(file) {\n    if (file.isFile()) {\n        return file.length();\n    }\n    let children = file.listFiles();\n    let total = 0;\n    if (children != null) {\n        for (let child of children) {\n            total += getTotalSizeOfFilesInDir(child);\n        }\n    }\n    return total;\n}\n\nfunction getFileSize(filePath) {\n    //Byte\n    let size = getTotalSizeOfFilesInDir(new File(filePath));\n    if (size < 0) {\n        return null;\n    }\n    let unitForm = [\"Byte\", \"KB\", \"MB\", \"GB\", \"TB\"];\n    for (let i = 0, len = unitForm.length; i < len; i++) {\n        if (size > 1024) {\n            size /= 1024;\n            continue;\n        } else {\n            return size.toFixed(2).replace(/(\\.00)$/, \"\") + unitForm[i];\n        }\n    }\n    return \"ERROR:数值过大\";\n}\n//完整合并\n/*\nfunction fileCombine(filesInput, fileOut, extension, intercept) {\n    with(javaScope) {\n        const TMP_BUFFER_SIZE = 0x30000;\n        const BUFFER_SIZE = 0x300000;\n        //合并临时文件\n        let inputFile = new File(filesInput);\n        let tmpFile = new File(fileOut + \".tmp\");\n        let tos = new BufferedOutputStream(new FileOutputStream(tmpFile));\n        let inputFiles = inputFile.listFiles();\n        let tbys = Array.newInstance(Byte.TYPE, TMP_BUFFER_SIZE);\n        for (let file of inputFiles) {\n            if (file.getName().endsWith(extension)) {\n                let is = new FileInputStream(file);\n                let len = 0;\n                while ((len = is.read(tbys)) != -1) {\n                    tos.write(tbys, 0, len);\n                }\n                is.close();\n            }\n        }\n        tos.close();\n        //规则替换规则;\n        let outFile = new File(fileOut);\n        if (typeof intercept === \"function\") {\n            let tis = new FileInputStream(tmpFile);\n            let os = new BufferedOutputStream(new FileOutputStream(outFile));\n            let len = 0;\n            let bys = Array.newInstance(Byte.TYPE, BUFFER_SIZE);\n            while ((len = tis.read(bys)) != -1) {\n                let nbys = intercept(new String(bys,0,len));\n                os.write(nbys, 0, nbys.length);\n            }\n            tmpFile.delete();\n            tis.close();\n            os.close();\n        } else {\n            if (outFile.exists()) {\n                outFile.delete();\n            }\n            tmpFile.renameTo(outFile);\n        }\n    }\n}*/\n//残\nfunction fileRule(filesInput, fileOut, intercept) {\n    with(javaScope) {\n        const BUFFER_SIZE = 0x300000;\n        let tmpFile = new File(filesInput);\n        if (!(tmpFile.exists() && tmpFile.isFile())) {\n            return false;\n        }\n        let outFile = new File(fileOut);\n\n        let tis = new FileInputStream(tmpFile);\n        let os = new BufferedOutputStream(new FileOutputStream(outFile));\n        let len = 0;\n        let bys = Array.newInstance(Byte.TYPE, BUFFER_SIZE);\n        while ((len = tis.read(bys)) != -1) {\n            let nbys = intercept(new String(bys, 0, len));\n            os.write(nbys, 0, nbys.length);\n        }\n        tmpFile.delete();\n        tis.close();\n        os.close();\n        return true;\n    }\n}\n\nfunction readFile(path) {\n    try {\n        let paths = Paths.get(path);\n        if (!Files.exists(paths)) return \"\";\n        return String(new javaString(Files.readAllBytes(paths)));\n    } catch {\n        return \"\";\n    }\n}\n$.exports = {\n    getFileTime: (path) => getFileTime(path),\n    getFilePath: (path, type, expand) => getFilePath(path, type, expand),\n    deleteFiles: (path) => deleteFiles(path),\n    renameFile: (path, name) => renameFile(path, name),\n    moveFiles: (fromPath, toPath) => moveFiles(fromPath, toPath),\n    fileWrite: (path, content) => fileWrite(path, content),\n    fileWriteAppend: (path, content) => fileWriteAppend(path, content),\n    getName: (path) => getName(path),\n    getFileSize: (filePath) => getFileSize(filePath),\n    fileRule: (filesInput, fileOut, intercept) => fileRule(filesInput, fileOut, intercept),\n    copyFile: (source, target, isCover) => copyFile(source, target, isCover),\n    readFile: (path) => readFile(path)\n}"},{"col_type":"text_2","name":"#v.下载列表-普通下载","path":"download.view","rule":"js:\nconst viewConfig = Object.assign({\n    chapterList: [],\n    info: {},\n    defaultView: \"0\"\n}, MY_PARAMS);\nviewConfig.info = Object.assign({\n    ruleName: \"\",\n    bookName: \"\",\n    bookTopPic: \"\",\n    parseCode: \"\",\n    type: \"comic\",\n}, viewConfig.info);\nlet {\n    chapterList,\n    info,\n    defaultView\n} = viewConfig;\nsetPageTitle(\"选择器|\" + info.bookName)\n\nconst File = $.require(\"hiker://page/File.js\");\nconst Tool = $.require(\"hiker://page/Tool.js\");\nconst Config = $.require(\"hiker://page/Config.json\");\n\nconst def_DoVi_Style = Config.def_DoVi_Style;\nconst MY_ID = info.ruleName + \"//\" + info.bookName;\n\n\nlet isStart = getMyVar(MY_ID + \":isStart\");\nlet viewMode = getMyVar(MY_ID + \":viewMode\", defaultView);\nlet isReverse = getMyVar(MY_ID + \":isReverse\", \"0\");\nlet tagFilter = getMyVar(MY_ID + \":tagFilter\", Config.def_DoVi_Type);\n\naddListener(\"onClose\", $.toString((MY_ID) => {\n    clearMyVar(MY_ID + \":loadingTeam\");\n    clearMyVar(MY_ID + \":viewMode\");\n    clearMyVar(MY_ID + \":completed\");\n    clearMyVar(MY_ID + \":batchTeam\");\n    clearMyVar(MY_ID + \":tagFilter\");\n    clearMyVar(MY_ID + \":pageNum\");\n}, MY_ID));\n\nlet layout = [];\n\nif (isStart === \"1\") {\n    putMyVar(MY_ID + \":viewMode\", defaultView);\n    viewMode = \"1\";\n}\n\nlet backupChapterList = chapterList;\nif (typeof chapterList === \"string\") {\n    chapterList = JSON.parse(request(\"file://\" + chapterList) || \"[]\");\n}\nlet chapterAll = chapterList;\nchapterList = chapterList.map((item, CID) => {\n    item.CID = CID;\n    return item;\n});\nlet pageNum = Number(getMyVar(MY_ID + \":pageNum\", \"1\"));\nlet chapterChunk = [chapterList].concat(Tool.chunk(chapterList, Config.viewPageSize));\nchapterList = chapterChunk[pageNum] || [];\n\nfunction setType() {\n    let set = (tag, put) => {\n        putMyVar(put, tag);\n        refreshPage(false);\n        return \"hiker://empty\"\n    };\n    layout.push({\n        title: 0 == pageNum ? \"““””\" + (\"全部(\" + chapterAll.length + \")\").fontcolor(\"#23AD6F\") : \"全部(\" + chapterAll.length + \")\",\n        url: $(\"#noLoading#\").lazyRule(set, 0, MY_ID + \":pageNum\"),\n        col_type: \"scroll_button\"\n    });\n    for (let i = 1; i < chapterChunk.length; i++) {\n        let tagText = (i - 1) * Config.viewPageSize + \"-\" + ((i - 1) * Config.viewPageSize + chapterChunk[i].length);\n        layout.push({\n            title: i == pageNum ? \"““””\" + tagText.fontcolor(\"#23AD6F\") : tagText,\n            url: $(\"#noLoading#\").lazyRule(set, i, MY_ID + \":pageNum\"),\n            col_type: \"scroll_button\"\n        });\n    }\n    layout.push({\n        col_type: \"blank_block\"\n    });\n    layout.push({\n        title: tagFilter === \"0\" ? \"““””\" + \"全部\".fontcolor(\"#23AD6F\") : \"全部\",\n        url: $(\"#noLoading#\").lazyRule(set, \"0\", MY_ID + \":tagFilter\"),\n        col_type: \"scroll_button\"\n    });\n    layout.push({\n        title: tagFilter === \"1\" ? \"““””\" + \"未下载\".fontcolor(\"#23AD6F\") : \"未下载\",\n        url: $(\"#noLoading#\").lazyRule(set, \"1\", MY_ID + \":tagFilter\"),\n        col_type: \"scroll_button\"\n    });\n    layout.push({\n        title: tagFilter === \"2\" ? \"““””\" + \"已下载\".fontcolor(\"#23AD6F\") : \"已下载\",\n        url: $(\"#noLoading#\").lazyRule(set, \"2\", MY_ID + \":tagFilter\"),\n        col_type: \"scroll_button\"\n    });\n}\nlet chapterTeam = [];\nlet record = [];\nif (info.type === \"comic\") {\n    let lazy = $(\"#noLoading#\").lazyRule(() => {\n        const File = $.require(\"hiker://page/File.js\");\n        let filelist = File.getFilePath(input);\n        let piclist = filelist.map((item, i) => \"file://\" + input + \"/\" + (i + 1) + \".jpg\");\n        return \"pics://\" + piclist.join(\"&&\");\n    });\n\n    function comFun(i, item) {\n        let rootPath = Config.comicPath + \"/\" + info.ruleName + \"/\" + info.bookName + \"/\" + i + \"$A$\" + item.title;\n        return {\n            title: \"““\" + item.title + \"””\",\n            url: rootPath + lazy,\n            extra: {\n                id: MY_ID + \"#\" + i,\n            },\n            col_type: def_DoVi_Style\n        }\n    }\n    File.getFilePath(Config[info.type + \"Path\"] + \"/\" + info.ruleName + \"/\" + info.bookName, \"dir\").forEach((file) => {\n        let att = Tool.split(file.name, \"$\", 2);\n        if (att.length === 3 && att[1] === (\"A\")) {\n            record.push(att[2]);\n        }\n    });\n} else {\n    function comFun(i, item) {\n        return {\n            title: \"““\" + item.title + \"””\",\n            url: \"hiker://page/NovelMainBody#autoPage##readTheme#\",\n            extra: {\n                id: MY_ID + \"#\" + i,\n                path: Config.novelPath + \"/\" + info.ruleName + \"/\" + info.bookName + \"/\" + i + \"$A$\" + item.title + \".txt\",\n                title: item.title\n            },\n            col_type: def_DoVi_Style\n        }\n    }\n    File.getFilePath(Config[info.type + \"Path\"] + \"/\" + info.ruleName + \"/\" + info.bookName, \"file\", \".txt\").forEach((file) => {\n        let att = Tool.split(file.name, \"$\", 2);\n        if (att.length === 3 && att[1] === (\"A\")) {\n            record.push(att[2].slice(0, att[2].lastIndexOf(\".\")));\n        }\n    });\n}\n\nfunction clickDownload(item, info, MY_ID, i) {\n    let loadingTeam = JSON.parse(getMyVar(MY_ID + \":loadingTeam\", \"[]\") || \"[]\");\n    let ElementIndex = loadingTeam.indexOf(i);\n    if (ElementIndex > -1) return \"toast://正在下载\";\n\n    loadingTeam.push(i);\n    putMyVar(MY_ID + \":loadingTeam\", JSON.stringify(loadingTeam));\n    updateItem({\n        title: \"‘‘\" + item.title + \"’’\",\n        extra: {\n            id: MY_ID + \"#\" + i\n        }\n    });\n    let result = \"toast://下载失败\";\n    try {\n        toast(\"开始下载:\" + item.title);\n        let download = $.require(\"hiker://page/Download.exe.js\");\n        result = download(item, info, MY_ID, i);\n        updateItem({\n            title: \"““\" + item.title + \"””\",\n            url: \"toast://已下载\",\n            extra: {\n                id: MY_ID + \"#\" + i\n            }\n        });\n    } catch (e) {\n        updateItem({\n            title: item.title,\n            extra: {\n                id: MY_ID + \"#\" + i\n            }\n        });\n        log(e.toString());\n    } finally {\n        loadingTeam.splice(ElementIndex, 1);\n        putMyVar(MY_ID + \":loadingTeam\", JSON.stringify(loadingTeam));\n    }\n    return result;\n}\n\nfunction singleView() {\n    layout.push({\n        title: \"反转列表\",\n        url: $(\"#noLoading#\").lazyRule((isReverse, MY_ID) => {\n            putMyVar(MY_ID + \":isReverse\", isReverse === \"0\" ? \"1\" : \"0\");\n            refreshPage(false);\n            return \"hiker://empty\";\n        }, isReverse, MY_ID),\n        pic_url: \"https://img.icons8.com/?id=33nvDqbHH7HW&size=48&format=gif&token=\",\n        col_type: \"icon_2\"\n    });\n    layout.push({\n        title: \"批量下载\",\n        url: $(\"#noLoading#\").lazyRule((MY_ID) => {\n            let loadingTeam = JSON.parse(getMyVar(MY_ID + \":loadingTeam\", \"[]\") || \"[]\");\n            if (loadingTeam.length > 0) return \"toast://还有任务没有完成\";\n            if (getAppVersion() < 2594) return \"toast://未开放\";\n            putMyVar(MY_ID + \":viewMode\", \"1\");\n            refreshPage(false);\n            return \"hiker://empty\";\n\n        }, MY_ID),\n        pic_url: \"https://img.icons8.com/?format=gif&id=0uafaMNzxj88&token=\",\n        col_type: \"icon_2\"\n    });\n    setType();\n    layout.push({\n        col_type: \"line_blank\"\n    });\n    let loadingTeam = JSON.parse(getMyVar(MY_ID + \":loadingTeam\", \"[]\") || \"[]\");\n    for (let i = 0, item = chapterList[0]; i < chapterList.length; item = chapterList[++i]) {\n        let is_download = record.includes(item.title);\n        if (is_download && tagFilter !== \"1\") {\n            chapterTeam.push(comFun(item.CID, item));\n        } else if (!is_download && tagFilter !== \"2\") {\n            chapterTeam.push({\n                title: loadingTeam.includes(item.CID) ? \"‘‘\" + item.title + \"’’\" : item.title,\n                url: $(\"#noLoading#\").lazyRule(clickDownload, item, info, MY_ID, item.CID),\n                extra: {\n                    id: MY_ID + \"#\" + item.CID\n                },\n                col_type: def_DoVi_Style\n            });\n        }\n    }\n}\n\nfunction clickChoose(title, MY_ID, i) {\n    let isStart = getMyVar(MY_ID + \":isStart\");\n    if (isStart === \"1\") return \"toast://正在下载...\";\n    let batchTeam = JSON.parse(getMyVar(MY_ID + \":batchTeam\", \"[]\") || \"[]\");\n    let ElementIndex = batchTeam.indexOf(i);\n    if (ElementIndex > -1) {\n        updateItem({\n            title: title,\n            extra: {\n                id: MY_ID + \"#\" + i\n            }\n        });\n        batchTeam.splice(ElementIndex, 1);\n    } else {\n        updateItem({\n            title: \"‘‘\" + title + \"’’\",\n            extra: {\n                id: MY_ID + \"#\" + i\n            }\n        });\n        batchTeam.push(i);\n    }\n    putMyVar(MY_ID + \":batchTeam\", JSON.stringify(batchTeam));\n    return \"hiker://empty\";\n}\n\nfunction batchView() {\n    layout.push({\n        title: \"单选下载\",\n        pic_url: \"https://img.icons8.com/?id=PIicvF6ebzMn&size=48&format=gif&token=\",\n        url: $(\"#noLoading#\").lazyRule((MY_ID) => {\n            if (getMyVar(MY_ID + \":isStart\") === \"1\") return \"toast://正在批量下载\";\n            putMyVar(MY_ID + \":viewMode\", \"0\");\n            clearMyVar(MY_ID + \":batchTeam\");\n            refreshPage(false);\n            return \"hiker://empty\";\n        }, MY_ID),\n        col_type: \"icon_small_4\"\n    });\n    let start = Config.viewPageSize * Math.max(pageNum - 1, 0);\n    let end = start + chapterList.length;\n    layout.push({\n        title: \"选择全部\",\n        pic_url: \"https://img.icons8.com/?format=gif&id=1HVcHLoNzrit&token=\",\n        url: $(\"#noLoading#\").lazyRule((start, end, MY_ID) => {\n            const Tool = $.require(\"hiker://page/Tool.js\");\n            let chooseTeam = Tool.range(start, end);\n            let batchTeam = JSON.parse(getMyVar(MY_ID + \":batchTeam\", \"[]\") || \"[]\");\n            batchTeam = Array.from(new Set(batchTeam.concat(chooseTeam)));\n            let completed = JSON.parse(getMyVar(MY_ID + \":completed\", \"[]\") || \"[]\");\n            batchTeam = batchTeam.filter((i) => !completed.includes(i));\n            putMyVar(MY_ID + \":batchTeam\", JSON.stringify(batchTeam));\n            refreshPage(false);\n            return \"hiker://empty\"\n        }, start, end, MY_ID),\n        col_type: \"icon_small_4\"\n    });\n    layout.push({\n        title: \"取消全部\",\n        pic_url: \"https://img.icons8.com/?format=gif&id=HzEjPpI3NL8D&token=\",\n        url: $(\"#noLoading#\").lazyRule((start, end, MY_ID) => {\n            const Tool = $.require(\"hiker://page/Tool.js\");\n            let chooseTeam = new Set(Tool.range(start, end));\n            let batchTeam = JSON.parse(getMyVar(MY_ID + \":batchTeam\", \"[]\") || \"[]\");\n            batchTeam = batchTeam.filter(x => !chooseTeam.has(x));\n            putMyVar(MY_ID + \":batchTeam\", JSON.stringify(batchTeam));\n            refreshPage(false);\n            return \"hiker://empty\"\n        }, start, end, MY_ID),\n        col_type: \"icon_small_4\"\n    });\n    layout.push({\n        title: \"确认选中\",\n        pic_url: \"https://img.icons8.com/?format=gif&id=tMrvtc6T9hVb&token=\",\n        url: $(\"#noLoading#\").lazyRule((MY_ID) => {\n            if (getMyVar(MY_ID + \":isStart\", \"-1\") !== \"-1\") {\n                return \"toast://正在下载...\";\n            }\n            let batchTeam = JSON.parse(getMyVar(MY_ID + \":batchTeam\", \"[]\") || \"[]\");\n            return batchTeam.length === 0 ? \"toast://你还什么都没有选\" : \"hiker://page/Batch.view#noRefresh##noHistory##noRecordHistory#\";\n        }, MY_ID),\n        extra: {\n            newWindow: true,\n            windowId: MY_ID + \"//批量下载\",\n            MY_ID: MY_ID,\n            chapterList: backupChapterList,\n            info: info\n        },\n        col_type: \"icon_small_4\"\n    });\n    setType();\n    layout.push({\n        col_type: \"line_blank\"\n    });\n    let batchTeam = JSON.parse(getMyVar(MY_ID + \":batchTeam\", \"[]\") || \"[]\");\n    let completed = [];\n    for (let i = 0, item = chapterList[0]; i < chapterList.length; item = chapterList[++i]) {\n        let is_download = record.includes(item.title);\n        if (is_download && tagFilter !== \"1\") {\n            completed.push(item.CID);\n            chapterTeam.push(comFun(item.CID, item));\n        } else if (!is_download && tagFilter !== \"2\") {\n            chapterTeam.push({\n                title: batchTeam.includes(item.CID) ? \"‘‘\" + item.title + \"’’\" : item.title,\n                url: $(\"#noLoading#\").lazyRule(clickChoose, item.title, MY_ID, item.CID),\n                extra: {\n                    id: MY_ID + \"#\" + item.CID\n                },\n                col_type: def_DoVi_Style\n            });\n        }\n    }\n    putMyVar(MY_ID + \":completed\", JSON.stringify(completed));\n}\nswitch (viewMode) {\n    case \"0\":\n        singleView();\n        break;\n    case \"1\":\n        batchView();\n        break;\n}\nif (isReverse === \"1\") {\n    chapterTeam.reverse();\n}\nlayout.push.apply(layout, chapterTeam);\nsetResult(layout);"},{"col_type":"movie_3","name":"#v.批量下载器","path":"Batch.view","rule":"js:\nlet {\n    chapterList,\n    info,\n    MY_ID\n} = MY_PARAMS;\nsetPageTitle(\"下载器|\"+info.bookName);\naddListener(\"onClose\", $.toString((MY_ID) => {\n    clearMyVar(MY_ID + \":isStart\");\n    clearMyVar(MY_ID + \":status\");\n    clearMyVar(MY_ID + \":batchTeam\");\n    refreshPage();\n}, MY_ID));\n\nlet isStart = getMyVar(MY_ID + \":isStart\", \"0\");\nlet status = getMyVar(MY_ID + \":status\", \"0\");\nlet layout = [];\n\nlet batchTeam = JSON.parse(getMyVar(MY_ID + \":batchTeam\", \"[]\") || \"[]\");\nif(typeof chapterList === \"string\"){\n    chapterList = JSON.parse(request(\"file://\"+chapterList)||\"[]\");\n}\nlet chapterTeam = batchTeam.map(v => {\n    let chapterItem = chapterList[v];\n    chapterItem.CID = v;\n    return chapterItem;\n});\nif (isStart === \"0\") {\n    layout.push({\n        title: \"开始下载[\" + chapterTeam.length + \"]\",\n        url: $(\"#noLoading#\").lazyRule((chapterTeam, info, MY_ID) => {\n            putMyVar(MY_ID + \":isStart\", \"1\");\n            refreshPage(false);\n            let download = $.require(\"hiker://page/BatchStatistics.js\");\n            return download(chapterTeam, info, MY_ID) || \"toast://下载错误\";\n        }, chapterTeam, info, MY_ID),\n        col_type: \"text_center_1\",\n        extra: {\n            id: MY_ID + \"||开始下载\"\n        }\n    });\n    layout.push({\n        title: \"任务列表：\",\n        col_type: \"rich_text\",\n    });\n    for (let item of chapterTeam) {\n        layout.push({\n            title: item.title,\n            url: \"hiker://empty\",\n            col_type: \"text_2\"\n        });\n    }\n\n} else {\n    layout.push({\n        title: \"下载进度:0/\"+chapterTeam.length,\n        desc: \"““””▇▇▇▇▇▇▇▇▇▇\".fontcolor(\"#e5e1e4\")+\" 0%\",\n        url: \"hiker://empty\",\n        col_type: \"text_center_1\",\n        extra: {\n            id: MY_ID + \"||下载进度\",\n            lineVisible: false\n        }\n    });\n    layout.push({\n        title: \"后台下载\",\n        url: \"func://background\",\n        col_type: \"text_2\"\n    });\n\n    layout.push({\n        title: [\"[取消下载]\", \"[正在停止...]\", \"[返回]\", \"[处理失败]\", \"[重新开始]\"][status],\n        url: $(\"#noLoading#\").lazyRule((MY_ID) => {\n            let status = getMyVar(MY_ID + \":status\", \"0\");\n            if (status === \"0\") {\n                putMyVar(MY_ID + \":status\", \"1\");\n                updateItem({\n                    title: \"[正在停止...]\",\n                    extra: {\n                        id: MY_ID + \"||下载控制\"\n                    }\n                });\n                return \"toast://正在取消下载任务\";\n            } else if (status === \"1\") {\n                return \"toast://正在暂停...\";\n            } else if (status === \"2\") {\n                back();\n                return \"toast://已退出下载器\";\n            } else if ([\"3\", \"4\"].includes(status)) {\n                clearMyVar(MY_ID + \":isStart\");\n                clearMyVar(MY_ID + \":status\");\n                clearMyVar(MY_ID + \":log\");\n                refreshPage();\n                return \"toast://重新点击下载\"\n            }\n        }, MY_ID),\n        col_type: \"text_2\",\n        extra: {\n            id: MY_ID + \"||下载控制\"\n        }\n    });\n    layout.push({\n        col_type: \"line_blank\"\n    });\n    layout.push({\n        title: \"<strong>下载日志</strong>\".big(),\n        col_type: \"rich_text\",\n        \n    });\n    layout.push({\n        col_type: \"line\",\n        extra: {\n            id: MY_ID + \"||日志\"\n        }\n    });\n    layout.push({\n        title:\"““””$>\"+\"开始下载......\".fontcolor(\"#00ff00\"),\n        url:\"hiker://empty\",\n        col_type: \"text_1\",\n        extra: {\n            id: MY_ID + \"#log#0\",\n            lineVisible:false\n        }\n    });\n}\n\nsetResult(layout);"},{"col_type":"movie_3","name":"#fg.批量下载统计","path":"BatchStatistics.js","rule":"const Tool = $.require(\"hiker://page/Tool.js\");\nconst Config = $.require(\"hiker://page/Config.json\");\n\nfunction task(taskParam) {\n    let result = $.require(\"hiker://page/Batch.exe.js\")(taskParam);\n    return result;\n}\n\n$.exports = function(chapterTeam, info, MY_ID) {\n    if (chapterTeam.length === 0) {\n        return \"toast://空的下载队列\";\n    }\n    var count = 0;\n    var taskCount = chapterTeam.length;\n    var successCID = [];\n    var failName = [];\n    var logCount = 1;\n    var taskTeam = chapterTeam.map(chapterItem => ({\n        func: task,\n        id: chapterItem.title,\n        param: {\n            chapterItem: chapterItem,\n            info: info,\n            MY_ID: MY_ID\n        }\n    }));\n    let logNum = Config.logNum;\n\n    function putLog(text) {\n        log(text);\n        if (logCount >= logNum) {\n            deleteItem(MY_ID + \"#log#\" + (logCount - 10));\n        }\n        addItemAfter(MY_ID + \"||日志\", {\n            url: \"hiker://empty\",\n            title: \"$>\" + text,\n            col_type: \"text_1\",\n            extra: {\n                lineVisible: false,\n                id: MY_ID + \"#log#\" + logCount\n            }\n        });\n        logCount++;\n    }\n\n    function listener(perch, id, error, CID) {\n        count++;\n        let isSuccess = false;\n        if (error !== null) {\n            failName.push(id);\n            putLog(\"[listener]下载失败：\" + id + \"<ERROR@ \" + error + \">\");\n        } else if (CID >= 0) {\n            successCID.push(CID);\n            let ratio = (count / taskCount).toFixed(4);\n            let stripCount = Math.ceil(ratio * 10);\n            isSuccess = true;\n            updateItem({\n                title: \"下载进度：\" + successCID.length + \"/\" + taskCount,\n                desc: \"““””\" + \"▇\".repeat(stripCount).fontcolor(\"#ffac2d\") + \"▇\".repeat(10 - stripCount).fontcolor(\"#e5e1e4\") + \" \" + (ratio * 100) + \"%\",\n                extra: {\n                    id: MY_ID + \"||下载进度\"\n                }\n            });\n            putLog(\"[listener]已完成下载：\" + id);\n        } else if (CID === -1) {\n            failName.push(id);\n            putLog(\"[listener]已停止：\" + id);\n        }\n        if (taskCount !== count) return;\n        if (successCID.length === taskCount) {\n            updateItem({\n                desc: \"““””\" + \"▇\".repeat(10).fontcolor(\"#00ff00\") + \" 100%\",\n                extra: {\n                    id: MY_ID + \"||下载进度\"\n                }\n            });\n        }\n        let batchTeam = JSON.parse(getMyVar(MY_ID + \":batchTeam\", \"[]\") || \"[]\");\n        let status = getMyVar(MY_ID + \":status\", \"0\");\n        let failTeam = batchTeam.filter(v => !successCID.includes(v));\n        putMyVar(MY_ID + \":batchTeam\", JSON.stringify(failTeam));\n        if (failTeam.length > 0 && status !== \"1\") {\n            putMyVar(MY_ID + \":status\", \"3\");\n            putLog(\"下载失败:[\" + failName.join(\"]，[\") + \"]。\");\n            updateItem({\n                title: \"[处理失败]\",\n                extra: {\n                    id: MY_ID + \"||下载控制\"\n                }\n            });\n        } else if (failTeam.length > 0 && status === \"1\") {\n            putMyVar(MY_ID + \":status\", \"4\");\n            putLog(\"[listener]#已停止所有任务，但已有进度不会消失#\");\n            updateItem({\n                title: \"[重新开始]\",\n                extra: {\n                    id: MY_ID + \"||下载控制\"\n                }\n            });\n        } else {\n            putMyVar(MY_ID + \":status\", \"2\");\n            putLog(\"下载任务[\" + info.bookName + \"]已全部成功完成\");\n            updateItem({\n                title: \"[返回]\",\n                extra: {\n                    id: MY_ID + \"||下载控制\"\n                }\n            });\n        }\n        toast(\"下载任务[\" + info.bookName + \"]已完成\");\n    }\n    let taskTeamChunk = [];\n    if (Config.threadNum > 0) {\n        taskTeamChunk = Tool.chunk(taskTeam, Config.threadNum);\n    } else {\n        taskTeamChunk = [taskTeam];\n    }\n    for (let taskList of taskTeamChunk) {\n        be(taskList, {\n            func: listener\n        });\n        let status = getMyVar(MY_ID + \":status\", \"0\");\n        if (status === \"1\") {\n            let batchTeam = JSON.parse(getMyVar(MY_ID + \":batchTeam\", \"[]\") || \"[]\");\n            let status = getMyVar(MY_ID + \":status\", \"0\");\n            let failTeam = batchTeam.filter(v => !successCID.includes(v));\n            putMyVar(MY_ID + \":batchTeam\", JSON.stringify(failTeam));\n            putMyVar(MY_ID + \":status\", \"4\");\n            putLog(\"[listener]#已停止所有任务，但已有进度不会消失#\");\n            updateItem({\n                title: \"[重新开始]\",\n                extra: {\n                    id: MY_ID + \"||下载控制\"\n                }\n            });\n            return \"hiker://empty\";\n        }\n\n    }\n\n    return \"hiker://empty\";\n};"},{"col_type":"movie_3","name":"#fg.批量主程序","path":"Batch.exe.js","rule":"const File = $.require(\"hiker://page/File.js\");\nconst Config = $.require(\"hiker://page/Config.json\");\nconst Tool = $.require(\"hiker://page/Tool.js\");\n\nfunction comic(taskParam) {\n    let {\n        chapterItem,\n        info,\n        MY_ID,\n    } = taskParam;\n    if (getMyVar(MY_ID + \":status\", \"\") === \"1\") {\n        return -1;\n    }\n    let mainPath = Config.comicPath + \"/\" + info.ruleName + \"/\" + info.bookName + \"/\";\n    let chapterPath = mainPath + chapterItem.CID + \"$B$\" + chapterItem.title + \"/\";\n    let picList;\n    try {\n        let getPicList = new Function(\"input\", \"url\", \"return \" + info.parseCode);\n        picList = getPicList(chapterItem.url, chapterItem.url);\n        if (typeof picList === \"string\") {\n            picList = picList.replace(\"pics://\", \"\").split(\"&&\");\n        }\n    } catch (e) {\n        e.message = \"<漫画图片解析错误：\" + e.message + \">\";\n        throw e;\n    }\n    const L = picList.length;\n    if(L===0){\n        throw new Error(\"<漫画图片解析错误：图片链接返回为空>\");\n    }\n    if (info.bookTopPic) {\n        try {\n            let bookTopPic = Tool.hikerPic(info.bookTopPic);\n            requireDownload(bookTopPic[0], mainPath + info.bookName + \".jpg\", bookTopPic[1]);\n        } catch (e) {\n            log(\"<封面下载错误：\" + e.message + \">\");\n        }\n    }\n    var schedule = new Map([\n        [L, () => log(chapterItem.title + \"已下载100%\")],\n        [~~(0.90 * L), () => log(chapterItem.title + \"已下载90%+\")],\n        [~~(0.75 * L), () => log(chapterItem.title + \"已下载75%+\")],\n        [~~(0.50 * L), () => log(chapterItem.title + \"已下载50%+\")],\n        [~~(0.25 * L), () => log(chapterItem.title + \"已下载25%+\")]\n    ]);\n    for (var i = 0; i < L; i++) {\n        let pic = Tool.hikerPic(picList[i]);\n        requireDownload(pic[0], chapterPath + (i + 1) + \".jpg\", pic[1]);\n        schedule.has(i + 1) && schedule.get(i + 1)();\n        if (getMyVar(MY_ID + \":status\", \"\") === \"1\") {\n            return -1;\n        }\n    }\n    File.renameFile(chapterPath, chapterItem.CID + \"$A$\" + chapterItem.title);\n    return chapterItem.CID;\n}\n\nfunction novel(taskParam) {\n    let {\n        chapterItem,\n        info,\n        MY_ID,\n    } = taskParam;\n    if (getMyVar(MY_ID + \":status\", \"\") === \"1\") {\n        return -1;\n    }\n    let mainPath = Config.novelPath + \"/\" + info.ruleName + \"/\" + info.bookName + \"/\";\n    let chapterPath = mainPath + chapterItem.CID + \"$A$\" + chapterItem.title + \".txt\";\n    let content = \"\";\n    try {\n        let getContent = new Function(\"input\", \"url\", \"return \" + info.parseCode);\n        content = getContent(chapterItem.url, chapterItem.url);\n    } catch (e) {\n        e.message = \"<小说正文解析错误：\" + e.message + \">\";\n        throw e;\n    }\n    if (!content) {\n        throw new Error(\"<小说正文解析错误：正文返回为空>\");\n    }\n    if (info.bookTopPic) {\n        try {\n            let bookTopPic = Tool.hikerPic(info.bookTopPic);\n            requireDownload(bookTopPic[0], mainPath + info.bookName + \".jpg\", bookTopPic[1]);\n        } catch (e) {\n            log(\"<封面下载错误：\" + e.message + \">\");\n        }\n    }\n    File.fileWrite(chapterPath, content.replace(/<script>.*?<\\/script>/gmi, \"\").trimRight());\n    //File.renameFile(chapterPath, chapterItem.CID + \"$A$\" + chapterItem.title);\n    return chapterItem.CID;\n}\nvar $exe = {\n    comic: comic,\n    novel: novel\n};\n$.exports = function(taskParam) {\n    return $exe[taskParam.info.type](taskParam);\n};"},{"col_type":"movie_3","name":"#fg.普通主程序","path":"Download.exe.js","rule":"const File = $.require(\"hiker://page/File.js\");\nconst Config = $.require(\"hiker://page/Config.json\");\nconst Tool = $.require(\"hiker://page/Tool.js\");\n\nfunction novel(item, info, MY_ID, order) {\n    let mainPath = Config.novelPath + \"/\" + info.ruleName + \"/\" + info.bookName + \"/\";\n    let chapterPath = mainPath + order + \"$A$\" + item.title + \".txt\";\n    let content = \"\";\n    try {\n        let getContent = new Function(\"input\", \"url\", \"return \" + info.parseCode);\n        content = getContent(item.url, item.url) || \"\";\n    } catch (e) {\n        e.message = \"<小说正文解析错误> \" + e.message;\n        throw e;\n    }\n    if (!content) {\n        toast(\"小说为空\");\n        throw new Error(\"<小说正文解析错误：正文返回为空>\");\n    }\n    if (info.bookTopPic) {\n        try {\n            let bookTopPic = Tool.hikerPic(info.bookTopPic);\n            requireDownload(bookTopPic[0], mainPath + info.bookName + \".jpg\", bookTopPic[1]);\n        } catch (e) {\n            log(\"<封面下载错误> \" + e.message);\n        }\n    }\n    File.fileWrite(chapterPath, content.replace(/<script>.*?<\\/script>/gmi, \"\").trimRight());\n    //File.renameFile(chapterPath, order + \"$A$\" + item.title + \".txt\");\n    return \"toast://\" + info.bookName + \"@\" + item.title + \" 下载完成\";\n}\n\nfunction comic(item, info, MY_ID, order) {\n    let mainPath = Config.comicPath + \"/\" + info.ruleName + \"/\" + info.bookName + \"/\";\n    let chapterPath = mainPath + order + \"$B$\" + item.title + \"/\";\n    let picList = [];\n    try {\n        let getPicList = new Function(\"input\", \"return\" + info.parseCode);\n        picList = getPicList(item.url);\n        if (typeof picList === \"string\") {\n            picList = picList.replace(\"pics://\", \"\").split(\"&&\");\n        }\n    } catch (e) {\n        e.message = \"<漫画图片解析错误> \" + e.message;\n        throw e;\n    }\n\n    const L = picList.length;\n    if(L===0){\n        toast(\"图片链接为空\");\n        throw new Error(\"<漫画图片解析错误：图片链接返回为空>\");\n    }\n    if (info.bookTopPic) {\n        try {\n            let bookTopPic = Tool.hikerPic(info.bookTopPic);\n            requireDownload(bookTopPic[0], mainPath + info.bookName + \".jpg\", bookTopPic[1]);\n        } catch (e) {\n            log(\"<封面下载错误> \" + e.message);\n        }\n    }\n    var schedule = new Map([\n        [L, () => log(item.title + \"已下载100%\")],\n        [~~(0.90 * L), () => log(item.title + \"已下载90%+\")],\n        [~~(0.75 * L), () => log(item.title + \"已下载75%+\")],\n        [~~(0.50 * L), () => log(item.title + \"已下载50%+\")],\n        [~~(0.25 * L), () => log(item.title + \"已下载25%+\")]\n    ]);\n\n    for (var i = 0; i < L; i++) {\n        let pic = Tool.hikerPic(picList[i]);\n        requireDownload(pic[0], chapterPath + (i + 1) + \".jpg\", pic[1]);\n        schedule.has(i + 1) && schedule.get(i + 1)();\n    }\n\n    File.renameFile(chapterPath, order + \"$A$\" + item.title);\n    return \"toast://\" + info.bookName + \"@\" + item.title + \" 下载完成\";\n}\nvar $exe = {\n    comic: comic,\n    novel: novel\n};\n$.exports = function(item, info, MY_ID, order) {\n    return $exe[info.type](item, info, MY_ID, order);\n};"},{"col_type":"movie_3","name":"#f.通用工具","path":"Tool.js","rule":"$.exports = {\n    split(text, target, count) {\n        count = count === undefined ? 1 : count;\n        let array = [text];\n        for (let i = 0; i < count; i++) {\n            text = array[i];\n            let index = text.indexOf(target);\n            if (index === -1) {\n                break;\n            }\n            array[i] = text.slice(0, index);\n            array[i + 1] = text.slice(index + target.length);\n        }\n        return array;\n    },\n    chunk(arr, size) {\n        var result = [];\n        for (var i = 0, len = arr.length; i < len; i += size) {\n            result.push(arr.slice(i, i + size));\n        }\n        return result;\n    },\n    hikerPic(url) {\n        var headers = {};\n        let urls = url.split(\"@\");\n        let picUrl = urls.shift();\n        let length = urls.length;\n        for (let i = 0; i < length; i++) {\n            let [key, value] = urls[i].split(\"=\");\n            headers[key] = value;\n        }\n        return [picUrl, headers];\n    },\n    range(start, end) {\n        return Array(end - start).fill(0).map((el, i) => start + i);\n    }\n}"},{"col_type":"movie_3","name":"#j.Config","path":"Config.json","rule":"js:\nconst File = $.require(\"hiker://page/File.js?rule=本地资源管理\");\n\nlet localConfig = {};\n\ntry {\n    localConfig = JSON.parse(File.readFile(getPath(\"hiker://files/rules/files/本地资源管理/config.json\").slice(7)));\n} catch (e) {\n    deleteFile(\"config.json\");\n}\nconst Config = Object.assign({\n    homePath: getPath(\"hiker://files/localManager\").slice(7),\n    logNum: 10,\n    threadNum: 16,\n    def_isPaginate: \"1\", //1默认开启分页，0默认关闭\n    viewPageSize: 200,\n    def_Pic: \"hiker://images/home_pic4\",\n    def_Lord_Type: \"comic\",\n    def_View_Style: \"text_1\",\n    def_DoVi_Style: \"text_2\",\n    def_DoVi_Type: \"1\", //0全部, 1未完成，2已完成\n}, localConfig);\nconst PATHS = {\n    novelPath: \"/小说/\",\n    comicPath: \"/漫画/\",\n    novelFullPath: \"/小说合并/\",\n    externalImportPath: \"/外导小说/\"\n}\n\n\nObject.keys(PATHS).forEach(key => Config[key] = Config.homePath + PATHS[key]);\n$.exports = Config;"},{"col_type":"movie_3","name":"#v.主页面","path":"Main.view","rule":"js:\nfunction main() {\n    var layout = [];\n    const File = $.require(\"hiker://page/File.js\");\n    const Config = $.require(\"hiker://page/Config.json\");\n    let type = getMyVar(\".type\", getItem(\"main:type\") || Config.def_Lord_Type);\n    let tgnum = getMyVar(\".tgnum\", \"0\");\n    addListener(\"onClose\", $.toString((MY_ID) => {\n        clearMyVar(\"searchKey\");\n        clearMyVar(\".tgnum\");\n    }));\n    layout.push({\n        title: type === \"comic\" ? \"◉漫画\" : \"○漫画\",\n        url: $(\"#noLoading#\").lazyRule((type) => {\n            if (type === \"comic\") return \"hiker://empty\";\n            putMyVar(\".type\", \"comic\");\n            setItem(\"main:type\", \"comic\");\n            clearMyVar(\".tgnum\");\n            refreshPage(false);\n            return \"hiker://empty\";\n        }, type),\n        col_type: \"text_3\",\n    });\n    layout.push({\n        title: type === \"novel\" ? \"◉小说\" : \"○小说\",\n        url: $(\"#noLoading#\").lazyRule((type) => {\n            if (type === \"novel\") return \"hiker://empty\";\n            putMyVar(\".type\", \"novel\");\n            setItem(\"main:type\", \"novel\");\n            clearMyVar(\".tgnum\");\n            refreshPage(false);\n            return \"hiker://empty\";\n        }, type),\n        col_type: \"text_3\",\n    });\n    layout.push({\n        title: type === \"txt\" ? \"◉TXT\" : \"○TXT\",\n        url: $(\"#noLoading#\").lazyRule((type) => {\n            if (type === \"txt\") return \"hiker://page/NovelCollected.view#noRecordHistory##noHistory#\";\n            putMyVar(\".type\", \"txt\");\n            setItem(\"main:type\", \"txt\");\n            clearMyVar(\".tgnum\");\n            refreshPage(false);\n            return \"hiker://empty\";\n        }, type),\n        col_type: \"text_3\"\n    });\n    if (type === \"txt\") {\n        txtView = $.require(\"hiker://page/externalimportTxt.view\");\n        return txtView(layout);\n    }\n    let tag = File.getFilePath(Config[type + \"Path\"], \"dir\");\n    if (tag.length === 0) {\n        layout.push({\n            col_type: \"line_blank\",\n        });\n        layout.push({\n            title: \"设置\",\n            url: \"hiker://page/Setting.view#noRefresh##noRecordHistory##noHistory#\",\n            col_type: \"text_2\",\n            extra: {\n                version: MY_RULE.version\n            }\n        });\n\n        layout.push({\n            title: \"““帮助””\",\n            url: \"hiker://page/help.view#noRefresh##noRecordHistory##noHistory#?keyword=novelComic\",\n            col_type: \"text_2\"\n        });\n        layout.push({\n            title: '<h1 style=\"text-align: center;\">啥都没有耶</h1>',\n            col_type: \"rich_text\"\n        });\n        return setResult(layout);\n    }\n    layout.push({\n        url: '\"hiker://search?s=\"+input',\n        desc: \"搜你想要的#\" + type + \"#......\",\n        title: \"🔍\",\n        col_type: \"input\",\n        extra: {\n            rules: $.toString((tag, type) => {\n                let arr1 = [];\n                for (let i = 0; i < tag.length; i++) {\n                    arr1.push({\n                        \"title\": tag[i].name,\n                        \"search_url\": \"hiker://empty?isAll=1&searchTerms=**&type=\" + type,\n                        \"searchFind\": \"js:$.require('hiker://page/Search.view?rule='+MY_RULE._title);\"\n                    });\n                }\n\n                return JSON.stringify(arr1);\n            }, tag, type),\n            defaultValue: getMyVar('searchKey', ''),\n            onChange: \"putMyVar('searchKey',input)\"\n        }\n    });\n\n    layout.push({\n        title: \"‘‘⚙设置’’\",\n        col_type: \"scroll_button\",\n        url: \"hiker://page/Setting.view#noRefresh##noRecordHistory##noHistory#\",\n        extra: {\n            version: MY_RULE.version\n        }\n    });\n\n\n    for (let i in tag) {\n        let it = tag[i];\n        if (tgnum === i) {\n            layout.push({\n                title: \"““\" + it.name + \"””\",\n                col_type: \"scroll_button\",\n                url: $([\"删除该目录\", \"跳转小程序\"], 1, \"选择操作\").select((it) => {\n                    if (\"跳转小程序\" === input) {\n                        return \"hiker://home@\" + it.name;\n                    } else {\n                        //return then([\"该操作不会删除小程序，但该小程序下载的所有漫画将被删除\"]);\n                        return $(\"该操作不会删除小程序，但该小程序下载的所有 漫画/小说 将被删除\").confirm((path) => {\n                            const File = $.require(\"hiker://page/File.js\");\n                            if (File.deleteFiles(path)) {\n                                clearMyVar(\".tgnum\");\n                                refreshPage();\n                                return \"toast://删除成功\";\n                            } else {\n                                return \"toast://删除失败\";\n                            }\n                        }, it.path);\n                    }\n                }, it)\n            });\n        } else {\n            layout.push({\n                title: it.name,\n                col_type: \"scroll_button\",\n                url: $(\"#noLoading#\").lazyRule(i => {\n                    putMyVar(\".tgnum\", i);\n                    refreshPage();\n                    return \"hiker://empty\";\n                }, i),\n            });\n        }\n    }\n    let path = tag[tgnum].path;\n    let mhlist = File.getFilePath(path, \"dir\");\n\n    if (mhlist.length === 0) {\n        layout.push({\n            title: \"““””\" + \"啥都没有耶\".big(),\n            url: \"hiker://empty\",\n            col_type: \"text_center_1\",\n            extra: {\n                lineVisible: false\n            }\n        });\n        return setResult(layout);\n    }\n    let pageUrl = type === \"novel\" ? \"hiker://page/NovelBrowser.view\" : \"hiker://page/ComicBrowser.view\";\n    for (let item of mhlist) {\n        let pic = fileExist(\"file://\" + item.path + \"/\" + item.name + \".jpg\") ? item.path + \"/\" + item.name + \".jpg\" : Config.def_Pic;\n        layout.push({\n            title: item.name,\n            pic_url: pic,\n            url: pageUrl + \"?rule=\" + MY_RULE.title,\n            extra: item\n        });\n    }\n    setResult(layout);\n}\n\nmain();"},{"col_type":"text_1","name":"#v.漫画章节列表","path":"ComicBrowser.view","rule":"js:\nif (getParam(\"hasParams\") === \"true\") {\n    MY_PARAMS = {\n        path: decodeURIComponent(getParam(\"path\")),\n        name: decodeURIComponent(getParam(\"name\"))\n    }\n}\nlet path = MY_PARAMS.path;\nsetPageTitle(\"CV|\" + MY_PARAMS.name)\nconst File = $.require(\"hiker://page/File.js\");\nconst Tool = $.require(\"hiker://page/Tool.js\");\nconst Config = $.require(\"hiker://page/Config.json\");\n\nvar layout = [];\nlet mode = getMyVar(\".mode\", \"0\");\nlet isReverse = getMyVar(\".isReverse\", \"0\");\naddListener(\"onClose\", $.toString(() => {\n    clearMyVar(\".mode\");\n    clearMyVar(\".isReverse\");\n}));\nconst comicStatus=new Map([[\"A\",\"\"],[\"B\",\"‘‘[未完成]’’\"]]);\nfunction getTitle(title) {\n    let titles = Tool.split(title, \"$\", 2);\n    return comicStatus.get(titles[1])+titles[2] || title;\n}\nlayout.push({\n    title: \"删除整本\",\n    url: $(\"确认删除整本漫画？\").confirm((path) => {\n        const File = $.require(\"hiker://page/File.js\");\n        if (File.deleteFiles(path)) {\n            back();\n            return \"toast://删除成功\";\n        } else {\n            return \"toast://删除失败\";\n        }\n    }, path),\n    col_type: \"text_2\"\n});\nlayout.push({\n    title: [\"看漫画\", \"删除章节\"][mode],\n    url: $(\"#noLoading#\").lazyRule((mode) => {\n        putMyVar(\".mode\", mode === \"0\" ? \"1\" : \"0\");\n        refreshPage(true);\n        return \"hiker://empty\"\n    }, mode),\n    col_type: \"text_2\"\n});\nlayout.push({\n    col_type: \"line_blank\"\n})\nlet mhlist = File.getFilePath(path, \"dir\");\nmhlist.sort((a, b) => {\n    a = (a.name.match(/\\d+/) || [])[0] || 0;\n    b = (b.name.match(/\\d+/) || [])[0] || 0;\n    return a - b;\n});\n\nlayout.push({\n    title: \"““””\" + \"章节 \".big() + (\"共有:\" + mhlist.length + \"章\").small(),\n    url: $(\"#noLoading#\").lazyRule((isReverse) => {\n        putMyVar(\".isReverse\", isReverse === \"0\" ? \"1\" : \"0\");\n        refreshPage(true);\n        return \"hiker://empty\"\n    }, isReverse),\n    col_type: \"text_1\"\n});\nlet array = [];\nlet lazy = $(\"#noLoading#\").lazyRule(() => {\n    const File = $.require(\"hiker://page/File.js\");\n    let filelist = File.getFilePath(input);\n    let piclist = filelist.map((item, i) => \"file://\" + input + \"/\" + (i + 1) + \".jpg\");\n    return \"pics://\" + piclist.join(\"&&\");\n})\nif (mode === \"0\") {\n    for (let item of mhlist) {\n        array.push({\n            title: getTitle(item.name),\n            url: item.path+lazy,\n            col_type: Config.def_View_Style\n        });\n    }\n} else {\n    for (let item of mhlist) {\n        let name = getTitle(item.name);\n        array.push({\n            title: name,\n            url: $(\"确认删除[\" + name + \"]？\").confirm((path) => {\n                const File = $.require(\"hiker://page/File.js\");\n                if (File.deleteFiles(path)) {\n                    refreshPage(true);\n                    return \"toast://删除成功\";\n                } else {\n                    return \"toast://删除失败\";\n                }\n            }, item.path),\n            col_type: Config.def_View_Style\n        });\n    }\n}\nif (isReverse === \"1\") {\n    array.reverse();\n}\nlayout.push.apply(layout, array);\nsetResult(layout);"},{"col_type":"movie_3","name":"#v.聚合搜索","path":"Search.view","rule":"js:\nconst File = $.require(\"hiker://page/File.js?rule=\" + MY_RULE._title);\nconst Config = $.require(\"hiker://page/Config.json?rule=\" + MY_RULE._title);\nlet comicRuleDirs = File.getFilePath(Config[getParam(\"type\") + \"Path\"], \"dir\");\nif (getParam(\"isAll\") === \"1\") {\n    comicRuleDirs = comicRuleDirs.filter(item => item.name === MY_RULE.title);\n}\n\nlet searchResult = [];\nlet searchTerms = getParam(\"searchTerms\");\nlet termsArr = searchTerms.split(\"\").map(t => t.replace(/\\*|\\.|\\?|\\+|\\$|\\^|\\[|\\]|\\(|\\)|\\{|\\}|\\||\\/|\\\\/g, k => \"\\\\\" + k));\nlet reg = new RegExp(termsArr.join(\".*\"), \"i\");\nlet pageUrl = getParam(\"type\") === \"novel\" ? \"hiker://page/NovelBrowser.view\" : \"hiker://page/ComicBrowser.view\";\nfor (let sonDir of comicRuleDirs) {\n    let comicList = File.getFilePath(sonDir.path, \"dir\");\n    for (let comic of comicList) {\n        if (reg.test(comic.name)) {\n            searchResult.push({\n                title: comic.name,\n                pic_url: comic.path + \"/\" + comic.name + \".jpg\",\n                url: pageUrl + \"?rule=\" + MY_RULE._title,\n                desc: sonDir.name,\n                extra: comic\n            });\n        }\n    }\n\n}\nsetResult(searchResult);"},{"col_type":"movie_3","name":"#v.设置","path":"Setting.view","rule":"js:\nsetPageTitle(MY_RULE.title + \"|设置\");\nconst Config = $.require(\"hiker://page/Config.json\");\n\nlet layout = [];\n\nlayout.push({\n    title: \"<strong>基础设置</strong>\".big(),\n    col_type: \"rich_text\"\n});\nlayout.push({\n    col_type: \"line\"\n});\nlayout.push({\n    col_type: \"line\"\n});\n\nlayout.push({\n    title: \"目录路径\",\n    url: \"hiker://page/Setting/More.view#noRefresh##noRecordHistory##noHistory#?settingType=contents\",\n    desc: Config.homePath,\n    col_type: \"text_1\"\n});\nlayout.push({\n    title: \"设置默认封面\",\n    desc: Config.def_Pic,\n    url: \"hiker://page/Setting/More.view#noRefresh##noRecordHistory##noHistory#?settingType=defaultPic\",\n    col_type: \"text_1\",\n    extra: {\n        lineVisible: false\n    }\n});\nlayout.push({\n    col_type: \"line_blank\"\n});\nlayout.push({\n    title: \"<strong>下载器设置</strong>\".big(),\n    col_type: \"rich_text\"\n});\nlayout.push({\n    col_type: \"line\"\n});\nlayout.push({\n    col_type: \"line\"\n});\n\nfunction setNum(key, test) {\n    let Config = JSON.parse(readFile(\"config.json\", 0) || \"{}\");\n    input = parseInt(input);\n    if (Number.isNaN(input)) return \"toast://请输入数字\";\n    if (!test(input)) return \"toast://不符合条件\";\n    Config[key] = input;\n    saveFile(\"config.json\", JSON.stringify(Config), 0);\n    refreshPage(false);\n    return \"toast://修改成功\";\n}\nlayout.push({\n    title: \"log数\",\n    url: $(Config.logNum, \"0<N<100\").input(setNum, \"logNum\", it => it > 0 && it < 100),\n    desc: \"\" + Config.logNum,\n    col_type: \"text_1\"\n});\n\nlayout.push({\n    title: \"分批下载数(0不开启)\",\n    url: $(\"\" + Config.threadNum, \"N>-1\").input(setNum, \"threadNum\", it => it > -1),\n    desc: \"\" + Config.threadNum,\n    col_type: \"text_1\",\n    extra: {\n        lineVisible: false,\n    }\n});\n\n\nlayout.push({\n    col_type: \"line_blank\"\n});\n\nlayout.push({\n    title: \"<strong>小说阅读器设置</strong>\".big(),\n    col_type: \"rich_text\"\n});\nlayout.push({\n    col_type: \"line\"\n});\nlayout.push({\n    col_type: \"line\"\n});\n\nlayout.push({\n    title: \"默认开启分页阅读\",\n    url: $(\"#noLoading#\").lazyRule((def_isPaginate) => {\n        let Config = JSON.parse(readFile(\"config.json\", 0) || \"{}\");\n\n        Config.def_isPaginate = def_isPaginate === \"0\" ? \"1\" : \"0\";\n\n        saveFile(\"config.json\", JSON.stringify(Config), 0);\n        refreshPage(false);\n        return \"hiker://empty\";\n    }, Config.def_isPaginate),\n    desc: Config.def_isPaginate === \"0\" ? \"不开启\" : \"开启\",\n    col_type: \"text_1\"\n});\n\nlayout.push({\n    title: \"每页最大章数\",\n    url: $(Config.viewPageSize, \"30<N<500\").input(setNum, \"viewPageSize\", it => it > 30 && it < 500),\n    desc: \"\" + Config.viewPageSize,\n    col_type: \"text_1\"\n});\nlayout.push({\n    title: \"替换规则\",\n    url: \"hiker://page/Setting/More.view#noRecordHistory##noHistory##noRefresh#?settingType=replaceRule\",\n    col_type: \"text_1\",\n    extra: {\n        lineVisible: false\n    }\n});\n\nlayout.push({\n    col_type: \"line_blank\"\n});\nlayout.push({\n    title: \"<strong>其他设置</strong>\".big(),\n    col_type: \"rich_text\"\n});\nlayout.push({\n    col_type: \"line\"\n});\nlayout.push({\n    col_type: \"line\"\n});\nlayout.push({\n    title: \"规则发布页\",\n    url: \"hiker://page/ruleDetail#noHistory##noRecordHistory#?rule=道长仓库Pro\",\n    extra: {\n        lver: MY_PARAMS.version || \"获取版本失败，自行查看\",\n        id: \"3559\"\n    },\n    col_type: \"text_1\"\n});\n\nlayout.push({\n    title: \"恢复默认设置\",\n    url: $(\"确认恢复默认设置？\").confirm(() => {\n        deleteFile(\"config.json\");\n        refreshPage(false);\n        return \"toast://恢复完成\";\n    }),\n    col_type: \"text_1\"\n});\nlayout.push({\n    title: \"清理缓存\",\n    url: \"hiker://page/Setting/More.view#noRecordHistory##noHistory#?settingType=cache\",\n    col_type: \"text_1\"\n});\nlet tid = Date.now();\nlayout.push({\n    title: \"检测更新\",\n    col_type: \"text_1\",\n    url: $(\"#noLoading#\").lazyRule((oldVersion, tid) => {\n        try {\n            let newVersion = JSON.parse(request(\"http://hiker.nokia.press/hikerule/dev/getbyid?id=3559\", {\n                timeout: 2000\n            })).result.ver;\n            if (newVersion <= oldVersion) {\n                updateItem(tid + \"#设置_更新\", {\n                    title: \"已经是最新版本了\"\n                });\n                return \"toast://已经是最新版本了\";\n            } else {\n                updateItem(tid + \"#设置_更新\", {\n                    title: \"有新版本还未更新\"\n                });\n                toast(\"有新版本还未更新\");\n                return \"rule://5rW36ZiU6KeG55WM77+laG9tZV9ydWxlX3VybO+/pWh0dHA6Ly9oaWtlci5ub2tpYS5wcmVzcy9oaWtlcnVsZS9ydWxlbGlzdC5qc29uP2lkPTM1NTk=\";\n            }\n        } catch (e) {\n            updateItem(tid + \"#设置_更新\", {\n                title: \"信息获取失败\"\n            });\n            return \"toast://更新信息获取失败\";\n        }\n    }, MY_PARAMS.version, tid),\n    extra: {\n        id: tid + \"#设置_更新\"\n    }\n});\nlayout.push({\n    title: \"关于如何调用\",\n    url: \"https://qun.qq.com/qqweb/qunpro/share?_wv=3&_wwv=128&inviteCode=1HFyBJ&from=246610&biz=ka\",\n    desc: \"详细点击加入频道，频道里@LoyDgIk\",\n    col_type: \"text_1\"\n});\n/*\nlayout.push({\n    title: \"清除小说分页记录\",\n    url: $(\"确认清除小说分页记录？\").confirm(() => {\n        deleteFile(\"novelFootprint.json\");\n        return \"toast://清除完成\";\n    }),\n    col_type: \"text_1\"\n});\n*/\nsetResult(layout);"},{"col_type":"text_1","name":"#v.小说章节列表","path":"NovelBrowser.view","rule":"js:\nif (getParam(\"hasParams\") === \"true\") {\n    MY_PARAMS = {\n        path: decodeURIComponent(getParam(\"path\")),\n        name: decodeURIComponent(getParam(\"name\"))\n    }\n}\nlet path = MY_PARAMS.path;\nsetPageTitle(\"NV|\" + MY_PARAMS.name);\nconst File = $.require(\"hiker://page/File.js\");\nconst Tool = $.require(\"hiker://page/Tool.js\");\nconst Config = $.require(\"hiker://page/Config.json\");\nconst bookInfo = Object.assign({\n    foot: 0,\n    isReplace: true\n}, JSON.parse(request(\"file://\" + path + \"/bookInfo.json\") || \"{}\"));\nlet id = \"#\" + new Date().getTime();\nvar layout = [];\nlet mode = getMyVar(\".mode\", \"0\");\nlet mode2 = getMyVar(\".mode2\", Config.def_isPaginate);\n\nlet isReverse = getMyVar(\".isReverse\", \"0\");\naddListener(\"onClose\", $.toString(() => {\n    clearMyVar(\".mode\");\n    clearMyVar(\".mode2\");\n    clearMyVar(\".isReverse\");\n    clearMyVar(\".pageNum\");\n}));\n\nfunction getTitle(title) {\n    let titles = Tool.split(title, \"$\", 2);\n    return titles[2] !== undefined ? titles[2].slice(0, titles[2].lastIndexOf(\".\")) : title;\n}\nlayout.push({\n    title: \"删除整本\",\n    url: $(\"确认删除整本小说？\").confirm((path) => {\n        const File = $.require(\"hiker://page/File.js\");\n        if (File.deleteFiles(path)) {\n            back();\n            return \"toast://删除成功\";\n        } else {\n            return \"toast://删除失败\";\n        }\n    }, path),\n    col_type: \"text_2\"\n});\n\nlayout.push({\n    title: [\"看小说\", \"删除章节\"][mode],\n    url: $(\"#noLoading#\").lazyRule((mode) => {\n        putMyVar(\".mode\", mode === \"0\" ? \"1\" : \"0\");\n        refreshPage(true);\n        return \"hiker://empty\"\n    }, mode),\n    col_type: \"text_2\"\n});\n\nlayout.push({\n    title: \"‘‘更多功能 >’’\",\n    url: \"hiker://empty\",\n    col_type: \"scroll_button\"\n});\n\nfunction txt(paths) {\n    showLoading(\"正在合并...\");\n    const File = $.require(\"hiker://page/File.js\");\n    const Tool = $.require(\"hiker://page/Tool.js\");\n    const Config = $.require(\"hiker://page/Config.json\");\n\n    let filelist = File.getFilePath(paths.path, \"file\", \".txt\");\n    let listLength = filelist.length;\n    if (listLength === 0) {\n        hideLoading();\n        return \"toast://空的章节\";\n    }\n    const bookInfo = Object.assign({\n        selected: [],\n        isReplace: true\n    }, JSON.parse(request(\"file://\" + paths.path + \"/bookInfo.json\") || \"{}\"));\n    let bufilelist = [];\n    for (let i = 0; i < listLength; i++) {\n        let file = filelist[i];\n        let fileInfo = Tool.split(file.name, \"$\", 2);\n        bufilelist.push({\n            name: fileInfo[2].slice(0, fileInfo[2].lastIndexOf(\".\")),\n            path: \"file://\" + file.path,\n            id: Number(fileInfo[0]) || 0\n        });\n    }\n    bufilelist.sort((a, b) => a.id - b.id);\n    let entirePath = paths.path.replace(Config.novelPath, Config.novelFullPath) + \".txt\";\n    let entirePathto = bookInfo.isReplace ? entirePath + \".tmp\" : entirePath;\n\n    if (fileExist(\"file://\" + entirePath)) {\n        toast(\"初始化文件\");\n        if (!File.deleteFiles(entirePath)) {\n            hideLoading();\n            return \"toast://初始化失败\";\n        } else {\n            toast(\"初始化成功\");\n        }\n    }\n\n    for (let i = 0; i < listLength; i++) {\n        let item = bufilelist[i];\n        let content = request(item.path);\n        File.fileWriteAppend(entirePathto, item.name + \"\\n　　\" + content.replace(/^\\s+|\\s+$/gm, \"\").replace(/&nbsp;/g,\"\").split(/\\n+/).join(\"\\r　　\") + \"\\n\\n\");\n    }\n    if (bookInfo.isReplace) {\n        let ruleList = JSON.parse(readFile(\"replaceRule.json\") || \"[]\");\n        let len = ruleList.length;\n        let replacePattern = [\"replace\", \"replaceAll\"];\n        let flag = File.fileRule(entirePathto, entirePath, (javaString) => {\n            for (let i = 0; i < len; i++) {\n                let replaceRule = ruleList[i];\n                if (!bookInfo.selected.includes(replaceRule.id)) {\n                    continue;\n                }\n                let replace = replacePattern[0 + replaceRule.isRegex];\n                javaString = javaString[replace](replaceRule.pattern, replaceRule.replacement);\n            }\n            return javaString.getBytes();\n        });\n        if (!flag) {\n            hideLoading();\n            return \"toast://合并失败\";\n        }\n\n    }\n    hideLoading();\n    return \"toast://合并完成\";\n}\nlayout.push({\n    title: \"合并小说\",\n    url: $(\"确定合并?\\n会覆盖已有TXT\").confirm(txt, MY_PARAMS),\n    col_type: \"scroll_button\"\n});\nlayout.push({\n    title: [\"☐分页\", \"☑分页\"][mode2],\n    url: $(\"#noLoading#\").lazyRule((mode2) => {\n        putMyVar(\".mode2\", mode2 === \"0\" ? \"1\" : \"0\");\n        refreshPage(true);\n        return \"hiker://empty\";\n    }, mode2),\n    col_type: \"scroll_button\"\n});\nlayout.push({\n    title: \"净化\",\n    url: \"hiker://page/NovelCustom.view#noRecordHistory##noHistory##noRefresh#\",\n    extra: MY_PARAMS,\n    col_type: \"scroll_button\"\n});\nlayout.push({\n    title: \"外部查看\",\n    url: $(\"#noLoading#\").lazyRule((path) => {\n        const Config = $.require(\"hiker://page/Config.json\");\n        let entirePath = path.replace(Config.novelPath, Config.novelFullPath) + \".txt\";\n        if (fileExist(\"file://\" + entirePath)) {\n            toast(\"调用第三方应用打开文件\");\n            return \"openFile://file://\" + entirePath\n        } else {\n            return \"toast://本地暂无可供外部打开的txt文件，请先合并小说！\"\n        }\n    }, path),\n    col_type: \"scroll_button\"\n});\nlayout.push({\n    col_type: \"line_blank\"\n});\n\nlet mhlist = File.getFilePath(path, \"file\", \".txt\");\nmhlist.sort((a, b) => {\n    a = (a.name.match(/\\d+/) || [])[0] || 0;\n    b = (b.name.match(/\\d+/) || [])[0] || 0;\n    return a - b;\n});\nlet chapterList = [];\nlet chapterCount = mhlist.length;\n\nif (mode2 === \"1\") {\n    let mhlistChunk = Tool.chunk(mhlist, Config.viewPageSize);\n    let viewPageCount = mhlistChunk.length;\n    let defPage = (viewPageCount - 1 < bookInfo.foot ? 0 : bookInfo.foot) || 0;\n    let pageNum = Number(getMyVar(\".pageNum\", \"\" + defPage));\n    chapterList = mhlistChunk[pageNum] || [];\n    layout.push({\n        title: \"““””\" + \"章节 \".big() + (\"本页:\" + chapterList.length + \" 共有:\" + chapterCount + \"章 当前:\" + (pageNum + 1) + \"/\" + viewPageCount).small(),\n        url: $(\"#noLoading#\").lazyRule((isReverse) => {\n            putMyVar(\".isReverse\", isReverse === \"0\" ? \"1\" : \"0\");\n            refreshPage(true);\n            return \"hiker://empty\"\n        }, isReverse),\n        col_type: \"text_1\"\n    });\n    layout.push({\n        title: \"跳集\",\n        url: $(chapterCount, \"输入跳转章节 1-\" + chapterCount).input((chapterCount, pageNum, viewPageSize, path) => {\n            let inputNum = Number(input);\n            if (Number.isNaN(inputNum) || inputNum < 0 || inputNum > chapterCount) {\n                return \"toast://请输入正确范围内的数字\";\n            }\n            inputNum = Math.floor((inputNum + viewPageSize) / viewPageSize) - 1;\n            if (pageNum === inputNum) return \"toast://正在当前页面\";\n            putMyVar(\".pageNum\", \"\" + inputNum);\n            const bookInfo = JSON.parse(request(\"file://\" + path + \"/bookInfo.json\") || \"{}\");\n            bookInfo.foot = inputNum;\n            writeFile(\"file://\" + path, JSON.stringify(bookInfo));\n            refreshPage(false);\n        }, chapterCount, pageNum, Config.viewPageSize, path),\n        col_type: \"text_5\"\n    });\n    layout.push({\n        title: \"跳页\",\n        url: $(pageNum + 1, \"跳转页数 1-\" + viewPageCount).input((viewPageCount, pageNum, path) => {\n            let inputNum = Number(input) - 1;\n            if (Number.isNaN(inputNum) || inputNum < 0 || inputNum > viewPageCount - 1) {\n                return \"toast://请输入正确范围内的数字\";\n            }\n            if (pageNum === inputNum) return \"toast://正在当前页面\";\n            putMyVar(\".pageNum\", \"\" + inputNum);\n            const bookInfo = JSON.parse(request(\"file://\" + path + \"/bookInfo.json\") || \"{}\");\n            bookInfo.foot = inputNum;\n            writeFile(\"file://\" + path + \"/bookInfo.json\", JSON.stringify(bookInfo));\n            refreshPage(false);\n        }, viewPageCount, pageNum, path),\n        col_type: \"text_5\"\n    });\n    layout.push({\n        title: \"上一页\",\n        url: $(\"#noLoading#\").lazyRule((pageNum, path) => {\n            let inputNum = pageNum - 1;\n            if (inputNum < 0) {\n                return \"toast://已经是第一页了\";\n            }\n            putMyVar(\".pageNum\", \"\" + inputNum);\n            const bookInfo = JSON.parse(request(\"file://\" + path + \"/bookInfo.json\") || \"{}\");\n            bookInfo.foot = inputNum;\n            writeFile(\"file://\" + path + \"/bookInfo.json\", JSON.stringify(bookInfo));\n            refreshPage(false);\n            return \"hiker://empty\";\n        }, pageNum, path),\n        col_type: \"text_5\"\n    });\n    layout.push({\n        title: \"下一页\",\n        url: $(\"#noLoading#\").lazyRule((viewPageCount, pageNum, path) => {\n            let inputNum = pageNum + 1;\n            if (inputNum > viewPageCount - 1) {\n                return \"toast://已经是最后一页了\";\n            }\n            putMyVar(\".pageNum\", \"\" + inputNum);\n            const bookInfo = JSON.parse(request(\"file://\" + path + \"/bookInfo.json\") || \"{}\");\n            bookInfo.foot = inputNum;\n            writeFile(\"file://\" + path + \"/bookInfo.json\", JSON.stringify(bookInfo));\n            refreshPage(false);\n            return \"hiker://empty\";\n        }, viewPageCount, pageNum, path),\n        col_type: \"text_5\"\n    });\n    layout.push({\n        title: \"末页\",\n        url: $(\"#noLoading#\").lazyRule((viewPageCount, pageNum, path) => {\n            let inputNum = viewPageCount - 1;\n            if (pageNum === inputNum || inputNum === -1) {\n                return \"toast://已经是最后一页了\";\n            }\n            putMyVar(\".pageNum\", \"\" + inputNum);\n            const bookInfo = JSON.parse(request(\"file://\" + path + \"/bookInfo.json\") || \"{}\");\n            bookInfo.foot = inputNum;\n            writeFile(\"file://\" + path + \"/bookInfo.json\", JSON.stringify(bookInfo));\n            refreshPage(false);\n            return \"hiker://empty\";\n        }, viewPageCount, pageNum, path),\n        col_type: \"text_5\"\n    });\n} else {\n    chapterList = mhlist;\n    layout.push({\n        title: \"““””\" + \"章节 \".big() + (\"共有:\" + chapterCount + \"章\").small(),\n        url: $(\"#noLoading#\").lazyRule((isReverse) => {\n            putMyVar(\".isReverse\", isReverse === \"0\" ? \"1\" : \"0\");\n            refreshPage(true);\n            return \"hiker://empty\"\n        }, isReverse),\n        col_type: \"text_1\"\n    });\n}\nlet array = [];\nif (mode === \"0\") {\n    for (let item of chapterList) {\n        let name = getTitle(item.name);\n        array.push({\n            title: name,\n            url: \"hiker://page/NovelMainBody#autoPage##readTheme#\",\n            extra: {\n                path: item.path,\n                dirPath: path,\n                title: name,\n            },\n            col_type: Config.def_View_Style\n        });\n    }\n} else {\n    for (let item of chapterList) {\n        let name = getTitle(item.name);\n        array.push({\n            title: name,\n            url: $(\"确认删除[\" + name + \"]？\").confirm((path) => {\n                const File = $.require(\"hiker://page/File.js\");\n                if (File.deleteFiles(path)) {\n                    refreshPage(true);\n                    return \"toast://删除成功\";\n                } else {\n                    return \"toast://删除失败\";\n                }\n            }, item.path),\n            col_type: Config.def_View_Style\n        });\n    }\n}\nif (isReverse === \"1\") {\n    array.reverse();\n}\nlayout.push.apply(layout, array);\nsetResult(layout);"},{"col_type":"movie_3","name":"#v.小说正文阅读","path":"NovelMainBody","rule":"js:\nvar layout = [];\nlet content = request(\"file://\" + MY_PARAMS.path);\n//content = content.replace(/\\n|\\r/g, \"<br>\").replace(/(&nbsp;)+/g,\" \");\nconst bookInfo = Object.assign({\n    selected: [],\n    isReplace: true\n}, JSON.parse(request(\"file://\" + MY_PARAMS.dirPath + \"/bookInfo.json\") || \"{}\"));\n\nif (bookInfo.isReplace) {\n    let javaString = java.lang.String(content);\n    let ruleList = JSON.parse(readFile(\"replaceRule.json\") || \"[]\");\n    let replacePattern = [\"replace\", \"replaceAll\"];\n    for (let i = 0, len = ruleList.length; i < len; i++) {\n        let replaceRule = ruleList[i];\n        if (!bookInfo.selected.includes(replaceRule.id)) {\n            continue;\n        }\n        let replace = replacePattern[0 + replaceRule.isRegex];\n        javaString = javaString[replace](replaceRule.pattern, replaceRule.replacement);\n    }\n    content = String(javaString);\n}\ncontent = \"　　\" + content.replace(/^\\s+|\\s+$/gm, \"\").split(/\\n+/).join(\"<br>　　\");\n\nlayout.push({\n    col_type: \"rich_text\",\n    title: (\"<strong>\" + MY_PARAMS.title + \"</strong>\").big(),\n});\n\nlayout.push({\n    title: content,\n    col_type: 'rich_text',\n    extra: {\n        textSize: 18,\n        click: true\n    }\n});\nsetResult(layout);"},{"col_type":"text_1","name":"#v.合并TXT","path":"NovelCollected.view","rule":"js:\nconst File = $.require(\"hiker://page/File.js\");\nconst Config = $.require(\"hiker://page/Config.json\");\nlet rulelDir = File.getFilePath(Config.novelFullPath, \"dir\");\nsetPageTitle(\"合并TXT\");\nlet layout = [];\n\nfunction operation(path) {\n    switch (input) {\n        case \"分享\":\n            return \"share://\" + path;\n            break;\n        case \"删除\":\n            const File = $.require(\"hiker://page/File.js\");\n            if (File.deleteFiles(path)) {\n                refreshPage();\n                return \"toast://删除成功\";\n            } else {\n                return \"toast://删除失败\";\n            }\n            break;\n        case \"海阔预览\":\n            return \"hiker://page/txtParser.view\";\n            break;\n        case \"打开方式\":\n            return \"openFile://file://\" + path;\n            break;\n    }\n}\nfor (let rulePaths of rulelDir) {\n    let novels = File.getFilePath(rulePaths.path, \"file\", \".txt\");\n    for (let novel of novels) {\n        layout.push({\n            title: novel.name,\n            url: $([\"分享\", \"删除\", \"海阔预览\", \"打开方式\"], 1).select(operation, novel.path),\n            desc: \"来源：\" + rulePaths.name,\n            col_type: \"text_1\",\n            extra: {\n                path: novel.path\n            }\n        });\n    }\n}\nif (layout.length === 0) {\n    layout.push({\n        title: '<h1 style=\"text-align: center;\">啥都没有耶</h1>',\n        col_type: \"rich_text\"\n    });\n}\nsetResult(layout);"},{"col_type":"movie_3","name":"#v.更多设置","path":"Setting/More.view","rule":"js:\nconst File = $.require(\"hiker://page/File.js\");\nconst Config = $.require(\"hiker://page/Config.json\");\n\nconst settingType = MY_PARAMS.settingType || getParam(\"settingType\");\n\nlet layout = [];\nlet id = \"#\" + new Date().getTime();\nswitch (settingType) {\n    case \"cache\":\n        setPageTitle(\"清除缓存|设置\");\n        const knownList = new Map([\n            [File.getName(Config.novelPath), \"#管理器#小说缓存目录[不建议清除]\"],\n            [File.getName(Config.comicPath), \"#管理器#漫画缓存目录[不建议清除]\"],\n            [File.getName(Config.externalImportPath), \"#管理器#导入的TXT目录[不建议清除]\"],\n            [File.getName(Config.novelFullPath), \"#管理器#小说合并目录[可以清除]\"],\n            [\"dr章节缓存\", \"道长模板临时缓存[建议清除]\"]\n        ]);\n\n        let cacheDir = File.getFilePath(Config.homePath, \"dir\");\n\n        function cleanCache(path) {\n            const File = $.require(\"hiker://page/File.js\");\n            if (File.deleteFiles(path)) {\n                refreshPage(false);\n                return \"toast://清除完成\";\n            } else {\n                return \"toast://清除失败\";\n            }\n        }\n        for (let cache of cacheDir) {\n            layout.push({\n                title: cache.name,\n                desc: \"大小：\" + File.getFileSize(cache.path) + \"\\n描述：\" + (knownList.get(cache.name) || \"未知目录[风险未知]\"),\n                col_type: \"text_1\",\n                url: $(\"确认清除 \" + cache.name + \" ?\").confirm(cleanCache, cache.path)\n            });\n        }\n        layout.push({\n            col_type: \"line_blank\"\n        });\n        layout.push({\n            title: \"全部清除(\" + File.getFileSize(Config.homePath) + \")\",\n            col_type: \"text_center_1\",\n            url: $(\"确认清除全部缓存数据?\").confirm(cleanCache, Config.homePath)\n        });\n        break;\n    case \"defaultPic\":\n        setPageTitle(\"默认封面|设置\");\n        if (getMyVar(\":defaultPicBack\")) {\n            back();\n            clearMyVar(\":defaultPicBack\");\n            break;\n        }\n\n        function setDefaultPic(url) {\n            let Config = JSON.parse(readFile(\"config.json\", 0) || \"{}\");\n            Config.def_Pic = url;\n            saveFile(\"config.json\", JSON.stringify(Config), 0);\n            back();\n            return \"toast://修改成功\";\n        }\n        let start = 1;\n        if (typeof(MY_NAME) !== \"undefined\" && MY_NAME === \"嗅觉浏览器\") {\n            start = 4;\n        }\n        for (let i = start; i <= 4; i++) {\n            layout.push({\n                title: \"图片\" + i,\n                col_type: \"movie_3\",\n                pic_url: \"hiker://images/home_pic\" + i,\n                url: $(\"#noLoading#\").lazyRule(setDefaultPic, \"hiker://images/home_pic\" + i)\n            });\n        }\n        layout.push({\n            title: \"自定义➕\",\n            col_type: \"text_3\",\n            url: $([\"自定义url\", \"选择文件路径\"]).select(() => {\n                if (input === \"自定义url\") {\n                    return $(\"\", \"输入图片的路径或者链接\").input(() => {\n                        let Config = JSON.parse(readFile(\"config.json\", 0) || \"{}\");\n                        Config.def_Pic = input;\n                        saveFile(\"config.json\", JSON.stringify(Config), 0);\n                        back();\n                        return \"toast://修改成功\";\n                    });\n                } else {\n                    let requireUrl = \"http://hiker.nokia.press/hikerule/rulelist.json?id=5099\";\n                    let fileSelect = require(requireUrl);\n                    return fileSelect.fileSelectionUri({\n                        callback: $.toString(() => {\n                            let Config = JSON.parse(readFile(\"config.json\", 0) || \"{}\");\n                            Config.def_Pic = \"file://\" + PATH;\n                            saveFile(\"config.json\", JSON.stringify(Config), 0);\n                            putMyVar(\":defaultPicBack\", \"true\");\n                            back();\n                            return \"toast://修改成功\";\n                        }),\n                        requireUrl: requireUrl,\n                        fileType: \".jpg|.jpeg|.gif|.png|.svg|.bmp\",\n                        onClickType: \"confirm\",\n                        memory: \"selectPathCache2\"\n                    });\n                }\n            })\n        });\n        break;\n    case \"replaceRule\":\n        if (MY_PARAMS.isRefresh) {\n            addListener(\"onClose\", $.toString(() => refreshPage()));\n        }\n        setPageTitle(\"替换规则|设置\");\n        let ruleList = JSON.parse(readFile(\"replaceRule.json\") || \"[]\");\n        layout.push({\n            title: \"新建替换\",\n            url: \"hiker://page/editReplaceRule.view#noRecordHistory##noHistory##noRefresh#?isNew=true\",\n            col_type: \"text_3\"\n        });\n        layout.push({\n            title: \"导出规则\",\n            url: $(\"确认导出\" + ruleList.length + \"条规则？\\n({homePtah}/replaceRule.json)\").confirm((num) => {\n                const Config = $.require(\"hiker://page/Config.json\");\n                let savePta = Config.homePath + \"/replaceRule.json\";\n                writeFile(savePta, readFile(\"replaceRule.json\") || \"[]\");\n                log(\"\\n路径：\" + savePta + \"\\n导出规则 \" + num + \" 条\");\n                return \"share://\" + savePta;\n            }, ruleList.length),\n            col_type: \"text_3\"\n        });\n\n        function importRule(isback) {\n            input = typeof PATH === \"undefined\" ? input : PATH;\n            input = input.startsWith(\"file://\") ? input : \"file://\" + input\n            let ruleText = request(input);\n            if (!ruleText) return \"toast://获取文件为空\";\n            try {\n                let newRuleList = JSON.parse(ruleText);\n                let ruleList = JSON.parse(readFile(\"replaceRule.json\") || \"[]\");\n                let newCount = 0,\n                    updateCount = 0;\n                for (let i in newRuleList) {\n                    let newRule = newRuleList[i];\n                    if (!newRule.hasOwnProperty(\"replacement\") || !newRule.hasOwnProperty(\"pattern\") || !newRule.hasOwnProperty(\"name\") || (newRule.scopeContent === undefined ? false : !newRule.scopeContent)) {\n                        continue;\n                    }\n                    let id = newRule.id;\n                    newRule.id = id || new Date().getTime();\n                    let idIndex = ruleList.findIndex(rule => rule.id === id);\n                    if (idIndex > -1) {\n                        updateCount++;\n                        ruleList.splice(idIndex, 1, newRule);\n                    } else {\n                        newCount++;\n                        ruleList.push(newRule);\n                    }\n                }\n                saveFile(\"replaceRule.json\", JSON.stringify(ruleList));\n                if (isback) {\n                    back();\n                } else {\n                    refreshPage();\n                }\n                log(\"\\n路径：\" + input + \"\\n总规则数：\" + newRuleList.length + \"\\n更新规则 \" + updateCount + \" 条\\t新增规则 \" + newCount + \" 条\");\n                toast(\"导入成功\");\n            } catch (e) {\n                log(e.toString());\n                if (isback) back();\n                toast(\"导入失败\");\n            }\n        }\n        layout.push({\n            title: \"导入规则\",\n            url: $([\"外部文件\", \"内部文件\"], 1, \"规则导入\").select((importRule) => {\n                if (input === \"外部文件\") {\n                    return \"fileSelect://\" + $.toString(importRule);\n                } else {\n                    let requireUrl = \"http://hiker.nokia.press/hikerule/rulelist.json?id=5099\";\n                    let fileSelect = require(requireUrl);\n                    return fileSelect.fileSelectionUri({\n                        callback: $.toString(importRule, true),\n                        requireUrl: requireUrl,\n                        fileType: \".json\",\n                        onClickType: \"confirm\",\n                        memory: \"selectPathCache\"\n                    });\n                }\n            }, importRule),\n            col_type: \"text_3\"\n        });\n        layout.push({\n            col_type: \"line_blank\"\n        });\n        for (let i = 0, len = ruleList.length; i < len; i++) {\n            let replaceRule = ruleList[i];\n            layout.push({\n                title: replaceRule.name,\n                col_type: \"text_1\",\n                url: \"hiker://empty\",\n                extra: {\n                    cls: id + \".\" + i,\n                    lineVisible: false\n                }\n            });\n            layout.push({\n                title: \"删除\",\n                url: $(\"#noLoading#\").lazyRule((id, index) => {\n                    var ruleList = JSON.parse(readFile(\"replaceRule.json\") || \"[]\");\n                    let g = ruleList.splice(index, 1);\n\n                    saveFile(\"replaceRule.json\", JSON.stringify(ruleList));\n                    //deleteItemByCls(id + \".\" + index);\n                    refreshPage(false);\n                    toast(\"删除成功\");\n                    return \"hiker://empty\";\n                }, id, i),\n                extra: {\n                    cls: id + \".\" + i\n                },\n                col_type: \"text_2\"\n            });\n            layout.push({\n                title: \"编辑\",\n                url: \"hiker://page/editReplaceRule.view#noRecordHistory##noHistory##noRefresh#?index=\" + i,\n                col_type: \"text_2\",\n                extra: {\n                    cls: id + \".\" + i\n                }\n            });\n            layout.push({\n                col_type: \"line_blank\",\n                extra: {\n                    cls: id + \".\" + i\n                }\n            });\n        }\n        break;\n    case \"contents\":\n        let f = require(\"http://hiker.nokia.press/hikerule/rulelist.json?id=5099\");\n        setPageTitle(\"目录设置|设置\");\n        layout.push({\n            title: \"选择文件夹\",\n            url: JSON.stringify(f.fileSelectionUri({\n                callback: $.toString((id) => {\n                    let target = findItem(id).extra;\n                    updateItem(id, {\n                        extra: Object.assign(target, {\n                            defaultValue: PATH\n                        })\n                    });\n                    return true;\n                }, id),\n                initialPath: Config.homePath,\n                requireUrl: \"http://hiker.nokia.press/hikerule/rulelist.json?id=5099\",\n                pattern: 1\n            })),\n            col_type: \"input\",\n            desc: \"支持hiker://files路径(该操作不会初始化目录)\",\n            extra: {\n                defaultValue: Config.homePath,\n                onChange: $.toString((id) => {\n                    putMyVar(id, input);\n                }, id),\n                id: id\n            }\n        });\n        layout.push({\n            col_type: \"line_blank\"\n        });\n        layout.push({\n            title: \"确认\",\n            url: $(\"#noLoading#\").lazyRule((id) => {\n                let input = getMyVar(id, findItem(id).extra.defaultValue || \"\");\n                const Config = $.require(\"hiker://page/Config.json\");\n                if (input.startsWith(\"hiker://files/\")) input = getPath(input).slice(7);\n                if (input.endsWith(\"/\")) input=input.replace(/\\/$/,\"\");\n                if (Config.homePath == input) return \"toast://已经是当前目录\";\n                Config = JSON.parse(readFile(\"config.json\", 0) || \"{}\");\n                Config.homePath = input;\n                saveFile(\"config.json\", JSON.stringify(Config), 0);\n                back();\n                return \"toast://已保存\";\n            }, id),\n            col_type: \"text_center_1\",\n        });\n\n        break;\n}\nsetResult(layout);"},{"col_type":"movie_3","name":"#v.编辑替换规则","path":"editReplaceRule.view","rule":"js:\nconst isNew = MY_PARAMS.isNew || getParam(\"isNew\");\nconst index = MY_PARAMS.index || Number(getParam(\"index\"));\nlet layout = [];\naddListener(\"onClose\", $.toString(() => {\n    clearMyVar(\".editReplaceRule.name\");\n    clearMyVar(\".editReplaceRule.isRegex\");\n    clearMyVar(\".editReplaceRule.pattern\");\n    clearMyVar(\".editReplaceRule.replacement\");\n    clearMyVar(\".editReplaceRule.first\");\n    //clearMyVar(\".editReplaceRule.scope\");\n}));\nlet ruleList = JSON.parse(readFile(\"replaceRule.json\") || \"[]\");\nlet id = \"#\" + new Date().getTime();\n//let replaceRule = isNew == \"true\"?{}:ruleList[index];\nif (isNew == \"true\") {\n    replaceRule = {\n        id: new Date().getTime(),\n        isRegex: false,\n    }\n} else {\n    replaceRule = ruleList[index];\n}\n//首次初始化\nif(getMyVar(\".editReplaceRule.first\",\"\")==\"\"){\n    putMyVar(\".editReplaceRule.isRegex\", \"\" + replaceRule.isRegex);\n    putMyVar(\".editReplaceRule.first\",\"1\");\n}\nlayout.push({\n    title: \"拷贝\",\n    url: $(\"#noLoading#\").lazyRule(() => {\n        let att = [\"name\", \"isRegex\", \"pattern\", \"replacement\"];\n        let json = {};\n        att.forEach(key => {\n            let value = getMyVar(\".editReplaceRule.\" + key, \"\");\n            if (key === \"isRegex\") {\n                value = value === \"true\" ? true : false;\n            }\n            json[key] = value;\n        });\n        copy(JSON.stringify(json));\n        return \"hiker://empty\";\n    }),\n    col_type: \"text_2\"\n});\nlayout.push({\n    title: \"粘贴\",\n    url: $(\"{{clipboard}}\").input(() => {\n        try {\n            let json = JSON.parse(input);\n            if (Array.isArray(json) || json.pattern == undefined) return;\n            let att = [\"name\", \"isRegex\", \"pattern\", \"replacement\"];\n            att.forEach(key => {\n                putMyVar(\".editReplaceRule.\" + key, String(json[key]));\n            });\n            refreshPage(false);\n        } catch (e) {\n            log(e.toString());\n        }\n    }),\n    col_type: \"text_2\"\n});\nlayout.push({\n    col_type: \"input\",\n    desc: \"替换规则名称\",\n    extra: {\n        titleVisible: false,\n        defaultValue: getMyVar(\".editReplaceRule.name\", replaceRule.name),\n        onChange: 'putMyVar(\".editReplaceRule.name\",input);'\n    }\n});\n\nlayout.push({\n    col_type: \"input\",\n    desc: \"替换规则\",\n    extra: {\n        titleVisible: false,\n        type: \"textarea\",\n        height: -1,\n        defaultValue: getMyVar(\".editReplaceRule.pattern\", replaceRule.pattern),\n        onChange: 'putMyVar(\".editReplaceRule.pattern\", input);'\n    }\n});\nlayout.push({\n    title: \"是否使用正则表达式：\" + getMyVar(\".editReplaceRule.isRegex\"),\n    url: $(\"#noLoading#\").lazyRule((id) => {\n        let isRegex = getMyVar(\".editReplaceRule.isRegex\") === \"true\" ? false : true;\n        updateItem({\n            extra: {\n                id: id\n            },\n            title: \"是否使用正则表达式：\" + isRegex\n        });\n        putMyVar(\".editReplaceRule.isRegex\", \"\" + isRegex);\n        return \"hiker://empty\";\n    }, id),\n    col_type: \"text_1\",\n    extra: {\n        id: id\n    }\n});\nlayout.push({\n    col_type: \"input\",\n    desc: \"替换为\",\n    extra: {\n        titleVisible: false,\n        type: \"textarea\",\n        height: -1,\n        defaultValue: getMyVar(\".editReplaceRule.replacement\", replaceRule.replacement),\n        onChange: 'putMyVar(\".editReplaceRule.replacement\",input);'\n    }\n});\nlayout.push({\n    title: \"保存\",\n    url: $(\"#noLoading#\").lazyRule((replaceRule, isNew, index) => {\n        let pattern = getMyVar(\".editReplaceRule.pattern\", \"\");\n        if (!pattern) {\n            return \"toast://替换规则不能为空\";\n        }\n        Object.assign(replaceRule, {\n            name: getMyVar(\".editReplaceRule.name\", \"\"),\n            isRegex: getMyVar(\".editReplaceRule.isRegex\") === \"true\" ? true : false,\n            pattern: pattern,\n            replacement: getMyVar(\".editReplaceRule.replacement\", \"\")\n        });\n        let ruleList = JSON.parse(readFile(\"replaceRule.json\") || \"[]\");\n        if (isNew == \"true\") {\n            ruleList.push(replaceRule);\n        } else {\n            ruleList.splice(index, 1, replaceRule);\n        }\n        saveFile(\"replaceRule.json\", JSON.stringify(ruleList));\n        back();\n        return \"toast://保存成功\";\n    }, replaceRule, isNew, index),\n    col_type: \"text_center_1\",\n});\n\n/*\nlayout.push({\n    col_type: \"input\",\n    desc: \"替换范围\",\n    extra: {\n        titleVisible: false,\n        type: \"textarea\",\n        height: -1,\n        defaultValue: \"\",\n        onChange: 'putMyVar(\".editReplaceRule.scope\",input);'\n    }\n});\n\n*/\nsetResult(layout);"},{"col_type":"movie_3","name":"#v.小说个性化净化","path":"NovelCustom.view","rule":"js:\nsetPageTitle(\"替换规则|\" + MY_PARAMS.name);\nlet ruleList = JSON.parse(readFile(\"replaceRule.json\") || \"[]\");\nlet id = \"#\" + new Date().getTime();\n\nconst bookInfo = Object.assign({\n    foot: 0,\n    isReplace: true,\n    selected: []\n}, JSON.parse(request(\"file://\" + MY_PARAMS.path + \"/bookInfo.json\") || \"{}\"));\n\nlet layout = [];\nlayout.push({\n    title: [\"☐净化\", \"☑净化\"][0 + bookInfo.isReplace],\n    url: $(\"#noLoading#\").lazyRule(($id, path) => {\n\n        var bookInfo = JSON.parse(request(\"file://\" + path + \"/bookInfo.json\") || \"{}\");\n        let isReplace = bookInfo.isReplace===undefined?true:bookInfo.isReplace;\n        bookInfo.isReplace = !isReplace;\n        writeFile(\"file://\" + path + \"/bookInfo.json\", JSON.stringify(bookInfo));\n        updateItem($id, {\n            title: isReplace ? \"☐净化\" : \"☑净化\",\n        });\n        return \"hiker://empty\";\n    }, id + \"#-1\", MY_PARAMS.path),\n    extra: {\n        id: id + \"#-1\"\n    },\n    col_type: \"text_2\"\n});\nlayout.push({\n    title: \"编辑规则\",\n    url: \"hiker://page/Setting/More.view#noRecordHistory##noHistory##noRefresh#?settingType=replaceRule\",\n    col_type: \"text_2\",\n    extra:{\n        isRefresh: true\n    }\n});\nfor (let i = 0, len = ruleList.length; i < len; i++) {\n    let replaceRule = ruleList[i];\n    let isTrue = bookInfo.selected.includes(replaceRule.id);\n    layout.push({\n        title: (isTrue ? \"●\" : \"○\") + replaceRule.name,\n        col_type: \"text_1\",\n        url: \"hiker://empty\",\n        y: 0,\n        extra: {\n            isTrue: isTrue,\n            id: id + i,\n            lineVisible: false\n        }\n    });\n    layout.push({\n        title: \"开启\",\n        url: $(\"#noLoading#\").lazyRule(($id, replaceRule, path) => {\n            if (findItem($id).extra.isTrue) {\n                return \"toast://已开启\";\n            }\n            const bookInfo = Object.assign({\n                selected: []\n            }, JSON.parse(request(\"file://\" + path + \"/bookInfo.json\") || \"{}\"));\n            bookInfo.selected.push(replaceRule.id);\n            updateItem($id, {\n                title: \"●\" + replaceRule.name,\n                extra: {\n                    isTrue: true,\n                    id: $id,\n                    lineVisible: false\n                }\n            });\n            writeFile(\"file://\" + path + \"/bookInfo.json\", JSON.stringify(bookInfo));\n            return \"hiker://empty\";\n        }, id + i, replaceRule, MY_PARAMS.path),\n        col_type: \"text_2\"\n    });\n    layout.push({\n        title: \"关闭\",\n        url: $(\"#noLoading#\").lazyRule(($id, replaceRule, path) => {\n            if (!findItem($id).extra.isTrue) {\n                return \"toast://已关闭\";\n            }\n            const bookInfo = Object.assign({\n                selected: []\n            }, JSON.parse(request(\"file://\" + path + \"/bookInfo.json\") || \"{}\"));\n            bookInfo.selected.splice(bookInfo.selected.indexOf(replaceRule.id), 1);\n            updateItem($id, {\n                title: \"○\" + replaceRule.name,\n                extra: {\n                    isTrue: false,\n                    id: $id,\n                    lineVisible: false\n                }\n            });\n            writeFile(\"file://\" + path + \"/bookInfo.json\", JSON.stringify(bookInfo));\n            return \"hiker://empty\";\n        }, id + i, replaceRule, MY_PARAMS.path),\n        col_type: \"text_2\"\n    });\n    layout.push({\n        col_type: \"line_blank\"\n    });\n}\n\nsetResult(layout);"},{"col_type":"movie_3","name":"#v.外导TXT","path":"externalimportTxt.view","rule":"js:\nfunction txtView(layout) {\n    const File = $.require(\"hiker://page/File.js\");\n    const Config = $.require(\"hiker://page/Config.json\");\n    let files = File.getFilePath(Config.externalImportPath, undefined, \".txt\");\n    setPageTitle(\"TXT阅读器\");\n    //let layout = [];\n    layout.push({\n        url: '\"hiker://page/txtSearch.view#noRefresh#?searchTerms=\"+encodeURIComponent(input)',\n        desc: \"TXT搜索\",\n        title: \"🔍\",\n        col_type: \"input\",\n        extra: {\n            defaultValue: getMyVar(\"searchKeyByTxt\", \"\"),\n            onChange: \"putMyVar('searchKeyByTxt',input)\"\n        }\n    });\n    layout.push({\n        title: \"导入TXT\",\n        col_type: \"text_2\",\n        url: $([\"系统选择器\", \"海阔选择器\"], 1, \"选择器类型\").select(() => {\n            if (input === \"系统选择器\") {\n                return \"fileSelect://\" + $.toString(() => {\n                    if (!/(\\.txt)$/i.test(input)) {\n                        toast(\"选择了错误的文件类型\");\n                        return;\n                    }\n                    const Config = $.require(\"hiker://page/Config.json\");\n                    let novelName = input.match(/\\/([^\\/]*?)(\\.txt)$/i)[1].replace(\"_fileSelect_\", \"\");\n                    let topath = Config.externalImportPath + novelName + \".txt\";\n                    let path = input.replace(\"file://\", \"\");\n                    if (fileExist(\"file://\" + topath)) {\n                        confirm({\n                            title: \"导入提示\",\n                            content: \"已存在[\" + novelName + \"]是否覆盖?\",\n                            confirm: $.toString((path, topath) => {\n                                const File = $.require(\"hiker://page/File.js\");\n                                File.copyFile(path, topath, true);\n                                if (fileExist(\"file://\" + topath + \".json\")) {\n                                    File.deleteFiles(topath + \".json\");\n                                }\n                                refreshPage(false);\n                                return \"toast://导入成功\";\n                            }, path, topath)\n                        });\n                        return;\n                    } else {\n                        const File = $.require(\"hiker://page/File.js\");\n                        File.copyFile(path, topath);\n                        if (fileExist(\"file://\" + topath + \".json\")) {\n                            File.deleteFiles(topath + \".json\");\n                        }\n                        refreshPage(false);\n                        toast(\"导入成功\");\n                        return;\n                    }\n                });\n            } else {\n                let requireUrl = \"http://hiker.nokia.press/hikerule/rulelist.json?id=5099\";\n                let fileSelect = require(requireUrl);\n                return fileSelect.fileSelectionUri({\n                    callback: $.toString(() => {\n                        const Config = $.require(\"hiker://page/Config.json\");\n                        let novelName = PATH.match(/\\/([^\\/]*?)(\\.txt)$/i)[1];\n                        let topath = Config.externalImportPath + novelName + \".txt\";\n                        let path = PATH;\n                        if (fileExist(\"file://\" + topath)) {\n                            return $(\"已存在[\" + novelName + \"]是否覆盖?\").confirm((path, topath) => {\n                                const File = $.require(\"hiker://page/File.js\");\n                                File.copyFile(path, topath, true);\n                                if (fileExist(\"file://\" + topath + \".json\")) {\n                                    File.deleteFiles(topath + \".json\");\n                                }\n                                back();\n                                return \"toast://导入成功\";\n                            }, path, topath);\n                        } else {\n                            const File = $.require(\"hiker://page/File.js\");\n                            File.copyFile(path, topath);\n                            if (fileExist(\"file://\" + topath + \".json\")) {\n                                File.deleteFiles(topath + \".json\");\n                            }\n                            back();\n                            return \"toast://导入成功\";\n                        }\n                    }),\n                    requireUrl: requireUrl,\n                    fileType: \".txt\",\n                    onClickType: \"confirm\",\n                    memory: \"selectPathCache1\"\n                });\n            }\n        }),\n        extra: {\n            lineVisible: false\n        }\n    });\n    let options = [\"阅读\", \"分享\", \"删除\", \"打开方式\"];\n\n    let pattern = getMyVar(\":txtPattern\", options[0]);\n    let id = Date.now() + \":模式\";\n    layout.push({\n        title: pattern,\n        col_type: \"text_2\",\n        url: $(options, 1, \"操作模式\").select((id) => {\n            putMyVar(\":txtPattern\", input);\n            updateItem(id, {\n                title: input\n            });\n        }, id),\n        extra: {\n            id: id\n        }\n    })\n    layout.push({\n        col_type: \"line_blank\"\n    });\n\n    function operation(path, name) {\n        let pattern = getMyVar(\":txtPattern\", \"阅读\");\n        switch (pattern) {\n            case \"分享\":\n                return \"share://\" + path;\n                break;\n            case \"删除\":\n                return $(\"确认删除[\" + name + \"]\").confirm((path) => {\n                    const File = $.require(\"hiker://page/File.js\");\n                    if (File.deleteFiles(path)) {\n                        if (fileExist(\"file://\" + path + \".json\")) {\n                            File.deleteFiles(path + \".json\");\n                        }\n                        refreshPage();\n                        return \"toast://删除成功\";\n                    } else {\n                        return \"toast://删除失败\";\n                    }\n                }, path);\n                break;\n            case \"阅读\":\n                return \"hiker://page/txtParser.view?rule=\" + MY_RULE.title;\n                break;\n            case \"打开方式\":\n                return \"openFile://file://\" + path;\n                break;\n        }\n    }\n\n    for (let novel of files) {\n        layout.push({\n            title: novel.name,\n            url: $(\"#noLoading#\").lazyRule(operation, novel.path, novel.name),\n            desc: \"大小：\" + File.getFileSize(novel.path) + \"\\n修改时间：\" + $.dateFormat(novel.lastModified, \"yyyy-MM-dd HH:mm:ss\"),\n            col_type: \"text_1\",\n            extra: {\n                path: novel.path,\n                isCache: true,\n                title: novel.name\n            }\n        });\n    }\n    if (files.length === 0) {\n        layout.push({\n            title: \"设置\",\n            url: \"hiker://page/Setting.view#noRefresh##noRecordHistory##noHistory#\",\n            col_type: \"text_2\",\n            extra: {\n                version: MY_RULE.version\n            }\n        });\n\n        layout.push({\n            title: \"““帮助””\",\n            url: \"hiker://page/help.view#noRefresh##noRecordHistory##noHistory#?keyword=txt\",\n            col_type: \"text_2\"\n        });\n        layout.push({\n            title: '<h1 style=\"text-align: center;\">啥都没有耶</h1>',\n            col_type: \"rich_text\"\n        });\n    }\n    setResult(layout);\n}\nif ($.importParam === undefined) {\n    $.exports = txtView;\n} else if ($.importParam === null) {\n    setResult(txtView([]));\n}"},{"col_type":"movie_3","name":"#v.TXT解析器","path":"txtParser.view","rule":"js:\n(function() {\n    let regs = $.require(\"hiker://page/regularChapter.f\");\n    let path = decodeURIComponent(getParam(\"path\") || \"\") || MY_PARAMS.path;\n    let charst = decodeURIComponent(getParam(\"charst\") || \"\") || MY_PARAMS.charst || \"UTF-8\";\n    let isCache = MY_PARAMS.isCache;\n    if (!path.startsWith(\"file://\")) {\n        path = \"file://\" + path;\n    }\n    if(MY_PARAMS.title){\n        setPageTitle(MY_PARAMS.title);\n    }else{\n        setPageTitle($.require(\"hiker://page/File.js\").getName(path));\n    }\n    let layout = [];\n    let chapterNames = [];\n    let intervals = [];\n    let hasPreface = false;\n    if (fileExist(path + \".json\") && isCache) {\n        try {\n\n            let c = JSON.parse(request(path + \".json\"));\n            chapterNames = c.chapterNames;\n            intervals = c.intervals;\n            hasPreface = c.hasPreface;\n            layout.push({\n                title: \"重新解析目录\",\n                col_type: \"text_center_1\",\n                url: $(\"#noLoading#\").lazyRule((path) => {\n                    deleteFile(path);\n                    refreshPage();\n                    return \"hiker://empty\";\n                }, path+\".json\"),\n                extra: {\n                    lineVisible:false\n                }\n            });\n            layout.push({\n                col_type:\"line_blank\"\n            });\n        } catch (e) {\n            log(e.toString());\n            setResult([{\n                title: \"““””<strong>目录解析失败(重新解析)</strong>\".big(),\n                col_type: \"text_center_1\",\n                url: $(\"#noLoading#\").lazyRule((path) => {\n                    deleteFile(path);\n                    refreshPage();\n                    return \"hiker://empty\";\n                }, path+\".json\"),\n                extra: {\n                    lineVisible: false\n                }\n            }]);\n            return;\n        }\n\n    } else {\n        showLoading(\"正在解析目录\");\n        let txt = request(path, {\n            headers: {\n                //\"content-type\": \"text/plain; charst=\" + charst\n            }\n        });\n        let pattern = regs.getTocRule(txt);\n        if (!pattern) {\n            hideLoading();\n            setResult([{\n                title: \"““””<strong>目录解析失败</strong>\".big(),\n                col_type: \"text_center_1\",\n                url: $(\"#noLoading#\").lazyRule(() => {\n                    back(false);\n                    return \"hiker://empty\";\n                }),\n                extra: {\n                    lineVisible: false\n                }\n            }]);\n            return;\n        }\n        let matcher = pattern.matcher(txt);\n        let pointer = 0;\n        while (matcher.find()) {\n            let start = matcher.start();\n            let end = matcher.end();\n            let t = matcher.group();\n            if (pointer === 0 && start > 30) {\n                hasPreface = true;\n            }\n            chapterNames.push(t);\n            intervals.push([pointer, start]);\n            pointer = end;\n        }\n        intervals.push([pointer, txt.length]);\n        if (isCache) {\n            writeFile(path + \".json\", JSON.stringify({\n                chapterNames: chapterNames,\n                intervals: intervals,\n                hasPreface: hasPreface\n            }));\n        }\n        hideLoading();\n    }\n\n\n    if (hasPreface) {\n        let interval = intervals[0];\n        layout.push({\n            title: \"序言\",\n            col_type: \"text_1\",\n            url: \"hiker://page/TXTViewer.view#autoPage##readTheme#\",\n            extra: {\n                chapterName: \"序言\",\n                start: interval[0],\n                end: interval[1],\n                path: path,\n                charst: charst\n            }\n        });\n    }\n    for (let i = 0; i < chapterNames.length; i++) {\n        let name = chapterNames[i];\n        let interval = intervals[i + 1];\n        layout.push({\n            title: name,\n            col_type: \"text_1\",\n            url: \"hiker://page/TXTViewer.view#autoPage##readTheme#\",\n            extra: {\n                start: interval[0],\n                end: interval[1],\n                chapterName: name,\n                path: path,\n                charst: charst\n            }\n        });\n    }\n    setResult(layout);\n})()"},{"col_type":"movie_3","name":"#v.TXT查看器","path":"TXTViewer.view","rule":"js:\nlet path = MY_PARAMS.path;\nlet charst = MY_PARAMS.charst;\nlet txt = request(path, {\n    headers: {\n       //\"content-type\": \"text/plain; charst=\" + charst\n    }\n});\n\nlet targetTexts = txt.substring(MY_PARAMS.start, MY_PARAMS.end);\n\nlet content = targetTexts.split(/(\\n|\\r)+/).filter(it => it.length > 1).join(\"<br>\");\nlet layout = [];\nlayout.push({\n    col_type: \"rich_text\",\n    title: (\"<strong>\" + MY_PARAMS.chapterName + \"</strong>\").big(),\n});\n\nlayout.push({\n    title: content,\n    col_type: 'rich_text',\n    extra: {\n        textSize: 18,\n        click: true\n    }\n});\nsetResult(layout);"},{"col_type":"movie_3","name":"#j.章节正则","path":"regularChapter.f","rule":"js:\nlet rules = [{\n        \"id\": -1,\n        \"enable\": true,\n        \"name\": \"目录(去空白)\",\n        \"rule\": \"(?<=[　\\\\s])(?:序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|第?\\\\s{0,4}[\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]+?\\\\s{0,4}(?:章|节(?!课)|卷|集(?![合和]))).{0,30}$\",\n        \"example\": \"第一章 假装第一章前面有空白但我不要\",\n        \"serialNumber\": 0\n    },\n    {\n        \"id\": -2,\n        \"enable\": true,\n        \"name\": \"目录\",\n        \"rule\": \"^[ 　\\\\t]{0,4}(?:序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|第?\\\\s{0,4}[\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]+?\\\\s{0,4}(?:章|节(?!课)|卷|集(?![合和])|部(?![分赛游])|篇(?!张))).{0,30}$\",\n        \"example\": \"第一章 标准的粤语就是这样\",\n        \"serialNumber\": 1\n    },\n    {\n        \"id\": -3,\n        \"enable\": false,\n        \"name\": \"目录(匹配简介)\",\n        \"rule\": \"(?<=[　\\\\s])(?:(?:内容|文章)?简介|文案|前言|序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|第?\\\\s{0,4}[\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]+?\\\\s{0,4}(?:章|节(?!课)|卷|集(?![合和])|部(?![分赛游])|回(?![合来事去])|场(?![和合比电是])|篇(?!张))).{0,30}$\",\n        \"example\": \"简介 老夫诸葛村夫\",\n        \"serialNumber\": 2\n    },\n    {\n        \"id\": -4,\n        \"enable\": false,\n        \"name\": \"目录(古典、轻小说备用)\",\n        \"rule\": \"^[ 　\\\\t]{0,4}(?:序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|第?\\\\s{0,4}[\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]+?\\\\s{0,4}(?:章|节(?!课)|卷|集(?![合和])|部(?![分赛游])|回(?![合来事去])|场(?![和合比电是])|话|篇(?!张))).{0,30}$\",\n        \"example\": \"第一章 比上面只多了回和话\",\n        \"serialNumber\": 3\n    },\n    {\n        \"id\": -5,\n        \"enable\": false,\n        \"name\": \"数字(纯数字标题)\",\n        \"rule\": \"(?<=[　\\\\s])\\\\d+\\\\.?[ 　\\\\t]{0,4}$\",\n        \"example\": \"12\",\n        \"serialNumber\": 4\n    },\n    {\n        \"id\": -6,\n        \"enable\": false,\n        \"name\": \"大写数字(纯数字标题)\",\n        \"rule\": \"(?<=[　\\\\s])[〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,12}[ 　\\\\t]{0,4}$\",\n        \"example\": \"一百七十\",\n        \"serialNumber\": 4\n    },\n    {\n        \"id\": -7,\n        \"enable\": true,\n        \"name\": \"数字 分隔符 标题名称\",\n        \"rule\": \"^[ 　\\\\t]{0,4}\\\\d{1,5}[:：,.， 、_—\\\\-].{1,30}$\",\n        \"example\": \"1、这个就是标题\",\n        \"serialNumber\": 5\n    },\n    {\n        \"id\": -8,\n        \"enable\": true,\n        \"name\": \"大写数字 分隔符 标题名称\",\n        \"rule\": \"^[ 　\\\\t]{0,4}(?:序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|[〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8})[ 、_—\\\\-].{1,30}$\",\n        \"example\": \"一、只有前面的数字有差别\",\n        \"serialNumber\": 6\n    },\n    {\n        \"id\": -9,\n        \"enable\": true,\n        \"name\": \"正文 标题/序号\",\n        \"rule\": \"^[ 　\\\\t]{0,4}正文[ 　]{1,4}.{0,20}$\",\n        \"example\": \"正文 我奶常山赵子龙\",\n        \"serialNumber\": 7\n    },\n    {\n        \"id\": -10,\n        \"enable\": true,\n        \"name\": \"Chapter/Section/Part/Episode 序号 标题\",\n        \"rule\": \"^[ 　\\\\t]{0,4}(?:[Cc]hapter|[Ss]ection|[Pp]art|ＰＡＲＴ|[Nn][oO]\\\\.|[Ee]pisode|(?:内容|文章)?简介|文案|前言|序章|楔子|正文(?!完|结)|终章|后记|尾声|番外)\\\\s{0,4}\\\\d{1,4}.{0,30}$\",\n        \"example\": \"Chapter 1 MyGrandmaIsNB\",\n        \"serialNumber\": 8\n    },\n    {\n        \"id\": -11,\n        \"enable\": false,\n        \"name\": \"Chapter(去简介)\",\n        \"rule\": \"^[ 　\\\\t]{0,4}(?:[Cc]hapter|[Ss]ection|[Pp]art|ＰＡＲＴ|[Nn][Oo]\\\\.|[Ee]pisode)\\\\s{0,4}\\\\d{1,4}.{0,30}$\",\n        \"example\": \"Chapter 1 MyGrandmaIsNB\",\n        \"serialNumber\": 9\n    },\n    {\n        \"id\": -12,\n        \"enable\": true,\n        \"name\": \"特殊符号 序号 标题\",\n        \"rule\": \"(?<=[\\\\s　])[【〔〖「『〈［\\\\[](?:第|[Cc]hapter)[\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,10}[章节].{0,20}$\",\n        \"example\": \"【第一章 后面的符号可以没有\",\n        \"serialNumber\": 10\n    },\n    {\n        \"id\": -13,\n        \"enable\": false,\n        \"name\": \"特殊符号 标题(成对)\",\n        \"rule\": \"(?<=[\\\\s　]{0,4})(?:[\\\\[〈「『〖〔《（【\\\\(].{1,30}[\\\\)】）》〕〗』」〉\\\\]]?|(?:内容|文章)?简介|文案|前言|序章|楔子|正文(?!完|结)|终章|后记|尾声|番外)[ 　]{0,4}$\",\n        \"example\": \"『加个直角引号更专业』\",\n        \"serialNumber\": 11\n    },\n    {\n        \"id\": -14,\n        \"enable\": true,\n        \"name\": \"特殊符号 标题(单个)\",\n        \"rule\": \"(?<=[\\\\s　]{0,4})(?:[☆★✦✧].{1,30}|(?:内容|文章)?简介|文案|前言|序章|楔子|正文(?!完|结)|终章|后记|尾声|番外)[ 　]{0,4}$\",\n        \"example\": \"☆、晋江作者最喜欢的格式\",\n        \"serialNumber\": 12\n    },\n    {\n        \"id\": -15,\n        \"enable\": true,\n        \"name\": \"章/卷 序号 标题\",\n        \"rule\": \"^[ \\\\t　]{0,4}(?:(?:内容|文章)?简介|文案|前言|序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|[卷章][\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8})[ 　]{0,4}.{0,30}$\",\n        \"example\": \"卷五 开源盛世\",\n        \"serialNumber\": 13\n    },\n    {\n        \"id\": -16,\n        \"enable\": false,\n        \"name\": \"顶格标题\",\n        \"rule\": \"^\\\\S.{1,20}$\",\n        \"example\": \"不超过20个字顶格写的都是标题\",\n        \"serialNumber\": 14\n    },\n    {\n        \"id\": -17,\n        \"enable\": false,\n        \"name\": \"双标题(前向)\",\n        \"rule\": \"(?m)(?<=[ \\\\t　]{0,4})第[\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}章.{0,30}$(?=[\\\\s　]{0,8}第[\\\\d零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}章)\",\n        \"example\": \"第一章 真正的标题并假装换行第一章 这个不要\",\n        \"serialNumber\": 15\n    },\n    {\n        \"id\": -18,\n        \"enable\": false,\n        \"name\": \"双标题(后向)\",\n        \"rule\": \"(?m)(?<=[ \\\\t　]{0,4}第[\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}章.{0,30}$[\\\\s　]{0,8})第[\\\\d零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}章.{0,30}$\",\n        \"example\": \"第一章 这个标题不要并假装换行第一章真正的标题\",\n        \"serialNumber\": 16\n    },\n    {\n        \"id\": -19,\n        \"enable\": true,\n        \"name\": \"书名 括号 序号\",\n        \"rule\": \"^.{1,20}[(（][\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}[)）][ 　\\t]{0,4}$\",\n        \"example\": \"标题后面数字有括号(12)\",\n        \"serialNumber\": 17\n    },\n    {\n        \"id\": -20,\n        \"enable\": true,\n        \"name\": \"书名 序号\",\n        \"rule\": \"^.{1,20}[\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}[ 　\\t]{0,4}$\",\n        \"example\": \"标题后面数字没有括号124\",\n        \"serialNumber\": 18\n    }\n];\nlet Matcher = java.util.regex.Matcher;\nlet Pattern = java.util.regex.Pattern;\n\nfunction getTocRule(content) {\n    let maxCs = 1;\n    let tocPattern = null;\n    for (let tocRule of rules) {\n        if (!tocRule.enable) continue;\n        let pattern = Pattern.compile(tocRule.rule, Pattern.MULTILINE);\n        let matcher = pattern.matcher(content);\n        let cs = 0;\n        while (matcher.find()) {\n            cs++;\n        }\n        if (cs >= maxCs) {\n            maxCs = cs;\n            tocPattern = pattern;\n        }\n    }\n    return tocPattern;\n}\n$.exports.getTocRule = getTocRule;"},{"col_type":"movie_3","name":"#V.帮助","path":"help.view","rule":"js:\nlet helpText = {\n    \"txt\": `\n        <h1 id=\"txt是什么\">TXT是什么?</h1>\n        <p><a href=\"https://baike.baidu.com/item/txt/1217330\">我已经帮你百度了</a>；简单来说就是一种储存小说的文件(扩展名:txt)。</p>\n        <h1 id=\"如何用该小程序阅读txt小说\">如何用该小程序阅读txt小说?</h1>\n        <p>在主页面 ◉TXT 界面下，点击导入TXT，选择目标小说文件(txt文件，<em>该操作不会删除txt文件，而是copy一份到小程序的路径下</em>)，导入后再在 ◉TXT 界面下选择想要阅读的小说即可。</p>\n\n    `,\n    \"novelComic\": `\n        <h1 id=\"这个小程序有什么用？\">这个小程序有什么用？</h1>\n        <ul>\n        <li><u>代码上为其他小程序(漫画类/小说类)提供下载接口。</u></li>\n        <li><u>本体充当阅读器，可以浏览用该小程序提供的下载接口(上面)，下载的漫画/小说。</u></li>\n        <li><u>提供TXT格式小说文件解析功能。</u>\n        <h1 id=\"为什么列表里什么都没用\">为什么列表里什么都没用?</h1>\n        <u>初次使用，没有很正常吧。🤔</u>\n        <h1 id=\"该如何添加漫画或小说\">该如何添加漫画(或小说)?</h1>\n        <u> 在一个有下载功能的小程序(漫画类/小说类)中下载一本漫画/小说，返回该规则即可浏览。</u></li>\n        </ul>\n    `\n};\nsetPageTitle(\"帮助\");\nlet keyword = getParam(\"keyword\");\nlet text;\nif (keyword === undefined || !(text = helpText[keyword])) {\n    setResult([{\n        title: '<h1 style=\"text-align: center;\">资料不见咯</h1>',\n        col_type: \"rich_text\"\n    }]);\n} else {\n    setResult([{\n        title: text,\n        col_type: \"rich_text\"\n    }]);\n}"},{"col_type":"text_1","name":"#v.TXT搜索","path":"txtSearch.view","rule":"js:\nconst File = $.require(\"hiker://page/File.js\");\nconst Config = $.require(\"hiker://page/Config.json\");\n\nlet searchTerms = decodeURIComponent(getParam(\"searchTerms\"));\nsetPageTitle(\"「\" + searchTerms + \"」的搜索结果\");\nlet data = File.getFilePath(Config.externalImportPath, undefined, \".txt\");\nlet termsArr = searchTerms.split(\"\").map(t => t.replace(/\\*|\\.|\\?|\\+|\\$|\\^|\\[|\\]|\\(|\\)|\\{|\\}|\\||\\/|\\\\/g, k => \"\\\\\" + k));\nlet reg = new RegExp(termsArr.join(\".*\"), \"i\");\nlet searchResult = [];\nfor (let txt of data) {\n    if (reg.test(txt.name)) {\n        searchResult.push({\n            title: txt.name,\n            url: \"hiker://page/txtParser.view\",\n            desc: txt.path,\n            extra: {\n                path: txt.path,\n                isCache: true,\n                title: txt.name\n            }\n        });\n    }\n}\nif (searchResult.length === 0) {\n    searchResult.push({\n        col_type:\"big_big_blank_block\",\n    },{\n        col_type:\"big_big_blank_block\",\n    },{\n        col_type:\"big_big_blank_block\",\n    },{\n        col_type:\"big_big_blank_block\",\n    },{\n        title: '<h2 style=\"text-align: center;\">🔎没有找到相关书籍</h2>',\n        col_type: \"rich_text\"\n    });\n}\nsetResult(searchResult);"}],"title":"本地资源管理","author":"@LoyDgIk","version":71,"type":"tool","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n\nif (!getItem(\":startUse\", false)) {\n    toast(\":-)初次见面，请多关照\");\n    confirm({\n        title: \"使用须知\",\n        content: \"1.普通用户：本程序只提供本地阅读服务，不提供网络内容。\\n\\n2.开发者：提供多线程下载支持。\\n\\n3.如何获取内容?\\n通过「聚漫」「道长合集」等第三方小程序下载。\",\n        confirm: \"setItem(':startUse','1');refreshPage();'toast://感谢您的理解'\",\n        cancel: \"'toast://很遗憾，不能为您服务。\\\\n长按标题可删除。'\"\n    });\n    setResult([]);\n} else if (MY_RULE.title !== \"本地资源管理\") {\n    confirm({\n        title: \"警告⚠\",\n        content: \"不能改名哦！\",\n        confirm: $.toString(() => {\n            MY_RULE.title = \"本地资源管理\";\n            toast(\"已帮你改回原名，请重新导入\");\n            return \"rule://\" + base64Encode(\"海阔视界￥home_rule￥\" + JSON.stringify(MY_RULE));\n        }),\n        cancel: \"'toast://很遗憾，不能为您服务。\\\\n长按标题可删除。'\"\n    });\n    setResult([]);\n} else {\n    $.require(\"hiker://page/Main.view\");\n}","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"#f.File工具\",\"path\":\"File.js\",\"rule\":\"const File = java.io.File;\\nconst {\\n    Files,\\n    Paths,\\n    StandardCopyOption,\\n    StandardOpenOption\\n} = java.nio.file;\\nconst javaString = java.lang.String;\\nlet javaScope = new JavaImporter(java.io, java.lang, java.lang.reflect, java.util.Vector);\\n\\nfunction deleteFiles(fileName) {\\n    let file = new File(fileName);\\n    if (!file.exists()) {\\n        //log(\\\"删除文件失败：\\\" + fileName + \\\"文件不存在\\\");\\n        return false;\\n    } else {\\n        if (file.isFile()) {\\n            return deleteFile(fileName);\\n        } else {\\n            return deleteDirectory(fileName);\\n        }\\n\\n    }\\n\\n}\\n/**\\n * 删除单个文件\\n * \\n * @param fileName\\n *            被删除文件的文件名\\n * @return 单个文件删除成功返回true,否则返回false\\n */\\nfunction deleteFile(fileName) {\\n    let file = new File(fileName);\\n    if (file.isFile() && file.exists()) {\\n        file.delete();\\n        //log(\\\"删除单个文件\\\" + fileName + \\\"成功！\\\");\\n        return true;\\n    } else {\\n        //log(\\\"删除单个文件\\\" + fileName + \\\"失败！\\\");\\n        return false;\\n    }\\n\\n}\\n/**\\n * 删除目录（文件夹）以及目录下的文件\\n * \\n * @param dir\\n *            被删除目录的文件路径\\n * @return 目录删除成功返回true,否则返回false\\n */\\nfunction deleteDirectory(dir) {\\n    // 如果dir不以文件分隔符结尾，自动添加文件分隔符\\n    if (!dir.endsWith(File.separator)) {\\n        dir = dir + File.separator;\\n    }\\n    let dirFile = new File(dir);\\n    // 如果dir对应的文件不存在，或者不是一个目录，则退出\\n    if (!dirFile.exists() || !dirFile.isDirectory()) {\\n        //log(\\\"删除目录失败\\\" + dir + \\\"目录不存在！\\\");\\n        return false;\\n    }\\n    let flag = true;\\n    // 删除文件夹下的所有文件(包括子目录)\\n    let files = dirFile.listFiles();\\n    for (let i = 0; i < files.length; i++) {\\n        // 删除子文件\\n        if (files[i].isFile()) {\\n            flag = deleteFile(files[i].getAbsolutePath());\\n            if (!flag) {\\n                break;\\n            }\\n        } else { // 删除子目录\\n            flag = deleteDirectory(files[i].getAbsolutePath());\\n            if (!flag) {\\n                break;\\n            }\\n        }\\n    }\\n    if (!flag) {\\n        //log(\\\"删除目录失败\\\");\\n        return false;\\n    }\\n    // 删除当前目录\\n    if (dirFile.delete()) {\\n        //log(\\\"删除目录\\\" + dir + \\\"成功！\\\");\\n        return true;\\n    } else {\\n        //log(\\\"删除目录\\\" + dir + \\\"失败！\\\");\\n        return false;\\n    }\\n}\\n\\n//copy单个文件\\nfunction copyFile(source, target, isCover) {\\n    let sourcePath = Paths.get(source);\\n    let targetPath = Paths.get(target);\\n    let isExist = Files.exists(targetPath);\\n    if (Files.isDirectory(sourcePath) || (isExist && !isCover) || (isExist && Files.isDirectory(targetPath))) {\\n        return false;\\n    }\\n    try {\\n        if (!isExist) {\\n            Files.createDirectories(targetPath.getParent());\\n        }\\n        if (isCover === true) {\\n            Files.copy(sourcePath, targetPath, StandardCopyOption.REPLACE_EXISTING, StandardCopyOption.COPY_ATTRIBUTES);\\n        } else {\\n            Files.copy(sourcePath, targetPath, StandardCopyOption.COPY_ATTRIBUTES);\\n        }\\n    } catch (e) {\\n        return false;\\n    }\\n}\\n\\nfunction getFileTime(path) {\\n    let file = new File(path);\\n    let lastModified = file.lastModified();\\n    let date = new Date(lastModified);\\n    return date.getTime();\\n}\\n\\nfunction getName(path) {\\n    return new File(path).getName() + \\\"\\\";\\n}\\n\\nfunction getFilePath(path, type, expand) {\\n    type = type || \\\"file\\\";\\n    if (![\\\"file\\\", \\\"dir\\\"].includes(type)) throw new Error(\\\"类型错误\\\");\\n    let fileType = type === \\\"file\\\" ? \\\"isFile\\\" : \\\"isDirectory\\\";\\n    let file = new File(path);\\n    let array = file.listFiles() || [];\\n    let pathList = [];\\n    for (let i = 0; i < array.length; i++) {\\n        if (array[i][fileType]()) {\\n            pathList.push({\\n                name: array[i].getName() + \\\"\\\",\\n                path: array[i].getPath() + \\\"\\\",\\n                lastModified: Number(array[i].lastModified()),\\n\\n            });\\n        }\\n    }\\n    if (expand) {\\n        pathList = pathList.filter(it => it.name.endsWith(expand));\\n    }\\n    return pathList;\\n}\\n\\nfunction renameFile(fromPath, name) {\\n    let fromFile = new File(fromPath);\\n    let toFile = new File(fromFile.getParent() + \\\"/\\\" + name);\\n    try {\\n        if (!fromFile.exists()) {\\n            return false;\\n        }\\n        if (toFile.exists()) {\\n            if (!deleteFlies(toPath)) {\\n                return false;\\n            }\\n        }\\n        Files.move(fromFile.toPath(), toFile.toPath(), StandardCopyOption.REPLACE_EXISTING);\\n        return true;\\n    } catch (e) {\\n        log(e.toString());\\n        return false;\\n    }\\n}\\n\\nfunction moveFiles(fromPath, toPath) {\\n    let fromFile = new File(fromPath);\\n    let toFile = new File(toPath);\\n    try {\\n        if (!fromFile.exists()) {\\n            return false;\\n        }\\n        if (toFile.exists()) {\\n            if (!deleteFlies(toPath)) {\\n                return false;\\n            }\\n        }\\n        Files.move(fromFile.toPath(), toFile.toPath(), StandardCopyOption.REPLACE_EXISTING);\\n        return true;\\n    } catch (e) {\\n        log(e.toString());\\n        return false;\\n    }\\n}\\n\\nfunction fileWrite(path, content) {\\n    writeFile(\\\"file://\\\" + path, content)\\n}\\n\\nfunction fileWriteAppend(path, content) {\\n    let file = new File(path);\\n    let paths = file.toPath();\\n    if (file.exists()) {\\n        Files.write(paths, new javaString(content).getBytes(), StandardOpenOption.APPEND);\\n    } else {\\n        writeFile(\\\"file://\\\" + path, content);\\n    }\\n}\\n\\nfunction getTotalSizeOfFilesInDir(file) {\\n    if (file.isFile()) {\\n        return file.length();\\n    }\\n    let children = file.listFiles();\\n    let total = 0;\\n    if (children != null) {\\n        for (let child of children) {\\n            total += getTotalSizeOfFilesInDir(child);\\n        }\\n    }\\n    return total;\\n}\\n\\nfunction getFileSize(filePath) {\\n    //Byte\\n    let size = getTotalSizeOfFilesInDir(new File(filePath));\\n    if (size < 0) {\\n        return null;\\n    }\\n    let unitForm = [\\\"Byte\\\", \\\"KB\\\", \\\"MB\\\", \\\"GB\\\", \\\"TB\\\"];\\n    for (let i = 0, len = unitForm.length; i < len; i++) {\\n        if (size > 1024) {\\n            size /= 1024;\\n            continue;\\n        } else {\\n            return size.toFixed(2).replace(/(\\\\.00)$/, \\\"\\\") + unitForm[i];\\n        }\\n    }\\n    return \\\"ERROR:数值过大\\\";\\n}\\n//完整合并\\n/*\\nfunction fileCombine(filesInput, fileOut, extension, intercept) {\\n    with(javaScope) {\\n        const TMP_BUFFER_SIZE = 0x30000;\\n        const BUFFER_SIZE = 0x300000;\\n        //合并临时文件\\n        let inputFile = new File(filesInput);\\n        let tmpFile = new File(fileOut + \\\".tmp\\\");\\n        let tos = new BufferedOutputStream(new FileOutputStream(tmpFile));\\n        let inputFiles = inputFile.listFiles();\\n        let tbys = Array.newInstance(Byte.TYPE, TMP_BUFFER_SIZE);\\n        for (let file of inputFiles) {\\n            if (file.getName().endsWith(extension)) {\\n                let is = new FileInputStream(file);\\n                let len = 0;\\n                while ((len = is.read(tbys)) != -1) {\\n                    tos.write(tbys, 0, len);\\n                }\\n                is.close();\\n            }\\n        }\\n        tos.close();\\n        //规则替换规则;\\n        let outFile = new File(fileOut);\\n        if (typeof intercept === \\\"function\\\") {\\n            let tis = new FileInputStream(tmpFile);\\n            let os = new BufferedOutputStream(new FileOutputStream(outFile));\\n            let len = 0;\\n            let bys = Array.newInstance(Byte.TYPE, BUFFER_SIZE);\\n            while ((len = tis.read(bys)) != -1) {\\n                let nbys = intercept(new String(bys,0,len));\\n                os.write(nbys, 0, nbys.length);\\n            }\\n            tmpFile.delete();\\n            tis.close();\\n            os.close();\\n        } else {\\n            if (outFile.exists()) {\\n                outFile.delete();\\n            }\\n            tmpFile.renameTo(outFile);\\n        }\\n    }\\n}*/\\n//残\\nfunction fileRule(filesInput, fileOut, intercept) {\\n    with(javaScope) {\\n        const BUFFER_SIZE = 0x300000;\\n        let tmpFile = new File(filesInput);\\n        if (!(tmpFile.exists() && tmpFile.isFile())) {\\n            return false;\\n        }\\n        let outFile = new File(fileOut);\\n\\n        let tis = new FileInputStream(tmpFile);\\n        let os = new BufferedOutputStream(new FileOutputStream(outFile));\\n        let len = 0;\\n        let bys = Array.newInstance(Byte.TYPE, BUFFER_SIZE);\\n        while ((len = tis.read(bys)) != -1) {\\n            let nbys = intercept(new String(bys, 0, len));\\n            os.write(nbys, 0, nbys.length);\\n        }\\n        tmpFile.delete();\\n        tis.close();\\n        os.close();\\n        return true;\\n    }\\n}\\n\\nfunction readFile(path) {\\n    try {\\n        let paths = Paths.get(path);\\n        if (!Files.exists(paths)) return \\\"\\\";\\n        return String(new javaString(Files.readAllBytes(paths)));\\n    } catch {\\n        return \\\"\\\";\\n    }\\n}\\n$.exports = {\\n    getFileTime: (path) => getFileTime(path),\\n    getFilePath: (path, type, expand) => getFilePath(path, type, expand),\\n    deleteFiles: (path) => deleteFiles(path),\\n    renameFile: (path, name) => renameFile(path, name),\\n    moveFiles: (fromPath, toPath) => moveFiles(fromPath, toPath),\\n    fileWrite: (path, content) => fileWrite(path, content),\\n    fileWriteAppend: (path, content) => fileWriteAppend(path, content),\\n    getName: (path) => getName(path),\\n    getFileSize: (filePath) => getFileSize(filePath),\\n    fileRule: (filesInput, fileOut, intercept) => fileRule(filesInput, fileOut, intercept),\\n    copyFile: (source, target, isCover) => copyFile(source, target, isCover),\\n    readFile: (path) => readFile(path)\\n}\"},{\"col_type\":\"text_2\",\"name\":\"#v.下载列表-普通下载\",\"path\":\"download.view\",\"rule\":\"js:\\nconst viewConfig = Object.assign({\\n    chapterList: [],\\n    info: {},\\n    defaultView: \\\"0\\\"\\n}, MY_PARAMS);\\nviewConfig.info = Object.assign({\\n    ruleName: \\\"\\\",\\n    bookName: \\\"\\\",\\n    bookTopPic: \\\"\\\",\\n    parseCode: \\\"\\\",\\n    type: \\\"comic\\\",\\n}, viewConfig.info);\\nlet {\\n    chapterList,\\n    info,\\n    defaultView\\n} = viewConfig;\\nsetPageTitle(\\\"选择器|\\\" + info.bookName)\\n\\nconst File = $.require(\\\"hiker://page/File.js\\\");\\nconst Tool = $.require(\\\"hiker://page/Tool.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\n\\nconst def_DoVi_Style = Config.def_DoVi_Style;\\nconst MY_ID = info.ruleName + \\\"//\\\" + info.bookName;\\n\\n\\nlet isStart = getMyVar(MY_ID + \\\":isStart\\\");\\nlet viewMode = getMyVar(MY_ID + \\\":viewMode\\\", defaultView);\\nlet isReverse = getMyVar(MY_ID + \\\":isReverse\\\", \\\"0\\\");\\nlet tagFilter = getMyVar(MY_ID + \\\":tagFilter\\\", Config.def_DoVi_Type);\\n\\naddListener(\\\"onClose\\\", $.toString((MY_ID) => {\\n    clearMyVar(MY_ID + \\\":loadingTeam\\\");\\n    clearMyVar(MY_ID + \\\":viewMode\\\");\\n    clearMyVar(MY_ID + \\\":completed\\\");\\n    clearMyVar(MY_ID + \\\":batchTeam\\\");\\n    clearMyVar(MY_ID + \\\":tagFilter\\\");\\n    clearMyVar(MY_ID + \\\":pageNum\\\");\\n}, MY_ID));\\n\\nlet layout = [];\\n\\nif (isStart === \\\"1\\\") {\\n    putMyVar(MY_ID + \\\":viewMode\\\", defaultView);\\n    viewMode = \\\"1\\\";\\n}\\n\\nlet backupChapterList = chapterList;\\nif (typeof chapterList === \\\"string\\\") {\\n    chapterList = JSON.parse(request(\\\"file://\\\" + chapterList) || \\\"[]\\\");\\n}\\nlet chapterAll = chapterList;\\nchapterList = chapterList.map((item, CID) => {\\n    item.CID = CID;\\n    return item;\\n});\\nlet pageNum = Number(getMyVar(MY_ID + \\\":pageNum\\\", \\\"1\\\"));\\nlet chapterChunk = [chapterList].concat(Tool.chunk(chapterList, Config.viewPageSize));\\nchapterList = chapterChunk[pageNum] || [];\\n\\nfunction setType() {\\n    let set = (tag, put) => {\\n        putMyVar(put, tag);\\n        refreshPage(false);\\n        return \\\"hiker://empty\\\"\\n    };\\n    layout.push({\\n        title: 0 == pageNum ? \\\"““””\\\" + (\\\"全部(\\\" + chapterAll.length + \\\")\\\").fontcolor(\\\"#23AD6F\\\") : \\\"全部(\\\" + chapterAll.length + \\\")\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule(set, 0, MY_ID + \\\":pageNum\\\"),\\n        col_type: \\\"scroll_button\\\"\\n    });\\n    for (let i = 1; i < chapterChunk.length; i++) {\\n        let tagText = (i - 1) * Config.viewPageSize + \\\"-\\\" + ((i - 1) * Config.viewPageSize + chapterChunk[i].length);\\n        layout.push({\\n            title: i == pageNum ? \\\"““””\\\" + tagText.fontcolor(\\\"#23AD6F\\\") : tagText,\\n            url: $(\\\"#noLoading#\\\").lazyRule(set, i, MY_ID + \\\":pageNum\\\"),\\n            col_type: \\\"scroll_button\\\"\\n        });\\n    }\\n    layout.push({\\n        col_type: \\\"blank_block\\\"\\n    });\\n    layout.push({\\n        title: tagFilter === \\\"0\\\" ? \\\"““””\\\" + \\\"全部\\\".fontcolor(\\\"#23AD6F\\\") : \\\"全部\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule(set, \\\"0\\\", MY_ID + \\\":tagFilter\\\"),\\n        col_type: \\\"scroll_button\\\"\\n    });\\n    layout.push({\\n        title: tagFilter === \\\"1\\\" ? \\\"““””\\\" + \\\"未下载\\\".fontcolor(\\\"#23AD6F\\\") : \\\"未下载\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule(set, \\\"1\\\", MY_ID + \\\":tagFilter\\\"),\\n        col_type: \\\"scroll_button\\\"\\n    });\\n    layout.push({\\n        title: tagFilter === \\\"2\\\" ? \\\"““””\\\" + \\\"已下载\\\".fontcolor(\\\"#23AD6F\\\") : \\\"已下载\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule(set, \\\"2\\\", MY_ID + \\\":tagFilter\\\"),\\n        col_type: \\\"scroll_button\\\"\\n    });\\n}\\nlet chapterTeam = [];\\nlet record = [];\\nif (info.type === \\\"comic\\\") {\\n    let lazy = $(\\\"#noLoading#\\\").lazyRule(() => {\\n        const File = $.require(\\\"hiker://page/File.js\\\");\\n        let filelist = File.getFilePath(input);\\n        let piclist = filelist.map((item, i) => \\\"file://\\\" + input + \\\"/\\\" + (i + 1) + \\\".jpg\\\");\\n        return \\\"pics://\\\" + piclist.join(\\\"&&\\\");\\n    });\\n\\n    function comFun(i, item) {\\n        let rootPath = Config.comicPath + \\\"/\\\" + info.ruleName + \\\"/\\\" + info.bookName + \\\"/\\\" + i + \\\"$A$\\\" + item.title;\\n        return {\\n            title: \\\"““\\\" + item.title + \\\"””\\\",\\n            url: rootPath + lazy,\\n            extra: {\\n                id: MY_ID + \\\"#\\\" + i,\\n            },\\n            col_type: def_DoVi_Style\\n        }\\n    }\\n    File.getFilePath(Config[info.type + \\\"Path\\\"] + \\\"/\\\" + info.ruleName + \\\"/\\\" + info.bookName, \\\"dir\\\").forEach((file) => {\\n        let att = Tool.split(file.name, \\\"$\\\", 2);\\n        if (att.length === 3 && att[1] === (\\\"A\\\")) {\\n            record.push(att[2]);\\n        }\\n    });\\n} else {\\n    function comFun(i, item) {\\n        return {\\n            title: \\\"““\\\" + item.title + \\\"””\\\",\\n            url: \\\"hiker://page/NovelMainBody#autoPage##readTheme#\\\",\\n            extra: {\\n                id: MY_ID + \\\"#\\\" + i,\\n                path: Config.novelPath + \\\"/\\\" + info.ruleName + \\\"/\\\" + info.bookName + \\\"/\\\" + i + \\\"$A$\\\" + item.title + \\\".txt\\\",\\n                title: item.title\\n            },\\n            col_type: def_DoVi_Style\\n        }\\n    }\\n    File.getFilePath(Config[info.type + \\\"Path\\\"] + \\\"/\\\" + info.ruleName + \\\"/\\\" + info.bookName, \\\"file\\\", \\\".txt\\\").forEach((file) => {\\n        let att = Tool.split(file.name, \\\"$\\\", 2);\\n        if (att.length === 3 && att[1] === (\\\"A\\\")) {\\n            record.push(att[2].slice(0, att[2].lastIndexOf(\\\".\\\")));\\n        }\\n    });\\n}\\n\\nfunction clickDownload(item, info, MY_ID, i) {\\n    let loadingTeam = JSON.parse(getMyVar(MY_ID + \\\":loadingTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n    let ElementIndex = loadingTeam.indexOf(i);\\n    if (ElementIndex > -1) return \\\"toast://正在下载\\\";\\n\\n    loadingTeam.push(i);\\n    putMyVar(MY_ID + \\\":loadingTeam\\\", JSON.stringify(loadingTeam));\\n    updateItem({\\n        title: \\\"‘‘\\\" + item.title + \\\"’’\\\",\\n        extra: {\\n            id: MY_ID + \\\"#\\\" + i\\n        }\\n    });\\n    let result = \\\"toast://下载失败\\\";\\n    try {\\n        toast(\\\"开始下载:\\\" + item.title);\\n        let download = $.require(\\\"hiker://page/Download.exe.js\\\");\\n        result = download(item, info, MY_ID, i);\\n        updateItem({\\n            title: \\\"““\\\" + item.title + \\\"””\\\",\\n            url: \\\"toast://已下载\\\",\\n            extra: {\\n                id: MY_ID + \\\"#\\\" + i\\n            }\\n        });\\n    } catch (e) {\\n        updateItem({\\n            title: item.title,\\n            extra: {\\n                id: MY_ID + \\\"#\\\" + i\\n            }\\n        });\\n        log(e.toString());\\n    } finally {\\n        loadingTeam.splice(ElementIndex, 1);\\n        putMyVar(MY_ID + \\\":loadingTeam\\\", JSON.stringify(loadingTeam));\\n    }\\n    return result;\\n}\\n\\nfunction singleView() {\\n    layout.push({\\n        title: \\\"反转列表\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((isReverse, MY_ID) => {\\n            putMyVar(MY_ID + \\\":isReverse\\\", isReverse === \\\"0\\\" ? \\\"1\\\" : \\\"0\\\");\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        }, isReverse, MY_ID),\\n        pic_url: \\\"https://img.icons8.com/?id=33nvDqbHH7HW&size=48&format=gif&token=\\\",\\n        col_type: \\\"icon_2\\\"\\n    });\\n    layout.push({\\n        title: \\\"批量下载\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((MY_ID) => {\\n            let loadingTeam = JSON.parse(getMyVar(MY_ID + \\\":loadingTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n            if (loadingTeam.length > 0) return \\\"toast://还有任务没有完成\\\";\\n            if (getAppVersion() < 2594) return \\\"toast://未开放\\\";\\n            putMyVar(MY_ID + \\\":viewMode\\\", \\\"1\\\");\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n\\n        }, MY_ID),\\n        pic_url: \\\"https://img.icons8.com/?format=gif&id=0uafaMNzxj88&token=\\\",\\n        col_type: \\\"icon_2\\\"\\n    });\\n    setType();\\n    layout.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    let loadingTeam = JSON.parse(getMyVar(MY_ID + \\\":loadingTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n    for (let i = 0, item = chapterList[0]; i < chapterList.length; item = chapterList[++i]) {\\n        let is_download = record.includes(item.title);\\n        if (is_download && tagFilter !== \\\"1\\\") {\\n            chapterTeam.push(comFun(item.CID, item));\\n        } else if (!is_download && tagFilter !== \\\"2\\\") {\\n            chapterTeam.push({\\n                title: loadingTeam.includes(item.CID) ? \\\"‘‘\\\" + item.title + \\\"’’\\\" : item.title,\\n                url: $(\\\"#noLoading#\\\").lazyRule(clickDownload, item, info, MY_ID, item.CID),\\n                extra: {\\n                    id: MY_ID + \\\"#\\\" + item.CID\\n                },\\n                col_type: def_DoVi_Style\\n            });\\n        }\\n    }\\n}\\n\\nfunction clickChoose(title, MY_ID, i) {\\n    let isStart = getMyVar(MY_ID + \\\":isStart\\\");\\n    if (isStart === \\\"1\\\") return \\\"toast://正在下载...\\\";\\n    let batchTeam = JSON.parse(getMyVar(MY_ID + \\\":batchTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n    let ElementIndex = batchTeam.indexOf(i);\\n    if (ElementIndex > -1) {\\n        updateItem({\\n            title: title,\\n            extra: {\\n                id: MY_ID + \\\"#\\\" + i\\n            }\\n        });\\n        batchTeam.splice(ElementIndex, 1);\\n    } else {\\n        updateItem({\\n            title: \\\"‘‘\\\" + title + \\\"’’\\\",\\n            extra: {\\n                id: MY_ID + \\\"#\\\" + i\\n            }\\n        });\\n        batchTeam.push(i);\\n    }\\n    putMyVar(MY_ID + \\\":batchTeam\\\", JSON.stringify(batchTeam));\\n    return \\\"hiker://empty\\\";\\n}\\n\\nfunction batchView() {\\n    layout.push({\\n        title: \\\"单选下载\\\",\\n        pic_url: \\\"https://img.icons8.com/?id=PIicvF6ebzMn&size=48&format=gif&token=\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((MY_ID) => {\\n            if (getMyVar(MY_ID + \\\":isStart\\\") === \\\"1\\\") return \\\"toast://正在批量下载\\\";\\n            putMyVar(MY_ID + \\\":viewMode\\\", \\\"0\\\");\\n            clearMyVar(MY_ID + \\\":batchTeam\\\");\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        }, MY_ID),\\n        col_type: \\\"icon_small_4\\\"\\n    });\\n    let start = Config.viewPageSize * Math.max(pageNum - 1, 0);\\n    let end = start + chapterList.length;\\n    layout.push({\\n        title: \\\"选择全部\\\",\\n        pic_url: \\\"https://img.icons8.com/?format=gif&id=1HVcHLoNzrit&token=\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((start, end, MY_ID) => {\\n            const Tool = $.require(\\\"hiker://page/Tool.js\\\");\\n            let chooseTeam = Tool.range(start, end);\\n            let batchTeam = JSON.parse(getMyVar(MY_ID + \\\":batchTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n            batchTeam = Array.from(new Set(batchTeam.concat(chooseTeam)));\\n            let completed = JSON.parse(getMyVar(MY_ID + \\\":completed\\\", \\\"[]\\\") || \\\"[]\\\");\\n            batchTeam = batchTeam.filter((i) => !completed.includes(i));\\n            putMyVar(MY_ID + \\\":batchTeam\\\", JSON.stringify(batchTeam));\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\"\\n        }, start, end, MY_ID),\\n        col_type: \\\"icon_small_4\\\"\\n    });\\n    layout.push({\\n        title: \\\"取消全部\\\",\\n        pic_url: \\\"https://img.icons8.com/?format=gif&id=HzEjPpI3NL8D&token=\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((start, end, MY_ID) => {\\n            const Tool = $.require(\\\"hiker://page/Tool.js\\\");\\n            let chooseTeam = new Set(Tool.range(start, end));\\n            let batchTeam = JSON.parse(getMyVar(MY_ID + \\\":batchTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n            batchTeam = batchTeam.filter(x => !chooseTeam.has(x));\\n            putMyVar(MY_ID + \\\":batchTeam\\\", JSON.stringify(batchTeam));\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\"\\n        }, start, end, MY_ID),\\n        col_type: \\\"icon_small_4\\\"\\n    });\\n    layout.push({\\n        title: \\\"确认选中\\\",\\n        pic_url: \\\"https://img.icons8.com/?format=gif&id=tMrvtc6T9hVb&token=\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((MY_ID) => {\\n            if (getMyVar(MY_ID + \\\":isStart\\\", \\\"-1\\\") !== \\\"-1\\\") {\\n                return \\\"toast://正在下载...\\\";\\n            }\\n            let batchTeam = JSON.parse(getMyVar(MY_ID + \\\":batchTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n            return batchTeam.length === 0 ? \\\"toast://你还什么都没有选\\\" : \\\"hiker://page/Batch.view#noRefresh##noHistory##noRecordHistory#\\\";\\n        }, MY_ID),\\n        extra: {\\n            newWindow: true,\\n            windowId: MY_ID + \\\"//批量下载\\\",\\n            MY_ID: MY_ID,\\n            chapterList: backupChapterList,\\n            info: info\\n        },\\n        col_type: \\\"icon_small_4\\\"\\n    });\\n    setType();\\n    layout.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    let batchTeam = JSON.parse(getMyVar(MY_ID + \\\":batchTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n    let completed = [];\\n    for (let i = 0, item = chapterList[0]; i < chapterList.length; item = chapterList[++i]) {\\n        let is_download = record.includes(item.title);\\n        if (is_download && tagFilter !== \\\"1\\\") {\\n            completed.push(item.CID);\\n            chapterTeam.push(comFun(item.CID, item));\\n        } else if (!is_download && tagFilter !== \\\"2\\\") {\\n            chapterTeam.push({\\n                title: batchTeam.includes(item.CID) ? \\\"‘‘\\\" + item.title + \\\"’’\\\" : item.title,\\n                url: $(\\\"#noLoading#\\\").lazyRule(clickChoose, item.title, MY_ID, item.CID),\\n                extra: {\\n                    id: MY_ID + \\\"#\\\" + item.CID\\n                },\\n                col_type: def_DoVi_Style\\n            });\\n        }\\n    }\\n    putMyVar(MY_ID + \\\":completed\\\", JSON.stringify(completed));\\n}\\nswitch (viewMode) {\\n    case \\\"0\\\":\\n        singleView();\\n        break;\\n    case \\\"1\\\":\\n        batchView();\\n        break;\\n}\\nif (isReverse === \\\"1\\\") {\\n    chapterTeam.reverse();\\n}\\nlayout.push.apply(layout, chapterTeam);\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#v.批量下载器\",\"path\":\"Batch.view\",\"rule\":\"js:\\nlet {\\n    chapterList,\\n    info,\\n    MY_ID\\n} = MY_PARAMS;\\nsetPageTitle(\\\"下载器|\\\"+info.bookName);\\naddListener(\\\"onClose\\\", $.toString((MY_ID) => {\\n    clearMyVar(MY_ID + \\\":isStart\\\");\\n    clearMyVar(MY_ID + \\\":status\\\");\\n    clearMyVar(MY_ID + \\\":batchTeam\\\");\\n    refreshPage();\\n}, MY_ID));\\n\\nlet isStart = getMyVar(MY_ID + \\\":isStart\\\", \\\"0\\\");\\nlet status = getMyVar(MY_ID + \\\":status\\\", \\\"0\\\");\\nlet layout = [];\\n\\nlet batchTeam = JSON.parse(getMyVar(MY_ID + \\\":batchTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\nif(typeof chapterList === \\\"string\\\"){\\n    chapterList = JSON.parse(request(\\\"file://\\\"+chapterList)||\\\"[]\\\");\\n}\\nlet chapterTeam = batchTeam.map(v => {\\n    let chapterItem = chapterList[v];\\n    chapterItem.CID = v;\\n    return chapterItem;\\n});\\nif (isStart === \\\"0\\\") {\\n    layout.push({\\n        title: \\\"开始下载[\\\" + chapterTeam.length + \\\"]\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((chapterTeam, info, MY_ID) => {\\n            putMyVar(MY_ID + \\\":isStart\\\", \\\"1\\\");\\n            refreshPage(false);\\n            let download = $.require(\\\"hiker://page/BatchStatistics.js\\\");\\n            return download(chapterTeam, info, MY_ID) || \\\"toast://下载错误\\\";\\n        }, chapterTeam, info, MY_ID),\\n        col_type: \\\"text_center_1\\\",\\n        extra: {\\n            id: MY_ID + \\\"||开始下载\\\"\\n        }\\n    });\\n    layout.push({\\n        title: \\\"任务列表：\\\",\\n        col_type: \\\"rich_text\\\",\\n    });\\n    for (let item of chapterTeam) {\\n        layout.push({\\n            title: item.title,\\n            url: \\\"hiker://empty\\\",\\n            col_type: \\\"text_2\\\"\\n        });\\n    }\\n\\n} else {\\n    layout.push({\\n        title: \\\"下载进度:0/\\\"+chapterTeam.length,\\n        desc: \\\"““””▇▇▇▇▇▇▇▇▇▇\\\".fontcolor(\\\"#e5e1e4\\\")+\\\" 0%\\\",\\n        url: \\\"hiker://empty\\\",\\n        col_type: \\\"text_center_1\\\",\\n        extra: {\\n            id: MY_ID + \\\"||下载进度\\\",\\n            lineVisible: false\\n        }\\n    });\\n    layout.push({\\n        title: \\\"后台下载\\\",\\n        url: \\\"func://background\\\",\\n        col_type: \\\"text_2\\\"\\n    });\\n\\n    layout.push({\\n        title: [\\\"[取消下载]\\\", \\\"[正在停止...]\\\", \\\"[返回]\\\", \\\"[处理失败]\\\", \\\"[重新开始]\\\"][status],\\n        url: $(\\\"#noLoading#\\\").lazyRule((MY_ID) => {\\n            let status = getMyVar(MY_ID + \\\":status\\\", \\\"0\\\");\\n            if (status === \\\"0\\\") {\\n                putMyVar(MY_ID + \\\":status\\\", \\\"1\\\");\\n                updateItem({\\n                    title: \\\"[正在停止...]\\\",\\n                    extra: {\\n                        id: MY_ID + \\\"||下载控制\\\"\\n                    }\\n                });\\n                return \\\"toast://正在取消下载任务\\\";\\n            } else if (status === \\\"1\\\") {\\n                return \\\"toast://正在暂停...\\\";\\n            } else if (status === \\\"2\\\") {\\n                back();\\n                return \\\"toast://已退出下载器\\\";\\n            } else if ([\\\"3\\\", \\\"4\\\"].includes(status)) {\\n                clearMyVar(MY_ID + \\\":isStart\\\");\\n                clearMyVar(MY_ID + \\\":status\\\");\\n                clearMyVar(MY_ID + \\\":log\\\");\\n                refreshPage();\\n                return \\\"toast://重新点击下载\\\"\\n            }\\n        }, MY_ID),\\n        col_type: \\\"text_2\\\",\\n        extra: {\\n            id: MY_ID + \\\"||下载控制\\\"\\n        }\\n    });\\n    layout.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    layout.push({\\n        title: \\\"<strong>下载日志</strong>\\\".big(),\\n        col_type: \\\"rich_text\\\",\\n        \\n    });\\n    layout.push({\\n        col_type: \\\"line\\\",\\n        extra: {\\n            id: MY_ID + \\\"||日志\\\"\\n        }\\n    });\\n    layout.push({\\n        title:\\\"““””$>\\\"+\\\"开始下载......\\\".fontcolor(\\\"#00ff00\\\"),\\n        url:\\\"hiker://empty\\\",\\n        col_type: \\\"text_1\\\",\\n        extra: {\\n            id: MY_ID + \\\"#log#0\\\",\\n            lineVisible:false\\n        }\\n    });\\n}\\n\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#fg.批量下载统计\",\"path\":\"BatchStatistics.js\",\"rule\":\"const Tool = $.require(\\\"hiker://page/Tool.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\n\\nfunction task(taskParam) {\\n    let result = $.require(\\\"hiker://page/Batch.exe.js\\\")(taskParam);\\n    return result;\\n}\\n\\n$.exports = function(chapterTeam, info, MY_ID) {\\n    if (chapterTeam.length === 0) {\\n        return \\\"toast://空的下载队列\\\";\\n    }\\n    var count = 0;\\n    var taskCount = chapterTeam.length;\\n    var successCID = [];\\n    var failName = [];\\n    var logCount = 1;\\n    var taskTeam = chapterTeam.map(chapterItem => ({\\n        func: task,\\n        id: chapterItem.title,\\n        param: {\\n            chapterItem: chapterItem,\\n            info: info,\\n            MY_ID: MY_ID\\n        }\\n    }));\\n    let logNum = Config.logNum;\\n\\n    function putLog(text) {\\n        log(text);\\n        if (logCount >= logNum) {\\n            deleteItem(MY_ID + \\\"#log#\\\" + (logCount - 10));\\n        }\\n        addItemAfter(MY_ID + \\\"||日志\\\", {\\n            url: \\\"hiker://empty\\\",\\n            title: \\\"$>\\\" + text,\\n            col_type: \\\"text_1\\\",\\n            extra: {\\n                lineVisible: false,\\n                id: MY_ID + \\\"#log#\\\" + logCount\\n            }\\n        });\\n        logCount++;\\n    }\\n\\n    function listener(perch, id, error, CID) {\\n        count++;\\n        let isSuccess = false;\\n        if (error !== null) {\\n            failName.push(id);\\n            putLog(\\\"[listener]下载失败：\\\" + id + \\\"<ERROR@ \\\" + error + \\\">\\\");\\n        } else if (CID >= 0) {\\n            successCID.push(CID);\\n            let ratio = (count / taskCount).toFixed(4);\\n            let stripCount = Math.ceil(ratio * 10);\\n            isSuccess = true;\\n            updateItem({\\n                title: \\\"下载进度：\\\" + successCID.length + \\\"/\\\" + taskCount,\\n                desc: \\\"““””\\\" + \\\"▇\\\".repeat(stripCount).fontcolor(\\\"#ffac2d\\\") + \\\"▇\\\".repeat(10 - stripCount).fontcolor(\\\"#e5e1e4\\\") + \\\" \\\" + (ratio * 100) + \\\"%\\\",\\n                extra: {\\n                    id: MY_ID + \\\"||下载进度\\\"\\n                }\\n            });\\n            putLog(\\\"[listener]已完成下载：\\\" + id);\\n        } else if (CID === -1) {\\n            failName.push(id);\\n            putLog(\\\"[listener]已停止：\\\" + id);\\n        }\\n        if (taskCount !== count) return;\\n        if (successCID.length === taskCount) {\\n            updateItem({\\n                desc: \\\"““””\\\" + \\\"▇\\\".repeat(10).fontcolor(\\\"#00ff00\\\") + \\\" 100%\\\",\\n                extra: {\\n                    id: MY_ID + \\\"||下载进度\\\"\\n                }\\n            });\\n        }\\n        let batchTeam = JSON.parse(getMyVar(MY_ID + \\\":batchTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n        let status = getMyVar(MY_ID + \\\":status\\\", \\\"0\\\");\\n        let failTeam = batchTeam.filter(v => !successCID.includes(v));\\n        putMyVar(MY_ID + \\\":batchTeam\\\", JSON.stringify(failTeam));\\n        if (failTeam.length > 0 && status !== \\\"1\\\") {\\n            putMyVar(MY_ID + \\\":status\\\", \\\"3\\\");\\n            putLog(\\\"下载失败:[\\\" + failName.join(\\\"]，[\\\") + \\\"]。\\\");\\n            updateItem({\\n                title: \\\"[处理失败]\\\",\\n                extra: {\\n                    id: MY_ID + \\\"||下载控制\\\"\\n                }\\n            });\\n        } else if (failTeam.length > 0 && status === \\\"1\\\") {\\n            putMyVar(MY_ID + \\\":status\\\", \\\"4\\\");\\n            putLog(\\\"[listener]#已停止所有任务，但已有进度不会消失#\\\");\\n            updateItem({\\n                title: \\\"[重新开始]\\\",\\n                extra: {\\n                    id: MY_ID + \\\"||下载控制\\\"\\n                }\\n            });\\n        } else {\\n            putMyVar(MY_ID + \\\":status\\\", \\\"2\\\");\\n            putLog(\\\"下载任务[\\\" + info.bookName + \\\"]已全部成功完成\\\");\\n            updateItem({\\n                title: \\\"[返回]\\\",\\n                extra: {\\n                    id: MY_ID + \\\"||下载控制\\\"\\n                }\\n            });\\n        }\\n        toast(\\\"下载任务[\\\" + info.bookName + \\\"]已完成\\\");\\n    }\\n    let taskTeamChunk = [];\\n    if (Config.threadNum > 0) {\\n        taskTeamChunk = Tool.chunk(taskTeam, Config.threadNum);\\n    } else {\\n        taskTeamChunk = [taskTeam];\\n    }\\n    for (let taskList of taskTeamChunk) {\\n        be(taskList, {\\n            func: listener\\n        });\\n        let status = getMyVar(MY_ID + \\\":status\\\", \\\"0\\\");\\n        if (status === \\\"1\\\") {\\n            let batchTeam = JSON.parse(getMyVar(MY_ID + \\\":batchTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n            let status = getMyVar(MY_ID + \\\":status\\\", \\\"0\\\");\\n            let failTeam = batchTeam.filter(v => !successCID.includes(v));\\n            putMyVar(MY_ID + \\\":batchTeam\\\", JSON.stringify(failTeam));\\n            putMyVar(MY_ID + \\\":status\\\", \\\"4\\\");\\n            putLog(\\\"[listener]#已停止所有任务，但已有进度不会消失#\\\");\\n            updateItem({\\n                title: \\\"[重新开始]\\\",\\n                extra: {\\n                    id: MY_ID + \\\"||下载控制\\\"\\n                }\\n            });\\n            return \\\"hiker://empty\\\";\\n        }\\n\\n    }\\n\\n    return \\\"hiker://empty\\\";\\n};\"},{\"col_type\":\"movie_3\",\"name\":\"#fg.批量主程序\",\"path\":\"Batch.exe.js\",\"rule\":\"const File = $.require(\\\"hiker://page/File.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\nconst Tool = $.require(\\\"hiker://page/Tool.js\\\");\\n\\nfunction comic(taskParam) {\\n    let {\\n        chapterItem,\\n        info,\\n        MY_ID,\\n    } = taskParam;\\n    if (getMyVar(MY_ID + \\\":status\\\", \\\"\\\") === \\\"1\\\") {\\n        return -1;\\n    }\\n    let mainPath = Config.comicPath + \\\"/\\\" + info.ruleName + \\\"/\\\" + info.bookName + \\\"/\\\";\\n    let chapterPath = mainPath + chapterItem.CID + \\\"$B$\\\" + chapterItem.title + \\\"/\\\";\\n    let picList;\\n    try {\\n        let getPicList = new Function(\\\"input\\\", \\\"url\\\", \\\"return \\\" + info.parseCode);\\n        picList = getPicList(chapterItem.url, chapterItem.url);\\n        if (typeof picList === \\\"string\\\") {\\n            picList = picList.replace(\\\"pics://\\\", \\\"\\\").split(\\\"&&\\\");\\n        }\\n    } catch (e) {\\n        e.message = \\\"<漫画图片解析错误：\\\" + e.message + \\\">\\\";\\n        throw e;\\n    }\\n    const L = picList.length;\\n    if(L===0){\\n        throw new Error(\\\"<漫画图片解析错误：图片链接返回为空>\\\");\\n    }\\n    if (info.bookTopPic) {\\n        try {\\n            let bookTopPic = Tool.hikerPic(info.bookTopPic);\\n            requireDownload(bookTopPic[0], mainPath + info.bookName + \\\".jpg\\\", bookTopPic[1]);\\n        } catch (e) {\\n            log(\\\"<封面下载错误：\\\" + e.message + \\\">\\\");\\n        }\\n    }\\n    var schedule = new Map([\\n        [L, () => log(chapterItem.title + \\\"已下载100%\\\")],\\n        [~~(0.90 * L), () => log(chapterItem.title + \\\"已下载90%+\\\")],\\n        [~~(0.75 * L), () => log(chapterItem.title + \\\"已下载75%+\\\")],\\n        [~~(0.50 * L), () => log(chapterItem.title + \\\"已下载50%+\\\")],\\n        [~~(0.25 * L), () => log(chapterItem.title + \\\"已下载25%+\\\")]\\n    ]);\\n    for (var i = 0; i < L; i++) {\\n        let pic = Tool.hikerPic(picList[i]);\\n        requireDownload(pic[0], chapterPath + (i + 1) + \\\".jpg\\\", pic[1]);\\n        schedule.has(i + 1) && schedule.get(i + 1)();\\n        if (getMyVar(MY_ID + \\\":status\\\", \\\"\\\") === \\\"1\\\") {\\n            return -1;\\n        }\\n    }\\n    File.renameFile(chapterPath, chapterItem.CID + \\\"$A$\\\" + chapterItem.title);\\n    return chapterItem.CID;\\n}\\n\\nfunction novel(taskParam) {\\n    let {\\n        chapterItem,\\n        info,\\n        MY_ID,\\n    } = taskParam;\\n    if (getMyVar(MY_ID + \\\":status\\\", \\\"\\\") === \\\"1\\\") {\\n        return -1;\\n    }\\n    let mainPath = Config.novelPath + \\\"/\\\" + info.ruleName + \\\"/\\\" + info.bookName + \\\"/\\\";\\n    let chapterPath = mainPath + chapterItem.CID + \\\"$A$\\\" + chapterItem.title + \\\".txt\\\";\\n    let content = \\\"\\\";\\n    try {\\n        let getContent = new Function(\\\"input\\\", \\\"url\\\", \\\"return \\\" + info.parseCode);\\n        content = getContent(chapterItem.url, chapterItem.url);\\n    } catch (e) {\\n        e.message = \\\"<小说正文解析错误：\\\" + e.message + \\\">\\\";\\n        throw e;\\n    }\\n    if (!content) {\\n        throw new Error(\\\"<小说正文解析错误：正文返回为空>\\\");\\n    }\\n    if (info.bookTopPic) {\\n        try {\\n            let bookTopPic = Tool.hikerPic(info.bookTopPic);\\n            requireDownload(bookTopPic[0], mainPath + info.bookName + \\\".jpg\\\", bookTopPic[1]);\\n        } catch (e) {\\n            log(\\\"<封面下载错误：\\\" + e.message + \\\">\\\");\\n        }\\n    }\\n    File.fileWrite(chapterPath, content.replace(/<script>.*?<\\\\/script>/gmi, \\\"\\\").trimRight());\\n    //File.renameFile(chapterPath, chapterItem.CID + \\\"$A$\\\" + chapterItem.title);\\n    return chapterItem.CID;\\n}\\nvar $exe = {\\n    comic: comic,\\n    novel: novel\\n};\\n$.exports = function(taskParam) {\\n    return $exe[taskParam.info.type](taskParam);\\n};\"},{\"col_type\":\"movie_3\",\"name\":\"#fg.普通主程序\",\"path\":\"Download.exe.js\",\"rule\":\"const File = $.require(\\\"hiker://page/File.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\nconst Tool = $.require(\\\"hiker://page/Tool.js\\\");\\n\\nfunction novel(item, info, MY_ID, order) {\\n    let mainPath = Config.novelPath + \\\"/\\\" + info.ruleName + \\\"/\\\" + info.bookName + \\\"/\\\";\\n    let chapterPath = mainPath + order + \\\"$A$\\\" + item.title + \\\".txt\\\";\\n    let content = \\\"\\\";\\n    try {\\n        let getContent = new Function(\\\"input\\\", \\\"url\\\", \\\"return \\\" + info.parseCode);\\n        content = getContent(item.url, item.url) || \\\"\\\";\\n    } catch (e) {\\n        e.message = \\\"<小说正文解析错误> \\\" + e.message;\\n        throw e;\\n    }\\n    if (!content) {\\n        toast(\\\"小说为空\\\");\\n        throw new Error(\\\"<小说正文解析错误：正文返回为空>\\\");\\n    }\\n    if (info.bookTopPic) {\\n        try {\\n            let bookTopPic = Tool.hikerPic(info.bookTopPic);\\n            requireDownload(bookTopPic[0], mainPath + info.bookName + \\\".jpg\\\", bookTopPic[1]);\\n        } catch (e) {\\n            log(\\\"<封面下载错误> \\\" + e.message);\\n        }\\n    }\\n    File.fileWrite(chapterPath, content.replace(/<script>.*?<\\\\/script>/gmi, \\\"\\\").trimRight());\\n    //File.renameFile(chapterPath, order + \\\"$A$\\\" + item.title + \\\".txt\\\");\\n    return \\\"toast://\\\" + info.bookName + \\\"@\\\" + item.title + \\\" 下载完成\\\";\\n}\\n\\nfunction comic(item, info, MY_ID, order) {\\n    let mainPath = Config.comicPath + \\\"/\\\" + info.ruleName + \\\"/\\\" + info.bookName + \\\"/\\\";\\n    let chapterPath = mainPath + order + \\\"$B$\\\" + item.title + \\\"/\\\";\\n    let picList = [];\\n    try {\\n        let getPicList = new Function(\\\"input\\\", \\\"return\\\" + info.parseCode);\\n        picList = getPicList(item.url);\\n        if (typeof picList === \\\"string\\\") {\\n            picList = picList.replace(\\\"pics://\\\", \\\"\\\").split(\\\"&&\\\");\\n        }\\n    } catch (e) {\\n        e.message = \\\"<漫画图片解析错误> \\\" + e.message;\\n        throw e;\\n    }\\n\\n    const L = picList.length;\\n    if(L===0){\\n        toast(\\\"图片链接为空\\\");\\n        throw new Error(\\\"<漫画图片解析错误：图片链接返回为空>\\\");\\n    }\\n    if (info.bookTopPic) {\\n        try {\\n            let bookTopPic = Tool.hikerPic(info.bookTopPic);\\n            requireDownload(bookTopPic[0], mainPath + info.bookName + \\\".jpg\\\", bookTopPic[1]);\\n        } catch (e) {\\n            log(\\\"<封面下载错误> \\\" + e.message);\\n        }\\n    }\\n    var schedule = new Map([\\n        [L, () => log(item.title + \\\"已下载100%\\\")],\\n        [~~(0.90 * L), () => log(item.title + \\\"已下载90%+\\\")],\\n        [~~(0.75 * L), () => log(item.title + \\\"已下载75%+\\\")],\\n        [~~(0.50 * L), () => log(item.title + \\\"已下载50%+\\\")],\\n        [~~(0.25 * L), () => log(item.title + \\\"已下载25%+\\\")]\\n    ]);\\n\\n    for (var i = 0; i < L; i++) {\\n        let pic = Tool.hikerPic(picList[i]);\\n        requireDownload(pic[0], chapterPath + (i + 1) + \\\".jpg\\\", pic[1]);\\n        schedule.has(i + 1) && schedule.get(i + 1)();\\n    }\\n\\n    File.renameFile(chapterPath, order + \\\"$A$\\\" + item.title);\\n    return \\\"toast://\\\" + info.bookName + \\\"@\\\" + item.title + \\\" 下载完成\\\";\\n}\\nvar $exe = {\\n    comic: comic,\\n    novel: novel\\n};\\n$.exports = function(item, info, MY_ID, order) {\\n    return $exe[info.type](item, info, MY_ID, order);\\n};\"},{\"col_type\":\"movie_3\",\"name\":\"#f.通用工具\",\"path\":\"Tool.js\",\"rule\":\"$.exports = {\\n    split(text, target, count) {\\n        count = count === undefined ? 1 : count;\\n        let array = [text];\\n        for (let i = 0; i < count; i++) {\\n            text = array[i];\\n            let index = text.indexOf(target);\\n            if (index === -1) {\\n                break;\\n            }\\n            array[i] = text.slice(0, index);\\n            array[i + 1] = text.slice(index + target.length);\\n        }\\n        return array;\\n    },\\n    chunk(arr, size) {\\n        var result = [];\\n        for (var i = 0, len = arr.length; i < len; i += size) {\\n            result.push(arr.slice(i, i + size));\\n        }\\n        return result;\\n    },\\n    hikerPic(url) {\\n        var headers = {};\\n        let urls = url.split(\\\"@\\\");\\n        let picUrl = urls.shift();\\n        let length = urls.length;\\n        for (let i = 0; i < length; i++) {\\n            let [key, value] = urls[i].split(\\\"=\\\");\\n            headers[key] = value;\\n        }\\n        return [picUrl, headers];\\n    },\\n    range(start, end) {\\n        return Array(end - start).fill(0).map((el, i) => start + i);\\n    }\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"#j.Config\",\"path\":\"Config.json\",\"rule\":\"js:\\nconst File = $.require(\\\"hiker://page/File.js?rule=本地资源管理\\\");\\n\\nlet localConfig = {};\\n\\ntry {\\n    localConfig = JSON.parse(File.readFile(getPath(\\\"hiker://files/rules/files/本地资源管理/config.json\\\").slice(7)));\\n} catch (e) {\\n    deleteFile(\\\"config.json\\\");\\n}\\nconst Config = Object.assign({\\n    homePath: getPath(\\\"hiker://files/localManager\\\").slice(7),\\n    logNum: 10,\\n    threadNum: 16,\\n    def_isPaginate: \\\"1\\\", //1默认开启分页，0默认关闭\\n    viewPageSize: 200,\\n    def_Pic: \\\"hiker://images/home_pic4\\\",\\n    def_Lord_Type: \\\"comic\\\",\\n    def_View_Style: \\\"text_1\\\",\\n    def_DoVi_Style: \\\"text_2\\\",\\n    def_DoVi_Type: \\\"1\\\", //0全部, 1未完成，2已完成\\n}, localConfig);\\nconst PATHS = {\\n    novelPath: \\\"/小说/\\\",\\n    comicPath: \\\"/漫画/\\\",\\n    novelFullPath: \\\"/小说合并/\\\",\\n    externalImportPath: \\\"/外导小说/\\\"\\n}\\n\\n\\nObject.keys(PATHS).forEach(key => Config[key] = Config.homePath + PATHS[key]);\\n$.exports = Config;\"},{\"col_type\":\"movie_3\",\"name\":\"#v.主页面\",\"path\":\"Main.view\",\"rule\":\"js:\\nfunction main() {\\n    var layout = [];\\n    const File = $.require(\\\"hiker://page/File.js\\\");\\n    const Config = $.require(\\\"hiker://page/Config.json\\\");\\n    let type = getMyVar(\\\".type\\\", getItem(\\\"main:type\\\") || Config.def_Lord_Type);\\n    let tgnum = getMyVar(\\\".tgnum\\\", \\\"0\\\");\\n    addListener(\\\"onClose\\\", $.toString((MY_ID) => {\\n        clearMyVar(\\\"searchKey\\\");\\n        clearMyVar(\\\".tgnum\\\");\\n    }));\\n    layout.push({\\n        title: type === \\\"comic\\\" ? \\\"◉漫画\\\" : \\\"○漫画\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((type) => {\\n            if (type === \\\"comic\\\") return \\\"hiker://empty\\\";\\n            putMyVar(\\\".type\\\", \\\"comic\\\");\\n            setItem(\\\"main:type\\\", \\\"comic\\\");\\n            clearMyVar(\\\".tgnum\\\");\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        }, type),\\n        col_type: \\\"text_3\\\",\\n    });\\n    layout.push({\\n        title: type === \\\"novel\\\" ? \\\"◉小说\\\" : \\\"○小说\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((type) => {\\n            if (type === \\\"novel\\\") return \\\"hiker://empty\\\";\\n            putMyVar(\\\".type\\\", \\\"novel\\\");\\n            setItem(\\\"main:type\\\", \\\"novel\\\");\\n            clearMyVar(\\\".tgnum\\\");\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        }, type),\\n        col_type: \\\"text_3\\\",\\n    });\\n    layout.push({\\n        title: type === \\\"txt\\\" ? \\\"◉TXT\\\" : \\\"○TXT\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((type) => {\\n            if (type === \\\"txt\\\") return \\\"hiker://page/NovelCollected.view#noRecordHistory##noHistory#\\\";\\n            putMyVar(\\\".type\\\", \\\"txt\\\");\\n            setItem(\\\"main:type\\\", \\\"txt\\\");\\n            clearMyVar(\\\".tgnum\\\");\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        }, type),\\n        col_type: \\\"text_3\\\"\\n    });\\n    if (type === \\\"txt\\\") {\\n        txtView = $.require(\\\"hiker://page/externalimportTxt.view\\\");\\n        return txtView(layout);\\n    }\\n    let tag = File.getFilePath(Config[type + \\\"Path\\\"], \\\"dir\\\");\\n    if (tag.length === 0) {\\n        layout.push({\\n            col_type: \\\"line_blank\\\",\\n        });\\n        layout.push({\\n            title: \\\"设置\\\",\\n            url: \\\"hiker://page/Setting.view#noRefresh##noRecordHistory##noHistory#\\\",\\n            col_type: \\\"text_2\\\",\\n            extra: {\\n                version: MY_RULE.version\\n            }\\n        });\\n\\n        layout.push({\\n            title: \\\"““帮助””\\\",\\n            url: \\\"hiker://page/help.view#noRefresh##noRecordHistory##noHistory#?keyword=novelComic\\\",\\n            col_type: \\\"text_2\\\"\\n        });\\n        layout.push({\\n            title: '<h1 style=\\\"text-align: center;\\\">啥都没有耶</h1>',\\n            col_type: \\\"rich_text\\\"\\n        });\\n        return setResult(layout);\\n    }\\n    layout.push({\\n        url: '\\\"hiker://search?s=\\\"+input',\\n        desc: \\\"搜你想要的#\\\" + type + \\\"#......\\\",\\n        title: \\\"🔍\\\",\\n        col_type: \\\"input\\\",\\n        extra: {\\n            rules: $.toString((tag, type) => {\\n                let arr1 = [];\\n                for (let i = 0; i < tag.length; i++) {\\n                    arr1.push({\\n                        \\\"title\\\": tag[i].name,\\n                        \\\"search_url\\\": \\\"hiker://empty?isAll=1&searchTerms=**&type=\\\" + type,\\n                        \\\"searchFind\\\": \\\"js:$.require('hiker://page/Search.view?rule='+MY_RULE._title);\\\"\\n                    });\\n                }\\n\\n                return JSON.stringify(arr1);\\n            }, tag, type),\\n            defaultValue: getMyVar('searchKey', ''),\\n            onChange: \\\"putMyVar('searchKey',input)\\\"\\n        }\\n    });\\n\\n    layout.push({\\n        title: \\\"‘‘⚙设置’’\\\",\\n        col_type: \\\"scroll_button\\\",\\n        url: \\\"hiker://page/Setting.view#noRefresh##noRecordHistory##noHistory#\\\",\\n        extra: {\\n            version: MY_RULE.version\\n        }\\n    });\\n\\n\\n    for (let i in tag) {\\n        let it = tag[i];\\n        if (tgnum === i) {\\n            layout.push({\\n                title: \\\"““\\\" + it.name + \\\"””\\\",\\n                col_type: \\\"scroll_button\\\",\\n                url: $([\\\"删除该目录\\\", \\\"跳转小程序\\\"], 1, \\\"选择操作\\\").select((it) => {\\n                    if (\\\"跳转小程序\\\" === input) {\\n                        return \\\"hiker://home@\\\" + it.name;\\n                    } else {\\n                        //return then([\\\"该操作不会删除小程序，但该小程序下载的所有漫画将被删除\\\"]);\\n                        return $(\\\"该操作不会删除小程序，但该小程序下载的所有 漫画/小说 将被删除\\\").confirm((path) => {\\n                            const File = $.require(\\\"hiker://page/File.js\\\");\\n                            if (File.deleteFiles(path)) {\\n                                clearMyVar(\\\".tgnum\\\");\\n                                refreshPage();\\n                                return \\\"toast://删除成功\\\";\\n                            } else {\\n                                return \\\"toast://删除失败\\\";\\n                            }\\n                        }, it.path);\\n                    }\\n                }, it)\\n            });\\n        } else {\\n            layout.push({\\n                title: it.name,\\n                col_type: \\\"scroll_button\\\",\\n                url: $(\\\"#noLoading#\\\").lazyRule(i => {\\n                    putMyVar(\\\".tgnum\\\", i);\\n                    refreshPage();\\n                    return \\\"hiker://empty\\\";\\n                }, i),\\n            });\\n        }\\n    }\\n    let path = tag[tgnum].path;\\n    let mhlist = File.getFilePath(path, \\\"dir\\\");\\n\\n    if (mhlist.length === 0) {\\n        layout.push({\\n            title: \\\"““””\\\" + \\\"啥都没有耶\\\".big(),\\n            url: \\\"hiker://empty\\\",\\n            col_type: \\\"text_center_1\\\",\\n            extra: {\\n                lineVisible: false\\n            }\\n        });\\n        return setResult(layout);\\n    }\\n    let pageUrl = type === \\\"novel\\\" ? \\\"hiker://page/NovelBrowser.view\\\" : \\\"hiker://page/ComicBrowser.view\\\";\\n    for (let item of mhlist) {\\n        let pic = fileExist(\\\"file://\\\" + item.path + \\\"/\\\" + item.name + \\\".jpg\\\") ? item.path + \\\"/\\\" + item.name + \\\".jpg\\\" : Config.def_Pic;\\n        layout.push({\\n            title: item.name,\\n            pic_url: pic,\\n            url: pageUrl + \\\"?rule=\\\" + MY_RULE.title,\\n            extra: item\\n        });\\n    }\\n    setResult(layout);\\n}\\n\\nmain();\"},{\"col_type\":\"text_1\",\"name\":\"#v.漫画章节列表\",\"path\":\"ComicBrowser.view\",\"rule\":\"js:\\nif (getParam(\\\"hasParams\\\") === \\\"true\\\") {\\n    MY_PARAMS = {\\n        path: decodeURIComponent(getParam(\\\"path\\\")),\\n        name: decodeURIComponent(getParam(\\\"name\\\"))\\n    }\\n}\\nlet path = MY_PARAMS.path;\\nsetPageTitle(\\\"CV|\\\" + MY_PARAMS.name)\\nconst File = $.require(\\\"hiker://page/File.js\\\");\\nconst Tool = $.require(\\\"hiker://page/Tool.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\n\\nvar layout = [];\\nlet mode = getMyVar(\\\".mode\\\", \\\"0\\\");\\nlet isReverse = getMyVar(\\\".isReverse\\\", \\\"0\\\");\\naddListener(\\\"onClose\\\", $.toString(() => {\\n    clearMyVar(\\\".mode\\\");\\n    clearMyVar(\\\".isReverse\\\");\\n}));\\nconst comicStatus=new Map([[\\\"A\\\",\\\"\\\"],[\\\"B\\\",\\\"‘‘[未完成]’’\\\"]]);\\nfunction getTitle(title) {\\n    let titles = Tool.split(title, \\\"$\\\", 2);\\n    return comicStatus.get(titles[1])+titles[2] || title;\\n}\\nlayout.push({\\n    title: \\\"删除整本\\\",\\n    url: $(\\\"确认删除整本漫画？\\\").confirm((path) => {\\n        const File = $.require(\\\"hiker://page/File.js\\\");\\n        if (File.deleteFiles(path)) {\\n            back();\\n            return \\\"toast://删除成功\\\";\\n        } else {\\n            return \\\"toast://删除失败\\\";\\n        }\\n    }, path),\\n    col_type: \\\"text_2\\\"\\n});\\nlayout.push({\\n    title: [\\\"看漫画\\\", \\\"删除章节\\\"][mode],\\n    url: $(\\\"#noLoading#\\\").lazyRule((mode) => {\\n        putMyVar(\\\".mode\\\", mode === \\\"0\\\" ? \\\"1\\\" : \\\"0\\\");\\n        refreshPage(true);\\n        return \\\"hiker://empty\\\"\\n    }, mode),\\n    col_type: \\\"text_2\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line_blank\\\"\\n})\\nlet mhlist = File.getFilePath(path, \\\"dir\\\");\\nmhlist.sort((a, b) => {\\n    a = (a.name.match(/\\\\d+/) || [])[0] || 0;\\n    b = (b.name.match(/\\\\d+/) || [])[0] || 0;\\n    return a - b;\\n});\\n\\nlayout.push({\\n    title: \\\"““””\\\" + \\\"章节 \\\".big() + (\\\"共有:\\\" + mhlist.length + \\\"章\\\").small(),\\n    url: $(\\\"#noLoading#\\\").lazyRule((isReverse) => {\\n        putMyVar(\\\".isReverse\\\", isReverse === \\\"0\\\" ? \\\"1\\\" : \\\"0\\\");\\n        refreshPage(true);\\n        return \\\"hiker://empty\\\"\\n    }, isReverse),\\n    col_type: \\\"text_1\\\"\\n});\\nlet array = [];\\nlet lazy = $(\\\"#noLoading#\\\").lazyRule(() => {\\n    const File = $.require(\\\"hiker://page/File.js\\\");\\n    let filelist = File.getFilePath(input);\\n    let piclist = filelist.map((item, i) => \\\"file://\\\" + input + \\\"/\\\" + (i + 1) + \\\".jpg\\\");\\n    return \\\"pics://\\\" + piclist.join(\\\"&&\\\");\\n})\\nif (mode === \\\"0\\\") {\\n    for (let item of mhlist) {\\n        array.push({\\n            title: getTitle(item.name),\\n            url: item.path+lazy,\\n            col_type: Config.def_View_Style\\n        });\\n    }\\n} else {\\n    for (let item of mhlist) {\\n        let name = getTitle(item.name);\\n        array.push({\\n            title: name,\\n            url: $(\\\"确认删除[\\\" + name + \\\"]？\\\").confirm((path) => {\\n                const File = $.require(\\\"hiker://page/File.js\\\");\\n                if (File.deleteFiles(path)) {\\n                    refreshPage(true);\\n                    return \\\"toast://删除成功\\\";\\n                } else {\\n                    return \\\"toast://删除失败\\\";\\n                }\\n            }, item.path),\\n            col_type: Config.def_View_Style\\n        });\\n    }\\n}\\nif (isReverse === \\\"1\\\") {\\n    array.reverse();\\n}\\nlayout.push.apply(layout, array);\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#v.聚合搜索\",\"path\":\"Search.view\",\"rule\":\"js:\\nconst File = $.require(\\\"hiker://page/File.js?rule=\\\" + MY_RULE._title);\\nconst Config = $.require(\\\"hiker://page/Config.json?rule=\\\" + MY_RULE._title);\\nlet comicRuleDirs = File.getFilePath(Config[getParam(\\\"type\\\") + \\\"Path\\\"], \\\"dir\\\");\\nif (getParam(\\\"isAll\\\") === \\\"1\\\") {\\n    comicRuleDirs = comicRuleDirs.filter(item => item.name === MY_RULE.title);\\n}\\n\\nlet searchResult = [];\\nlet searchTerms = getParam(\\\"searchTerms\\\");\\nlet termsArr = searchTerms.split(\\\"\\\").map(t => t.replace(/\\\\*|\\\\.|\\\\?|\\\\+|\\\\$|\\\\^|\\\\[|\\\\]|\\\\(|\\\\)|\\\\{|\\\\}|\\\\||\\\\/|\\\\\\\\/g, k => \\\"\\\\\\\\\\\" + k));\\nlet reg = new RegExp(termsArr.join(\\\".*\\\"), \\\"i\\\");\\nlet pageUrl = getParam(\\\"type\\\") === \\\"novel\\\" ? \\\"hiker://page/NovelBrowser.view\\\" : \\\"hiker://page/ComicBrowser.view\\\";\\nfor (let sonDir of comicRuleDirs) {\\n    let comicList = File.getFilePath(sonDir.path, \\\"dir\\\");\\n    for (let comic of comicList) {\\n        if (reg.test(comic.name)) {\\n            searchResult.push({\\n                title: comic.name,\\n                pic_url: comic.path + \\\"/\\\" + comic.name + \\\".jpg\\\",\\n                url: pageUrl + \\\"?rule=\\\" + MY_RULE._title,\\n                desc: sonDir.name,\\n                extra: comic\\n            });\\n        }\\n    }\\n\\n}\\nsetResult(searchResult);\"},{\"col_type\":\"movie_3\",\"name\":\"#v.设置\",\"path\":\"Setting.view\",\"rule\":\"js:\\nsetPageTitle(MY_RULE.title + \\\"|设置\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\n\\nlet layout = [];\\n\\nlayout.push({\\n    title: \\\"<strong>基础设置</strong>\\\".big(),\\n    col_type: \\\"rich_text\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line\\\"\\n});\\n\\nlayout.push({\\n    title: \\\"目录路径\\\",\\n    url: \\\"hiker://page/Setting/More.view#noRefresh##noRecordHistory##noHistory#?settingType=contents\\\",\\n    desc: Config.homePath,\\n    col_type: \\\"text_1\\\"\\n});\\nlayout.push({\\n    title: \\\"设置默认封面\\\",\\n    desc: Config.def_Pic,\\n    url: \\\"hiker://page/Setting/More.view#noRefresh##noRecordHistory##noHistory#?settingType=defaultPic\\\",\\n    col_type: \\\"text_1\\\",\\n    extra: {\\n        lineVisible: false\\n    }\\n});\\nlayout.push({\\n    col_type: \\\"line_blank\\\"\\n});\\nlayout.push({\\n    title: \\\"<strong>下载器设置</strong>\\\".big(),\\n    col_type: \\\"rich_text\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line\\\"\\n});\\n\\nfunction setNum(key, test) {\\n    let Config = JSON.parse(readFile(\\\"config.json\\\", 0) || \\\"{}\\\");\\n    input = parseInt(input);\\n    if (Number.isNaN(input)) return \\\"toast://请输入数字\\\";\\n    if (!test(input)) return \\\"toast://不符合条件\\\";\\n    Config[key] = input;\\n    saveFile(\\\"config.json\\\", JSON.stringify(Config), 0);\\n    refreshPage(false);\\n    return \\\"toast://修改成功\\\";\\n}\\nlayout.push({\\n    title: \\\"log数\\\",\\n    url: $(Config.logNum, \\\"0<N<100\\\").input(setNum, \\\"logNum\\\", it => it > 0 && it < 100),\\n    desc: \\\"\\\" + Config.logNum,\\n    col_type: \\\"text_1\\\"\\n});\\n\\nlayout.push({\\n    title: \\\"分批下载数(0不开启)\\\",\\n    url: $(\\\"\\\" + Config.threadNum, \\\"N>-1\\\").input(setNum, \\\"threadNum\\\", it => it > -1),\\n    desc: \\\"\\\" + Config.threadNum,\\n    col_type: \\\"text_1\\\",\\n    extra: {\\n        lineVisible: false,\\n    }\\n});\\n\\n\\nlayout.push({\\n    col_type: \\\"line_blank\\\"\\n});\\n\\nlayout.push({\\n    title: \\\"<strong>小说阅读器设置</strong>\\\".big(),\\n    col_type: \\\"rich_text\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line\\\"\\n});\\n\\nlayout.push({\\n    title: \\\"默认开启分页阅读\\\",\\n    url: $(\\\"#noLoading#\\\").lazyRule((def_isPaginate) => {\\n        let Config = JSON.parse(readFile(\\\"config.json\\\", 0) || \\\"{}\\\");\\n\\n        Config.def_isPaginate = def_isPaginate === \\\"0\\\" ? \\\"1\\\" : \\\"0\\\";\\n\\n        saveFile(\\\"config.json\\\", JSON.stringify(Config), 0);\\n        refreshPage(false);\\n        return \\\"hiker://empty\\\";\\n    }, Config.def_isPaginate),\\n    desc: Config.def_isPaginate === \\\"0\\\" ? \\\"不开启\\\" : \\\"开启\\\",\\n    col_type: \\\"text_1\\\"\\n});\\n\\nlayout.push({\\n    title: \\\"每页最大章数\\\",\\n    url: $(Config.viewPageSize, \\\"30<N<500\\\").input(setNum, \\\"viewPageSize\\\", it => it > 30 && it < 500),\\n    desc: \\\"\\\" + Config.viewPageSize,\\n    col_type: \\\"text_1\\\"\\n});\\nlayout.push({\\n    title: \\\"替换规则\\\",\\n    url: \\\"hiker://page/Setting/More.view#noRecordHistory##noHistory##noRefresh#?settingType=replaceRule\\\",\\n    col_type: \\\"text_1\\\",\\n    extra: {\\n        lineVisible: false\\n    }\\n});\\n\\nlayout.push({\\n    col_type: \\\"line_blank\\\"\\n});\\nlayout.push({\\n    title: \\\"<strong>其他设置</strong>\\\".big(),\\n    col_type: \\\"rich_text\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line\\\"\\n});\\nlayout.push({\\n    title: \\\"规则发布页\\\",\\n    url: \\\"hiker://page/ruleDetail#noHistory##noRecordHistory#?rule=道长仓库Pro\\\",\\n    extra: {\\n        lver: MY_PARAMS.version || \\\"获取版本失败，自行查看\\\",\\n        id: \\\"3559\\\"\\n    },\\n    col_type: \\\"text_1\\\"\\n});\\n\\nlayout.push({\\n    title: \\\"恢复默认设置\\\",\\n    url: $(\\\"确认恢复默认设置？\\\").confirm(() => {\\n        deleteFile(\\\"config.json\\\");\\n        refreshPage(false);\\n        return \\\"toast://恢复完成\\\";\\n    }),\\n    col_type: \\\"text_1\\\"\\n});\\nlayout.push({\\n    title: \\\"清理缓存\\\",\\n    url: \\\"hiker://page/Setting/More.view#noRecordHistory##noHistory#?settingType=cache\\\",\\n    col_type: \\\"text_1\\\"\\n});\\nlet tid = Date.now();\\nlayout.push({\\n    title: \\\"检测更新\\\",\\n    col_type: \\\"text_1\\\",\\n    url: $(\\\"#noLoading#\\\").lazyRule((oldVersion, tid) => {\\n        try {\\n            let newVersion = JSON.parse(request(\\\"http://hiker.nokia.press/hikerule/dev/getbyid?id=3559\\\", {\\n                timeout: 2000\\n            })).result.ver;\\n            if (newVersion <= oldVersion) {\\n                updateItem(tid + \\\"#设置_更新\\\", {\\n                    title: \\\"已经是最新版本了\\\"\\n                });\\n                return \\\"toast://已经是最新版本了\\\";\\n            } else {\\n                updateItem(tid + \\\"#设置_更新\\\", {\\n                    title: \\\"有新版本还未更新\\\"\\n                });\\n                toast(\\\"有新版本还未更新\\\");\\n                return \\\"rule://5rW36ZiU6KeG55WM77+laG9tZV9ydWxlX3VybO+/pWh0dHA6Ly9oaWtlci5ub2tpYS5wcmVzcy9oaWtlcnVsZS9ydWxlbGlzdC5qc29uP2lkPTM1NTk=\\\";\\n            }\\n        } catch (e) {\\n            updateItem(tid + \\\"#设置_更新\\\", {\\n                title: \\\"信息获取失败\\\"\\n            });\\n            return \\\"toast://更新信息获取失败\\\";\\n        }\\n    }, MY_PARAMS.version, tid),\\n    extra: {\\n        id: tid + \\\"#设置_更新\\\"\\n    }\\n});\\nlayout.push({\\n    title: \\\"关于如何调用\\\",\\n    url: \\\"https://qun.qq.com/qqweb/qunpro/share?_wv=3&_wwv=128&inviteCode=1HFyBJ&from=246610&biz=ka\\\",\\n    desc: \\\"详细点击加入频道，频道里@LoyDgIk\\\",\\n    col_type: \\\"text_1\\\"\\n});\\n/*\\nlayout.push({\\n    title: \\\"清除小说分页记录\\\",\\n    url: $(\\\"确认清除小说分页记录？\\\").confirm(() => {\\n        deleteFile(\\\"novelFootprint.json\\\");\\n        return \\\"toast://清除完成\\\";\\n    }),\\n    col_type: \\\"text_1\\\"\\n});\\n*/\\nsetResult(layout);\"},{\"col_type\":\"text_1\",\"name\":\"#v.小说章节列表\",\"path\":\"NovelBrowser.view\",\"rule\":\"js:\\nif (getParam(\\\"hasParams\\\") === \\\"true\\\") {\\n    MY_PARAMS = {\\n        path: decodeURIComponent(getParam(\\\"path\\\")),\\n        name: decodeURIComponent(getParam(\\\"name\\\"))\\n    }\\n}\\nlet path = MY_PARAMS.path;\\nsetPageTitle(\\\"NV|\\\" + MY_PARAMS.name);\\nconst File = $.require(\\\"hiker://page/File.js\\\");\\nconst Tool = $.require(\\\"hiker://page/Tool.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\nconst bookInfo = Object.assign({\\n    foot: 0,\\n    isReplace: true\\n}, JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\"));\\nlet id = \\\"#\\\" + new Date().getTime();\\nvar layout = [];\\nlet mode = getMyVar(\\\".mode\\\", \\\"0\\\");\\nlet mode2 = getMyVar(\\\".mode2\\\", Config.def_isPaginate);\\n\\nlet isReverse = getMyVar(\\\".isReverse\\\", \\\"0\\\");\\naddListener(\\\"onClose\\\", $.toString(() => {\\n    clearMyVar(\\\".mode\\\");\\n    clearMyVar(\\\".mode2\\\");\\n    clearMyVar(\\\".isReverse\\\");\\n    clearMyVar(\\\".pageNum\\\");\\n}));\\n\\nfunction getTitle(title) {\\n    let titles = Tool.split(title, \\\"$\\\", 2);\\n    return titles[2] !== undefined ? titles[2].slice(0, titles[2].lastIndexOf(\\\".\\\")) : title;\\n}\\nlayout.push({\\n    title: \\\"删除整本\\\",\\n    url: $(\\\"确认删除整本小说？\\\").confirm((path) => {\\n        const File = $.require(\\\"hiker://page/File.js\\\");\\n        if (File.deleteFiles(path)) {\\n            back();\\n            return \\\"toast://删除成功\\\";\\n        } else {\\n            return \\\"toast://删除失败\\\";\\n        }\\n    }, path),\\n    col_type: \\\"text_2\\\"\\n});\\n\\nlayout.push({\\n    title: [\\\"看小说\\\", \\\"删除章节\\\"][mode],\\n    url: $(\\\"#noLoading#\\\").lazyRule((mode) => {\\n        putMyVar(\\\".mode\\\", mode === \\\"0\\\" ? \\\"1\\\" : \\\"0\\\");\\n        refreshPage(true);\\n        return \\\"hiker://empty\\\"\\n    }, mode),\\n    col_type: \\\"text_2\\\"\\n});\\n\\nlayout.push({\\n    title: \\\"‘‘更多功能 >’’\\\",\\n    url: \\\"hiker://empty\\\",\\n    col_type: \\\"scroll_button\\\"\\n});\\n\\nfunction txt(paths) {\\n    showLoading(\\\"正在合并...\\\");\\n    const File = $.require(\\\"hiker://page/File.js\\\");\\n    const Tool = $.require(\\\"hiker://page/Tool.js\\\");\\n    const Config = $.require(\\\"hiker://page/Config.json\\\");\\n\\n    let filelist = File.getFilePath(paths.path, \\\"file\\\", \\\".txt\\\");\\n    let listLength = filelist.length;\\n    if (listLength === 0) {\\n        hideLoading();\\n        return \\\"toast://空的章节\\\";\\n    }\\n    const bookInfo = Object.assign({\\n        selected: [],\\n        isReplace: true\\n    }, JSON.parse(request(\\\"file://\\\" + paths.path + \\\"/bookInfo.json\\\") || \\\"{}\\\"));\\n    let bufilelist = [];\\n    for (let i = 0; i < listLength; i++) {\\n        let file = filelist[i];\\n        let fileInfo = Tool.split(file.name, \\\"$\\\", 2);\\n        bufilelist.push({\\n            name: fileInfo[2].slice(0, fileInfo[2].lastIndexOf(\\\".\\\")),\\n            path: \\\"file://\\\" + file.path,\\n            id: Number(fileInfo[0]) || 0\\n        });\\n    }\\n    bufilelist.sort((a, b) => a.id - b.id);\\n    let entirePath = paths.path.replace(Config.novelPath, Config.novelFullPath) + \\\".txt\\\";\\n    let entirePathto = bookInfo.isReplace ? entirePath + \\\".tmp\\\" : entirePath;\\n\\n    if (fileExist(\\\"file://\\\" + entirePath)) {\\n        toast(\\\"初始化文件\\\");\\n        if (!File.deleteFiles(entirePath)) {\\n            hideLoading();\\n            return \\\"toast://初始化失败\\\";\\n        } else {\\n            toast(\\\"初始化成功\\\");\\n        }\\n    }\\n\\n    for (let i = 0; i < listLength; i++) {\\n        let item = bufilelist[i];\\n        let content = request(item.path);\\n        File.fileWriteAppend(entirePathto, item.name + \\\"\\\\n　　\\\" + content.replace(/^\\\\s+|\\\\s+$/gm, \\\"\\\").replace(/&nbsp;/g,\\\"\\\").split(/\\\\n+/).join(\\\"\\\\r　　\\\") + \\\"\\\\n\\\\n\\\");\\n    }\\n    if (bookInfo.isReplace) {\\n        let ruleList = JSON.parse(readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\n        let len = ruleList.length;\\n        let replacePattern = [\\\"replace\\\", \\\"replaceAll\\\"];\\n        let flag = File.fileRule(entirePathto, entirePath, (javaString) => {\\n            for (let i = 0; i < len; i++) {\\n                let replaceRule = ruleList[i];\\n                if (!bookInfo.selected.includes(replaceRule.id)) {\\n                    continue;\\n                }\\n                let replace = replacePattern[0 + replaceRule.isRegex];\\n                javaString = javaString[replace](replaceRule.pattern, replaceRule.replacement);\\n            }\\n            return javaString.getBytes();\\n        });\\n        if (!flag) {\\n            hideLoading();\\n            return \\\"toast://合并失败\\\";\\n        }\\n\\n    }\\n    hideLoading();\\n    return \\\"toast://合并完成\\\";\\n}\\nlayout.push({\\n    title: \\\"合并小说\\\",\\n    url: $(\\\"确定合并?\\\\n会覆盖已有TXT\\\").confirm(txt, MY_PARAMS),\\n    col_type: \\\"scroll_button\\\"\\n});\\nlayout.push({\\n    title: [\\\"☐分页\\\", \\\"☑分页\\\"][mode2],\\n    url: $(\\\"#noLoading#\\\").lazyRule((mode2) => {\\n        putMyVar(\\\".mode2\\\", mode2 === \\\"0\\\" ? \\\"1\\\" : \\\"0\\\");\\n        refreshPage(true);\\n        return \\\"hiker://empty\\\";\\n    }, mode2),\\n    col_type: \\\"scroll_button\\\"\\n});\\nlayout.push({\\n    title: \\\"净化\\\",\\n    url: \\\"hiker://page/NovelCustom.view#noRecordHistory##noHistory##noRefresh#\\\",\\n    extra: MY_PARAMS,\\n    col_type: \\\"scroll_button\\\"\\n});\\nlayout.push({\\n    title: \\\"外部查看\\\",\\n    url: $(\\\"#noLoading#\\\").lazyRule((path) => {\\n        const Config = $.require(\\\"hiker://page/Config.json\\\");\\n        let entirePath = path.replace(Config.novelPath, Config.novelFullPath) + \\\".txt\\\";\\n        if (fileExist(\\\"file://\\\" + entirePath)) {\\n            toast(\\\"调用第三方应用打开文件\\\");\\n            return \\\"openFile://file://\\\" + entirePath\\n        } else {\\n            return \\\"toast://本地暂无可供外部打开的txt文件，请先合并小说！\\\"\\n        }\\n    }, path),\\n    col_type: \\\"scroll_button\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line_blank\\\"\\n});\\n\\nlet mhlist = File.getFilePath(path, \\\"file\\\", \\\".txt\\\");\\nmhlist.sort((a, b) => {\\n    a = (a.name.match(/\\\\d+/) || [])[0] || 0;\\n    b = (b.name.match(/\\\\d+/) || [])[0] || 0;\\n    return a - b;\\n});\\nlet chapterList = [];\\nlet chapterCount = mhlist.length;\\n\\nif (mode2 === \\\"1\\\") {\\n    let mhlistChunk = Tool.chunk(mhlist, Config.viewPageSize);\\n    let viewPageCount = mhlistChunk.length;\\n    let defPage = (viewPageCount - 1 < bookInfo.foot ? 0 : bookInfo.foot) || 0;\\n    let pageNum = Number(getMyVar(\\\".pageNum\\\", \\\"\\\" + defPage));\\n    chapterList = mhlistChunk[pageNum] || [];\\n    layout.push({\\n        title: \\\"““””\\\" + \\\"章节 \\\".big() + (\\\"本页:\\\" + chapterList.length + \\\" 共有:\\\" + chapterCount + \\\"章 当前:\\\" + (pageNum + 1) + \\\"/\\\" + viewPageCount).small(),\\n        url: $(\\\"#noLoading#\\\").lazyRule((isReverse) => {\\n            putMyVar(\\\".isReverse\\\", isReverse === \\\"0\\\" ? \\\"1\\\" : \\\"0\\\");\\n            refreshPage(true);\\n            return \\\"hiker://empty\\\"\\n        }, isReverse),\\n        col_type: \\\"text_1\\\"\\n    });\\n    layout.push({\\n        title: \\\"跳集\\\",\\n        url: $(chapterCount, \\\"输入跳转章节 1-\\\" + chapterCount).input((chapterCount, pageNum, viewPageSize, path) => {\\n            let inputNum = Number(input);\\n            if (Number.isNaN(inputNum) || inputNum < 0 || inputNum > chapterCount) {\\n                return \\\"toast://请输入正确范围内的数字\\\";\\n            }\\n            inputNum = Math.floor((inputNum + viewPageSize) / viewPageSize) - 1;\\n            if (pageNum === inputNum) return \\\"toast://正在当前页面\\\";\\n            putMyVar(\\\".pageNum\\\", \\\"\\\" + inputNum);\\n            const bookInfo = JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\");\\n            bookInfo.foot = inputNum;\\n            writeFile(\\\"file://\\\" + path, JSON.stringify(bookInfo));\\n            refreshPage(false);\\n        }, chapterCount, pageNum, Config.viewPageSize, path),\\n        col_type: \\\"text_5\\\"\\n    });\\n    layout.push({\\n        title: \\\"跳页\\\",\\n        url: $(pageNum + 1, \\\"跳转页数 1-\\\" + viewPageCount).input((viewPageCount, pageNum, path) => {\\n            let inputNum = Number(input) - 1;\\n            if (Number.isNaN(inputNum) || inputNum < 0 || inputNum > viewPageCount - 1) {\\n                return \\\"toast://请输入正确范围内的数字\\\";\\n            }\\n            if (pageNum === inputNum) return \\\"toast://正在当前页面\\\";\\n            putMyVar(\\\".pageNum\\\", \\\"\\\" + inputNum);\\n            const bookInfo = JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\");\\n            bookInfo.foot = inputNum;\\n            writeFile(\\\"file://\\\" + path + \\\"/bookInfo.json\\\", JSON.stringify(bookInfo));\\n            refreshPage(false);\\n        }, viewPageCount, pageNum, path),\\n        col_type: \\\"text_5\\\"\\n    });\\n    layout.push({\\n        title: \\\"上一页\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((pageNum, path) => {\\n            let inputNum = pageNum - 1;\\n            if (inputNum < 0) {\\n                return \\\"toast://已经是第一页了\\\";\\n            }\\n            putMyVar(\\\".pageNum\\\", \\\"\\\" + inputNum);\\n            const bookInfo = JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\");\\n            bookInfo.foot = inputNum;\\n            writeFile(\\\"file://\\\" + path + \\\"/bookInfo.json\\\", JSON.stringify(bookInfo));\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        }, pageNum, path),\\n        col_type: \\\"text_5\\\"\\n    });\\n    layout.push({\\n        title: \\\"下一页\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((viewPageCount, pageNum, path) => {\\n            let inputNum = pageNum + 1;\\n            if (inputNum > viewPageCount - 1) {\\n                return \\\"toast://已经是最后一页了\\\";\\n            }\\n            putMyVar(\\\".pageNum\\\", \\\"\\\" + inputNum);\\n            const bookInfo = JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\");\\n            bookInfo.foot = inputNum;\\n            writeFile(\\\"file://\\\" + path + \\\"/bookInfo.json\\\", JSON.stringify(bookInfo));\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        }, viewPageCount, pageNum, path),\\n        col_type: \\\"text_5\\\"\\n    });\\n    layout.push({\\n        title: \\\"末页\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((viewPageCount, pageNum, path) => {\\n            let inputNum = viewPageCount - 1;\\n            if (pageNum === inputNum || inputNum === -1) {\\n                return \\\"toast://已经是最后一页了\\\";\\n            }\\n            putMyVar(\\\".pageNum\\\", \\\"\\\" + inputNum);\\n            const bookInfo = JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\");\\n            bookInfo.foot = inputNum;\\n            writeFile(\\\"file://\\\" + path + \\\"/bookInfo.json\\\", JSON.stringify(bookInfo));\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        }, viewPageCount, pageNum, path),\\n        col_type: \\\"text_5\\\"\\n    });\\n} else {\\n    chapterList = mhlist;\\n    layout.push({\\n        title: \\\"““””\\\" + \\\"章节 \\\".big() + (\\\"共有:\\\" + chapterCount + \\\"章\\\").small(),\\n        url: $(\\\"#noLoading#\\\").lazyRule((isReverse) => {\\n            putMyVar(\\\".isReverse\\\", isReverse === \\\"0\\\" ? \\\"1\\\" : \\\"0\\\");\\n            refreshPage(true);\\n            return \\\"hiker://empty\\\"\\n        }, isReverse),\\n        col_type: \\\"text_1\\\"\\n    });\\n}\\nlet array = [];\\nif (mode === \\\"0\\\") {\\n    for (let item of chapterList) {\\n        let name = getTitle(item.name);\\n        array.push({\\n            title: name,\\n            url: \\\"hiker://page/NovelMainBody#autoPage##readTheme#\\\",\\n            extra: {\\n                path: item.path,\\n                dirPath: path,\\n                title: name,\\n            },\\n            col_type: Config.def_View_Style\\n        });\\n    }\\n} else {\\n    for (let item of chapterList) {\\n        let name = getTitle(item.name);\\n        array.push({\\n            title: name,\\n            url: $(\\\"确认删除[\\\" + name + \\\"]？\\\").confirm((path) => {\\n                const File = $.require(\\\"hiker://page/File.js\\\");\\n                if (File.deleteFiles(path)) {\\n                    refreshPage(true);\\n                    return \\\"toast://删除成功\\\";\\n                } else {\\n                    return \\\"toast://删除失败\\\";\\n                }\\n            }, item.path),\\n            col_type: Config.def_View_Style\\n        });\\n    }\\n}\\nif (isReverse === \\\"1\\\") {\\n    array.reverse();\\n}\\nlayout.push.apply(layout, array);\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#v.小说正文阅读\",\"path\":\"NovelMainBody\",\"rule\":\"js:\\nvar layout = [];\\nlet content = request(\\\"file://\\\" + MY_PARAMS.path);\\n//content = content.replace(/\\\\n|\\\\r/g, \\\"<br>\\\").replace(/(&nbsp;)+/g,\\\" \\\");\\nconst bookInfo = Object.assign({\\n    selected: [],\\n    isReplace: true\\n}, JSON.parse(request(\\\"file://\\\" + MY_PARAMS.dirPath + \\\"/bookInfo.json\\\") || \\\"{}\\\"));\\n\\nif (bookInfo.isReplace) {\\n    let javaString = java.lang.String(content);\\n    let ruleList = JSON.parse(readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\n    let replacePattern = [\\\"replace\\\", \\\"replaceAll\\\"];\\n    for (let i = 0, len = ruleList.length; i < len; i++) {\\n        let replaceRule = ruleList[i];\\n        if (!bookInfo.selected.includes(replaceRule.id)) {\\n            continue;\\n        }\\n        let replace = replacePattern[0 + replaceRule.isRegex];\\n        javaString = javaString[replace](replaceRule.pattern, replaceRule.replacement);\\n    }\\n    content = String(javaString);\\n}\\ncontent = \\\"　　\\\" + content.replace(/^\\\\s+|\\\\s+$/gm, \\\"\\\").split(/\\\\n+/).join(\\\"<br>　　\\\");\\n\\nlayout.push({\\n    col_type: \\\"rich_text\\\",\\n    title: (\\\"<strong>\\\" + MY_PARAMS.title + \\\"</strong>\\\").big(),\\n});\\n\\nlayout.push({\\n    title: content,\\n    col_type: 'rich_text',\\n    extra: {\\n        textSize: 18,\\n        click: true\\n    }\\n});\\nsetResult(layout);\"},{\"col_type\":\"text_1\",\"name\":\"#v.合并TXT\",\"path\":\"NovelCollected.view\",\"rule\":\"js:\\nconst File = $.require(\\\"hiker://page/File.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\nlet rulelDir = File.getFilePath(Config.novelFullPath, \\\"dir\\\");\\nsetPageTitle(\\\"合并TXT\\\");\\nlet layout = [];\\n\\nfunction operation(path) {\\n    switch (input) {\\n        case \\\"分享\\\":\\n            return \\\"share://\\\" + path;\\n            break;\\n        case \\\"删除\\\":\\n            const File = $.require(\\\"hiker://page/File.js\\\");\\n            if (File.deleteFiles(path)) {\\n                refreshPage();\\n                return \\\"toast://删除成功\\\";\\n            } else {\\n                return \\\"toast://删除失败\\\";\\n            }\\n            break;\\n        case \\\"海阔预览\\\":\\n            return \\\"hiker://page/txtParser.view\\\";\\n            break;\\n        case \\\"打开方式\\\":\\n            return \\\"openFile://file://\\\" + path;\\n            break;\\n    }\\n}\\nfor (let rulePaths of rulelDir) {\\n    let novels = File.getFilePath(rulePaths.path, \\\"file\\\", \\\".txt\\\");\\n    for (let novel of novels) {\\n        layout.push({\\n            title: novel.name,\\n            url: $([\\\"分享\\\", \\\"删除\\\", \\\"海阔预览\\\", \\\"打开方式\\\"], 1).select(operation, novel.path),\\n            desc: \\\"来源：\\\" + rulePaths.name,\\n            col_type: \\\"text_1\\\",\\n            extra: {\\n                path: novel.path\\n            }\\n        });\\n    }\\n}\\nif (layout.length === 0) {\\n    layout.push({\\n        title: '<h1 style=\\\"text-align: center;\\\">啥都没有耶</h1>',\\n        col_type: \\\"rich_text\\\"\\n    });\\n}\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#v.更多设置\",\"path\":\"Setting/More.view\",\"rule\":\"js:\\nconst File = $.require(\\\"hiker://page/File.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\n\\nconst settingType = MY_PARAMS.settingType || getParam(\\\"settingType\\\");\\n\\nlet layout = [];\\nlet id = \\\"#\\\" + new Date().getTime();\\nswitch (settingType) {\\n    case \\\"cache\\\":\\n        setPageTitle(\\\"清除缓存|设置\\\");\\n        const knownList = new Map([\\n            [File.getName(Config.novelPath), \\\"#管理器#小说缓存目录[不建议清除]\\\"],\\n            [File.getName(Config.comicPath), \\\"#管理器#漫画缓存目录[不建议清除]\\\"],\\n            [File.getName(Config.externalImportPath), \\\"#管理器#导入的TXT目录[不建议清除]\\\"],\\n            [File.getName(Config.novelFullPath), \\\"#管理器#小说合并目录[可以清除]\\\"],\\n            [\\\"dr章节缓存\\\", \\\"道长模板临时缓存[建议清除]\\\"]\\n        ]);\\n\\n        let cacheDir = File.getFilePath(Config.homePath, \\\"dir\\\");\\n\\n        function cleanCache(path) {\\n            const File = $.require(\\\"hiker://page/File.js\\\");\\n            if (File.deleteFiles(path)) {\\n                refreshPage(false);\\n                return \\\"toast://清除完成\\\";\\n            } else {\\n                return \\\"toast://清除失败\\\";\\n            }\\n        }\\n        for (let cache of cacheDir) {\\n            layout.push({\\n                title: cache.name,\\n                desc: \\\"大小：\\\" + File.getFileSize(cache.path) + \\\"\\\\n描述：\\\" + (knownList.get(cache.name) || \\\"未知目录[风险未知]\\\"),\\n                col_type: \\\"text_1\\\",\\n                url: $(\\\"确认清除 \\\" + cache.name + \\\" ?\\\").confirm(cleanCache, cache.path)\\n            });\\n        }\\n        layout.push({\\n            col_type: \\\"line_blank\\\"\\n        });\\n        layout.push({\\n            title: \\\"全部清除(\\\" + File.getFileSize(Config.homePath) + \\\")\\\",\\n            col_type: \\\"text_center_1\\\",\\n            url: $(\\\"确认清除全部缓存数据?\\\").confirm(cleanCache, Config.homePath)\\n        });\\n        break;\\n    case \\\"defaultPic\\\":\\n        setPageTitle(\\\"默认封面|设置\\\");\\n        if (getMyVar(\\\":defaultPicBack\\\")) {\\n            back();\\n            clearMyVar(\\\":defaultPicBack\\\");\\n            break;\\n        }\\n\\n        function setDefaultPic(url) {\\n            let Config = JSON.parse(readFile(\\\"config.json\\\", 0) || \\\"{}\\\");\\n            Config.def_Pic = url;\\n            saveFile(\\\"config.json\\\", JSON.stringify(Config), 0);\\n            back();\\n            return \\\"toast://修改成功\\\";\\n        }\\n        let start = 1;\\n        if (typeof(MY_NAME) !== \\\"undefined\\\" && MY_NAME === \\\"嗅觉浏览器\\\") {\\n            start = 4;\\n        }\\n        for (let i = start; i <= 4; i++) {\\n            layout.push({\\n                title: \\\"图片\\\" + i,\\n                col_type: \\\"movie_3\\\",\\n                pic_url: \\\"hiker://images/home_pic\\\" + i,\\n                url: $(\\\"#noLoading#\\\").lazyRule(setDefaultPic, \\\"hiker://images/home_pic\\\" + i)\\n            });\\n        }\\n        layout.push({\\n            title: \\\"自定义➕\\\",\\n            col_type: \\\"text_3\\\",\\n            url: $([\\\"自定义url\\\", \\\"选择文件路径\\\"]).select(() => {\\n                if (input === \\\"自定义url\\\") {\\n                    return $(\\\"\\\", \\\"输入图片的路径或者链接\\\").input(() => {\\n                        let Config = JSON.parse(readFile(\\\"config.json\\\", 0) || \\\"{}\\\");\\n                        Config.def_Pic = input;\\n                        saveFile(\\\"config.json\\\", JSON.stringify(Config), 0);\\n                        back();\\n                        return \\\"toast://修改成功\\\";\\n                    });\\n                } else {\\n                    let requireUrl = \\\"http://hiker.nokia.press/hikerule/rulelist.json?id=5099\\\";\\n                    let fileSelect = require(requireUrl);\\n                    return fileSelect.fileSelectionUri({\\n                        callback: $.toString(() => {\\n                            let Config = JSON.parse(readFile(\\\"config.json\\\", 0) || \\\"{}\\\");\\n                            Config.def_Pic = \\\"file://\\\" + PATH;\\n                            saveFile(\\\"config.json\\\", JSON.stringify(Config), 0);\\n                            putMyVar(\\\":defaultPicBack\\\", \\\"true\\\");\\n                            back();\\n                            return \\\"toast://修改成功\\\";\\n                        }),\\n                        requireUrl: requireUrl,\\n                        fileType: \\\".jpg|.jpeg|.gif|.png|.svg|.bmp\\\",\\n                        onClickType: \\\"confirm\\\",\\n                        memory: \\\"selectPathCache2\\\"\\n                    });\\n                }\\n            })\\n        });\\n        break;\\n    case \\\"replaceRule\\\":\\n        if (MY_PARAMS.isRefresh) {\\n            addListener(\\\"onClose\\\", $.toString(() => refreshPage()));\\n        }\\n        setPageTitle(\\\"替换规则|设置\\\");\\n        let ruleList = JSON.parse(readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\n        layout.push({\\n            title: \\\"新建替换\\\",\\n            url: \\\"hiker://page/editReplaceRule.view#noRecordHistory##noHistory##noRefresh#?isNew=true\\\",\\n            col_type: \\\"text_3\\\"\\n        });\\n        layout.push({\\n            title: \\\"导出规则\\\",\\n            url: $(\\\"确认导出\\\" + ruleList.length + \\\"条规则？\\\\n({homePtah}/replaceRule.json)\\\").confirm((num) => {\\n                const Config = $.require(\\\"hiker://page/Config.json\\\");\\n                let savePta = Config.homePath + \\\"/replaceRule.json\\\";\\n                writeFile(savePta, readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\n                log(\\\"\\\\n路径：\\\" + savePta + \\\"\\\\n导出规则 \\\" + num + \\\" 条\\\");\\n                return \\\"share://\\\" + savePta;\\n            }, ruleList.length),\\n            col_type: \\\"text_3\\\"\\n        });\\n\\n        function importRule(isback) {\\n            input = typeof PATH === \\\"undefined\\\" ? input : PATH;\\n            input = input.startsWith(\\\"file://\\\") ? input : \\\"file://\\\" + input\\n            let ruleText = request(input);\\n            if (!ruleText) return \\\"toast://获取文件为空\\\";\\n            try {\\n                let newRuleList = JSON.parse(ruleText);\\n                let ruleList = JSON.parse(readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\n                let newCount = 0,\\n                    updateCount = 0;\\n                for (let i in newRuleList) {\\n                    let newRule = newRuleList[i];\\n                    if (!newRule.hasOwnProperty(\\\"replacement\\\") || !newRule.hasOwnProperty(\\\"pattern\\\") || !newRule.hasOwnProperty(\\\"name\\\") || (newRule.scopeContent === undefined ? false : !newRule.scopeContent)) {\\n                        continue;\\n                    }\\n                    let id = newRule.id;\\n                    newRule.id = id || new Date().getTime();\\n                    let idIndex = ruleList.findIndex(rule => rule.id === id);\\n                    if (idIndex > -1) {\\n                        updateCount++;\\n                        ruleList.splice(idIndex, 1, newRule);\\n                    } else {\\n                        newCount++;\\n                        ruleList.push(newRule);\\n                    }\\n                }\\n                saveFile(\\\"replaceRule.json\\\", JSON.stringify(ruleList));\\n                if (isback) {\\n                    back();\\n                } else {\\n                    refreshPage();\\n                }\\n                log(\\\"\\\\n路径：\\\" + input + \\\"\\\\n总规则数：\\\" + newRuleList.length + \\\"\\\\n更新规则 \\\" + updateCount + \\\" 条\\\\t新增规则 \\\" + newCount + \\\" 条\\\");\\n                toast(\\\"导入成功\\\");\\n            } catch (e) {\\n                log(e.toString());\\n                if (isback) back();\\n                toast(\\\"导入失败\\\");\\n            }\\n        }\\n        layout.push({\\n            title: \\\"导入规则\\\",\\n            url: $([\\\"外部文件\\\", \\\"内部文件\\\"], 1, \\\"规则导入\\\").select((importRule) => {\\n                if (input === \\\"外部文件\\\") {\\n                    return \\\"fileSelect://\\\" + $.toString(importRule);\\n                } else {\\n                    let requireUrl = \\\"http://hiker.nokia.press/hikerule/rulelist.json?id=5099\\\";\\n                    let fileSelect = require(requireUrl);\\n                    return fileSelect.fileSelectionUri({\\n                        callback: $.toString(importRule, true),\\n                        requireUrl: requireUrl,\\n                        fileType: \\\".json\\\",\\n                        onClickType: \\\"confirm\\\",\\n                        memory: \\\"selectPathCache\\\"\\n                    });\\n                }\\n            }, importRule),\\n            col_type: \\\"text_3\\\"\\n        });\\n        layout.push({\\n            col_type: \\\"line_blank\\\"\\n        });\\n        for (let i = 0, len = ruleList.length; i < len; i++) {\\n            let replaceRule = ruleList[i];\\n            layout.push({\\n                title: replaceRule.name,\\n                col_type: \\\"text_1\\\",\\n                url: \\\"hiker://empty\\\",\\n                extra: {\\n                    cls: id + \\\".\\\" + i,\\n                    lineVisible: false\\n                }\\n            });\\n            layout.push({\\n                title: \\\"删除\\\",\\n                url: $(\\\"#noLoading#\\\").lazyRule((id, index) => {\\n                    var ruleList = JSON.parse(readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\n                    let g = ruleList.splice(index, 1);\\n\\n                    saveFile(\\\"replaceRule.json\\\", JSON.stringify(ruleList));\\n                    //deleteItemByCls(id + \\\".\\\" + index);\\n                    refreshPage(false);\\n                    toast(\\\"删除成功\\\");\\n                    return \\\"hiker://empty\\\";\\n                }, id, i),\\n                extra: {\\n                    cls: id + \\\".\\\" + i\\n                },\\n                col_type: \\\"text_2\\\"\\n            });\\n            layout.push({\\n                title: \\\"编辑\\\",\\n                url: \\\"hiker://page/editReplaceRule.view#noRecordHistory##noHistory##noRefresh#?index=\\\" + i,\\n                col_type: \\\"text_2\\\",\\n                extra: {\\n                    cls: id + \\\".\\\" + i\\n                }\\n            });\\n            layout.push({\\n                col_type: \\\"line_blank\\\",\\n                extra: {\\n                    cls: id + \\\".\\\" + i\\n                }\\n            });\\n        }\\n        break;\\n    case \\\"contents\\\":\\n        let f = require(\\\"http://hiker.nokia.press/hikerule/rulelist.json?id=5099\\\");\\n        setPageTitle(\\\"目录设置|设置\\\");\\n        layout.push({\\n            title: \\\"选择文件夹\\\",\\n            url: JSON.stringify(f.fileSelectionUri({\\n                callback: $.toString((id) => {\\n                    let target = findItem(id).extra;\\n                    updateItem(id, {\\n                        extra: Object.assign(target, {\\n                            defaultValue: PATH\\n                        })\\n                    });\\n                    return true;\\n                }, id),\\n                initialPath: Config.homePath,\\n                requireUrl: \\\"http://hiker.nokia.press/hikerule/rulelist.json?id=5099\\\",\\n                pattern: 1\\n            })),\\n            col_type: \\\"input\\\",\\n            desc: \\\"支持hiker://files路径(该操作不会初始化目录)\\\",\\n            extra: {\\n                defaultValue: Config.homePath,\\n                onChange: $.toString((id) => {\\n                    putMyVar(id, input);\\n                }, id),\\n                id: id\\n            }\\n        });\\n        layout.push({\\n            col_type: \\\"line_blank\\\"\\n        });\\n        layout.push({\\n            title: \\\"确认\\\",\\n            url: $(\\\"#noLoading#\\\").lazyRule((id) => {\\n                let input = getMyVar(id, findItem(id).extra.defaultValue || \\\"\\\");\\n                const Config = $.require(\\\"hiker://page/Config.json\\\");\\n                if (input.startsWith(\\\"hiker://files/\\\")) input = getPath(input).slice(7);\\n                if (input.endsWith(\\\"/\\\")) input=input.replace(/\\\\/$/,\\\"\\\");\\n                if (Config.homePath == input) return \\\"toast://已经是当前目录\\\";\\n                Config = JSON.parse(readFile(\\\"config.json\\\", 0) || \\\"{}\\\");\\n                Config.homePath = input;\\n                saveFile(\\\"config.json\\\", JSON.stringify(Config), 0);\\n                back();\\n                return \\\"toast://已保存\\\";\\n            }, id),\\n            col_type: \\\"text_center_1\\\",\\n        });\\n\\n        break;\\n}\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#v.编辑替换规则\",\"path\":\"editReplaceRule.view\",\"rule\":\"js:\\nconst isNew = MY_PARAMS.isNew || getParam(\\\"isNew\\\");\\nconst index = MY_PARAMS.index || Number(getParam(\\\"index\\\"));\\nlet layout = [];\\naddListener(\\\"onClose\\\", $.toString(() => {\\n    clearMyVar(\\\".editReplaceRule.name\\\");\\n    clearMyVar(\\\".editReplaceRule.isRegex\\\");\\n    clearMyVar(\\\".editReplaceRule.pattern\\\");\\n    clearMyVar(\\\".editReplaceRule.replacement\\\");\\n    clearMyVar(\\\".editReplaceRule.first\\\");\\n    //clearMyVar(\\\".editReplaceRule.scope\\\");\\n}));\\nlet ruleList = JSON.parse(readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\nlet id = \\\"#\\\" + new Date().getTime();\\n//let replaceRule = isNew == \\\"true\\\"?{}:ruleList[index];\\nif (isNew == \\\"true\\\") {\\n    replaceRule = {\\n        id: new Date().getTime(),\\n        isRegex: false,\\n    }\\n} else {\\n    replaceRule = ruleList[index];\\n}\\n//首次初始化\\nif(getMyVar(\\\".editReplaceRule.first\\\",\\\"\\\")==\\\"\\\"){\\n    putMyVar(\\\".editReplaceRule.isRegex\\\", \\\"\\\" + replaceRule.isRegex);\\n    putMyVar(\\\".editReplaceRule.first\\\",\\\"1\\\");\\n}\\nlayout.push({\\n    title: \\\"拷贝\\\",\\n    url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n        let att = [\\\"name\\\", \\\"isRegex\\\", \\\"pattern\\\", \\\"replacement\\\"];\\n        let json = {};\\n        att.forEach(key => {\\n            let value = getMyVar(\\\".editReplaceRule.\\\" + key, \\\"\\\");\\n            if (key === \\\"isRegex\\\") {\\n                value = value === \\\"true\\\" ? true : false;\\n            }\\n            json[key] = value;\\n        });\\n        copy(JSON.stringify(json));\\n        return \\\"hiker://empty\\\";\\n    }),\\n    col_type: \\\"text_2\\\"\\n});\\nlayout.push({\\n    title: \\\"粘贴\\\",\\n    url: $(\\\"{{clipboard}}\\\").input(() => {\\n        try {\\n            let json = JSON.parse(input);\\n            if (Array.isArray(json) || json.pattern == undefined) return;\\n            let att = [\\\"name\\\", \\\"isRegex\\\", \\\"pattern\\\", \\\"replacement\\\"];\\n            att.forEach(key => {\\n                putMyVar(\\\".editReplaceRule.\\\" + key, String(json[key]));\\n            });\\n            refreshPage(false);\\n        } catch (e) {\\n            log(e.toString());\\n        }\\n    }),\\n    col_type: \\\"text_2\\\"\\n});\\nlayout.push({\\n    col_type: \\\"input\\\",\\n    desc: \\\"替换规则名称\\\",\\n    extra: {\\n        titleVisible: false,\\n        defaultValue: getMyVar(\\\".editReplaceRule.name\\\", replaceRule.name),\\n        onChange: 'putMyVar(\\\".editReplaceRule.name\\\",input);'\\n    }\\n});\\n\\nlayout.push({\\n    col_type: \\\"input\\\",\\n    desc: \\\"替换规则\\\",\\n    extra: {\\n        titleVisible: false,\\n        type: \\\"textarea\\\",\\n        height: -1,\\n        defaultValue: getMyVar(\\\".editReplaceRule.pattern\\\", replaceRule.pattern),\\n        onChange: 'putMyVar(\\\".editReplaceRule.pattern\\\", input);'\\n    }\\n});\\nlayout.push({\\n    title: \\\"是否使用正则表达式：\\\" + getMyVar(\\\".editReplaceRule.isRegex\\\"),\\n    url: $(\\\"#noLoading#\\\").lazyRule((id) => {\\n        let isRegex = getMyVar(\\\".editReplaceRule.isRegex\\\") === \\\"true\\\" ? false : true;\\n        updateItem({\\n            extra: {\\n                id: id\\n            },\\n            title: \\\"是否使用正则表达式：\\\" + isRegex\\n        });\\n        putMyVar(\\\".editReplaceRule.isRegex\\\", \\\"\\\" + isRegex);\\n        return \\\"hiker://empty\\\";\\n    }, id),\\n    col_type: \\\"text_1\\\",\\n    extra: {\\n        id: id\\n    }\\n});\\nlayout.push({\\n    col_type: \\\"input\\\",\\n    desc: \\\"替换为\\\",\\n    extra: {\\n        titleVisible: false,\\n        type: \\\"textarea\\\",\\n        height: -1,\\n        defaultValue: getMyVar(\\\".editReplaceRule.replacement\\\", replaceRule.replacement),\\n        onChange: 'putMyVar(\\\".editReplaceRule.replacement\\\",input);'\\n    }\\n});\\nlayout.push({\\n    title: \\\"保存\\\",\\n    url: $(\\\"#noLoading#\\\").lazyRule((replaceRule, isNew, index) => {\\n        let pattern = getMyVar(\\\".editReplaceRule.pattern\\\", \\\"\\\");\\n        if (!pattern) {\\n            return \\\"toast://替换规则不能为空\\\";\\n        }\\n        Object.assign(replaceRule, {\\n            name: getMyVar(\\\".editReplaceRule.name\\\", \\\"\\\"),\\n            isRegex: getMyVar(\\\".editReplaceRule.isRegex\\\") === \\\"true\\\" ? true : false,\\n            pattern: pattern,\\n            replacement: getMyVar(\\\".editReplaceRule.replacement\\\", \\\"\\\")\\n        });\\n        let ruleList = JSON.parse(readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\n        if (isNew == \\\"true\\\") {\\n            ruleList.push(replaceRule);\\n        } else {\\n            ruleList.splice(index, 1, replaceRule);\\n        }\\n        saveFile(\\\"replaceRule.json\\\", JSON.stringify(ruleList));\\n        back();\\n        return \\\"toast://保存成功\\\";\\n    }, replaceRule, isNew, index),\\n    col_type: \\\"text_center_1\\\",\\n});\\n\\n/*\\nlayout.push({\\n    col_type: \\\"input\\\",\\n    desc: \\\"替换范围\\\",\\n    extra: {\\n        titleVisible: false,\\n        type: \\\"textarea\\\",\\n        height: -1,\\n        defaultValue: \\\"\\\",\\n        onChange: 'putMyVar(\\\".editReplaceRule.scope\\\",input);'\\n    }\\n});\\n\\n*/\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#v.小说个性化净化\",\"path\":\"NovelCustom.view\",\"rule\":\"js:\\nsetPageTitle(\\\"替换规则|\\\" + MY_PARAMS.name);\\nlet ruleList = JSON.parse(readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\nlet id = \\\"#\\\" + new Date().getTime();\\n\\nconst bookInfo = Object.assign({\\n    foot: 0,\\n    isReplace: true,\\n    selected: []\\n}, JSON.parse(request(\\\"file://\\\" + MY_PARAMS.path + \\\"/bookInfo.json\\\") || \\\"{}\\\"));\\n\\nlet layout = [];\\nlayout.push({\\n    title: [\\\"☐净化\\\", \\\"☑净化\\\"][0 + bookInfo.isReplace],\\n    url: $(\\\"#noLoading#\\\").lazyRule(($id, path) => {\\n\\n        var bookInfo = JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\");\\n        let isReplace = bookInfo.isReplace===undefined?true:bookInfo.isReplace;\\n        bookInfo.isReplace = !isReplace;\\n        writeFile(\\\"file://\\\" + path + \\\"/bookInfo.json\\\", JSON.stringify(bookInfo));\\n        updateItem($id, {\\n            title: isReplace ? \\\"☐净化\\\" : \\\"☑净化\\\",\\n        });\\n        return \\\"hiker://empty\\\";\\n    }, id + \\\"#-1\\\", MY_PARAMS.path),\\n    extra: {\\n        id: id + \\\"#-1\\\"\\n    },\\n    col_type: \\\"text_2\\\"\\n});\\nlayout.push({\\n    title: \\\"编辑规则\\\",\\n    url: \\\"hiker://page/Setting/More.view#noRecordHistory##noHistory##noRefresh#?settingType=replaceRule\\\",\\n    col_type: \\\"text_2\\\",\\n    extra:{\\n        isRefresh: true\\n    }\\n});\\nfor (let i = 0, len = ruleList.length; i < len; i++) {\\n    let replaceRule = ruleList[i];\\n    let isTrue = bookInfo.selected.includes(replaceRule.id);\\n    layout.push({\\n        title: (isTrue ? \\\"●\\\" : \\\"○\\\") + replaceRule.name,\\n        col_type: \\\"text_1\\\",\\n        url: \\\"hiker://empty\\\",\\n        y: 0,\\n        extra: {\\n            isTrue: isTrue,\\n            id: id + i,\\n            lineVisible: false\\n        }\\n    });\\n    layout.push({\\n        title: \\\"开启\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule(($id, replaceRule, path) => {\\n            if (findItem($id).extra.isTrue) {\\n                return \\\"toast://已开启\\\";\\n            }\\n            const bookInfo = Object.assign({\\n                selected: []\\n            }, JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\"));\\n            bookInfo.selected.push(replaceRule.id);\\n            updateItem($id, {\\n                title: \\\"●\\\" + replaceRule.name,\\n                extra: {\\n                    isTrue: true,\\n                    id: $id,\\n                    lineVisible: false\\n                }\\n            });\\n            writeFile(\\\"file://\\\" + path + \\\"/bookInfo.json\\\", JSON.stringify(bookInfo));\\n            return \\\"hiker://empty\\\";\\n        }, id + i, replaceRule, MY_PARAMS.path),\\n        col_type: \\\"text_2\\\"\\n    });\\n    layout.push({\\n        title: \\\"关闭\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule(($id, replaceRule, path) => {\\n            if (!findItem($id).extra.isTrue) {\\n                return \\\"toast://已关闭\\\";\\n            }\\n            const bookInfo = Object.assign({\\n                selected: []\\n            }, JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\"));\\n            bookInfo.selected.splice(bookInfo.selected.indexOf(replaceRule.id), 1);\\n            updateItem($id, {\\n                title: \\\"○\\\" + replaceRule.name,\\n                extra: {\\n                    isTrue: false,\\n                    id: $id,\\n                    lineVisible: false\\n                }\\n            });\\n            writeFile(\\\"file://\\\" + path + \\\"/bookInfo.json\\\", JSON.stringify(bookInfo));\\n            return \\\"hiker://empty\\\";\\n        }, id + i, replaceRule, MY_PARAMS.path),\\n        col_type: \\\"text_2\\\"\\n    });\\n    layout.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n}\\n\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#v.外导TXT\",\"path\":\"externalimportTxt.view\",\"rule\":\"js:\\nfunction txtView(layout) {\\n    const File = $.require(\\\"hiker://page/File.js\\\");\\n    const Config = $.require(\\\"hiker://page/Config.json\\\");\\n    let files = File.getFilePath(Config.externalImportPath, undefined, \\\".txt\\\");\\n    setPageTitle(\\\"TXT阅读器\\\");\\n    //let layout = [];\\n    layout.push({\\n        url: '\\\"hiker://page/txtSearch.view#noRefresh#?searchTerms=\\\"+encodeURIComponent(input)',\\n        desc: \\\"TXT搜索\\\",\\n        title: \\\"🔍\\\",\\n        col_type: \\\"input\\\",\\n        extra: {\\n            defaultValue: getMyVar(\\\"searchKeyByTxt\\\", \\\"\\\"),\\n            onChange: \\\"putMyVar('searchKeyByTxt',input)\\\"\\n        }\\n    });\\n    layout.push({\\n        title: \\\"导入TXT\\\",\\n        col_type: \\\"text_2\\\",\\n        url: $([\\\"系统选择器\\\", \\\"海阔选择器\\\"], 1, \\\"选择器类型\\\").select(() => {\\n            if (input === \\\"系统选择器\\\") {\\n                return \\\"fileSelect://\\\" + $.toString(() => {\\n                    if (!/(\\\\.txt)$/i.test(input)) {\\n                        toast(\\\"选择了错误的文件类型\\\");\\n                        return;\\n                    }\\n                    const Config = $.require(\\\"hiker://page/Config.json\\\");\\n                    let novelName = input.match(/\\\\/([^\\\\/]*?)(\\\\.txt)$/i)[1].replace(\\\"_fileSelect_\\\", \\\"\\\");\\n                    let topath = Config.externalImportPath + novelName + \\\".txt\\\";\\n                    let path = input.replace(\\\"file://\\\", \\\"\\\");\\n                    if (fileExist(\\\"file://\\\" + topath)) {\\n                        confirm({\\n                            title: \\\"导入提示\\\",\\n                            content: \\\"已存在[\\\" + novelName + \\\"]是否覆盖?\\\",\\n                            confirm: $.toString((path, topath) => {\\n                                const File = $.require(\\\"hiker://page/File.js\\\");\\n                                File.copyFile(path, topath, true);\\n                                if (fileExist(\\\"file://\\\" + topath + \\\".json\\\")) {\\n                                    File.deleteFiles(topath + \\\".json\\\");\\n                                }\\n                                refreshPage(false);\\n                                return \\\"toast://导入成功\\\";\\n                            }, path, topath)\\n                        });\\n                        return;\\n                    } else {\\n                        const File = $.require(\\\"hiker://page/File.js\\\");\\n                        File.copyFile(path, topath);\\n                        if (fileExist(\\\"file://\\\" + topath + \\\".json\\\")) {\\n                            File.deleteFiles(topath + \\\".json\\\");\\n                        }\\n                        refreshPage(false);\\n                        toast(\\\"导入成功\\\");\\n                        return;\\n                    }\\n                });\\n            } else {\\n                let requireUrl = \\\"http://hiker.nokia.press/hikerule/rulelist.json?id=5099\\\";\\n                let fileSelect = require(requireUrl);\\n                return fileSelect.fileSelectionUri({\\n                    callback: $.toString(() => {\\n                        const Config = $.require(\\\"hiker://page/Config.json\\\");\\n                        let novelName = PATH.match(/\\\\/([^\\\\/]*?)(\\\\.txt)$/i)[1];\\n                        let topath = Config.externalImportPath + novelName + \\\".txt\\\";\\n                        let path = PATH;\\n                        if (fileExist(\\\"file://\\\" + topath)) {\\n                            return $(\\\"已存在[\\\" + novelName + \\\"]是否覆盖?\\\").confirm((path, topath) => {\\n                                const File = $.require(\\\"hiker://page/File.js\\\");\\n                                File.copyFile(path, topath, true);\\n                                if (fileExist(\\\"file://\\\" + topath + \\\".json\\\")) {\\n                                    File.deleteFiles(topath + \\\".json\\\");\\n                                }\\n                                back();\\n                                return \\\"toast://导入成功\\\";\\n                            }, path, topath);\\n                        } else {\\n                            const File = $.require(\\\"hiker://page/File.js\\\");\\n                            File.copyFile(path, topath);\\n                            if (fileExist(\\\"file://\\\" + topath + \\\".json\\\")) {\\n                                File.deleteFiles(topath + \\\".json\\\");\\n                            }\\n                            back();\\n                            return \\\"toast://导入成功\\\";\\n                        }\\n                    }),\\n                    requireUrl: requireUrl,\\n                    fileType: \\\".txt\\\",\\n                    onClickType: \\\"confirm\\\",\\n                    memory: \\\"selectPathCache1\\\"\\n                });\\n            }\\n        }),\\n        extra: {\\n            lineVisible: false\\n        }\\n    });\\n    let options = [\\\"阅读\\\", \\\"分享\\\", \\\"删除\\\", \\\"打开方式\\\"];\\n\\n    let pattern = getMyVar(\\\":txtPattern\\\", options[0]);\\n    let id = Date.now() + \\\":模式\\\";\\n    layout.push({\\n        title: pattern,\\n        col_type: \\\"text_2\\\",\\n        url: $(options, 1, \\\"操作模式\\\").select((id) => {\\n            putMyVar(\\\":txtPattern\\\", input);\\n            updateItem(id, {\\n                title: input\\n            });\\n        }, id),\\n        extra: {\\n            id: id\\n        }\\n    })\\n    layout.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n\\n    function operation(path, name) {\\n        let pattern = getMyVar(\\\":txtPattern\\\", \\\"阅读\\\");\\n        switch (pattern) {\\n            case \\\"分享\\\":\\n                return \\\"share://\\\" + path;\\n                break;\\n            case \\\"删除\\\":\\n                return $(\\\"确认删除[\\\" + name + \\\"]\\\").confirm((path) => {\\n                    const File = $.require(\\\"hiker://page/File.js\\\");\\n                    if (File.deleteFiles(path)) {\\n                        if (fileExist(\\\"file://\\\" + path + \\\".json\\\")) {\\n                            File.deleteFiles(path + \\\".json\\\");\\n                        }\\n                        refreshPage();\\n                        return \\\"toast://删除成功\\\";\\n                    } else {\\n                        return \\\"toast://删除失败\\\";\\n                    }\\n                }, path);\\n                break;\\n            case \\\"阅读\\\":\\n                return \\\"hiker://page/txtParser.view?rule=\\\" + MY_RULE.title;\\n                break;\\n            case \\\"打开方式\\\":\\n                return \\\"openFile://file://\\\" + path;\\n                break;\\n        }\\n    }\\n\\n    for (let novel of files) {\\n        layout.push({\\n            title: novel.name,\\n            url: $(\\\"#noLoading#\\\").lazyRule(operation, novel.path, novel.name),\\n            desc: \\\"大小：\\\" + File.getFileSize(novel.path) + \\\"\\\\n修改时间：\\\" + $.dateFormat(novel.lastModified, \\\"yyyy-MM-dd HH:mm:ss\\\"),\\n            col_type: \\\"text_1\\\",\\n            extra: {\\n                path: novel.path,\\n                isCache: true,\\n                title: novel.name\\n            }\\n        });\\n    }\\n    if (files.length === 0) {\\n        layout.push({\\n            title: \\\"设置\\\",\\n            url: \\\"hiker://page/Setting.view#noRefresh##noRecordHistory##noHistory#\\\",\\n            col_type: \\\"text_2\\\",\\n            extra: {\\n                version: MY_RULE.version\\n            }\\n        });\\n\\n        layout.push({\\n            title: \\\"““帮助””\\\",\\n            url: \\\"hiker://page/help.view#noRefresh##noRecordHistory##noHistory#?keyword=txt\\\",\\n            col_type: \\\"text_2\\\"\\n        });\\n        layout.push({\\n            title: '<h1 style=\\\"text-align: center;\\\">啥都没有耶</h1>',\\n            col_type: \\\"rich_text\\\"\\n        });\\n    }\\n    setResult(layout);\\n}\\nif ($.importParam === undefined) {\\n    $.exports = txtView;\\n} else if ($.importParam === null) {\\n    setResult(txtView([]));\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"#v.TXT解析器\",\"path\":\"txtParser.view\",\"rule\":\"js:\\n(function() {\\n    let regs = $.require(\\\"hiker://page/regularChapter.f\\\");\\n    let path = decodeURIComponent(getParam(\\\"path\\\") || \\\"\\\") || MY_PARAMS.path;\\n    let charst = decodeURIComponent(getParam(\\\"charst\\\") || \\\"\\\") || MY_PARAMS.charst || \\\"UTF-8\\\";\\n    let isCache = MY_PARAMS.isCache;\\n    if (!path.startsWith(\\\"file://\\\")) {\\n        path = \\\"file://\\\" + path;\\n    }\\n    if(MY_PARAMS.title){\\n        setPageTitle(MY_PARAMS.title);\\n    }else{\\n        setPageTitle($.require(\\\"hiker://page/File.js\\\").getName(path));\\n    }\\n    let layout = [];\\n    let chapterNames = [];\\n    let intervals = [];\\n    let hasPreface = false;\\n    if (fileExist(path + \\\".json\\\") && isCache) {\\n        try {\\n\\n            let c = JSON.parse(request(path + \\\".json\\\"));\\n            chapterNames = c.chapterNames;\\n            intervals = c.intervals;\\n            hasPreface = c.hasPreface;\\n            layout.push({\\n                title: \\\"重新解析目录\\\",\\n                col_type: \\\"text_center_1\\\",\\n                url: $(\\\"#noLoading#\\\").lazyRule((path) => {\\n                    deleteFile(path);\\n                    refreshPage();\\n                    return \\\"hiker://empty\\\";\\n                }, path+\\\".json\\\"),\\n                extra: {\\n                    lineVisible:false\\n                }\\n            });\\n            layout.push({\\n                col_type:\\\"line_blank\\\"\\n            });\\n        } catch (e) {\\n            log(e.toString());\\n            setResult([{\\n                title: \\\"““””<strong>目录解析失败(重新解析)</strong>\\\".big(),\\n                col_type: \\\"text_center_1\\\",\\n                url: $(\\\"#noLoading#\\\").lazyRule((path) => {\\n                    deleteFile(path);\\n                    refreshPage();\\n                    return \\\"hiker://empty\\\";\\n                }, path+\\\".json\\\"),\\n                extra: {\\n                    lineVisible: false\\n                }\\n            }]);\\n            return;\\n        }\\n\\n    } else {\\n        showLoading(\\\"正在解析目录\\\");\\n        let txt = request(path, {\\n            headers: {\\n                //\\\"content-type\\\": \\\"text/plain; charst=\\\" + charst\\n            }\\n        });\\n        let pattern = regs.getTocRule(txt);\\n        if (!pattern) {\\n            hideLoading();\\n            setResult([{\\n                title: \\\"““””<strong>目录解析失败</strong>\\\".big(),\\n                col_type: \\\"text_center_1\\\",\\n                url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n                    back(false);\\n                    return \\\"hiker://empty\\\";\\n                }),\\n                extra: {\\n                    lineVisible: false\\n                }\\n            }]);\\n            return;\\n        }\\n        let matcher = pattern.matcher(txt);\\n        let pointer = 0;\\n        while (matcher.find()) {\\n            let start = matcher.start();\\n            let end = matcher.end();\\n            let t = matcher.group();\\n            if (pointer === 0 && start > 30) {\\n                hasPreface = true;\\n            }\\n            chapterNames.push(t);\\n            intervals.push([pointer, start]);\\n            pointer = end;\\n        }\\n        intervals.push([pointer, txt.length]);\\n        if (isCache) {\\n            writeFile(path + \\\".json\\\", JSON.stringify({\\n                chapterNames: chapterNames,\\n                intervals: intervals,\\n                hasPreface: hasPreface\\n            }));\\n        }\\n        hideLoading();\\n    }\\n\\n\\n    if (hasPreface) {\\n        let interval = intervals[0];\\n        layout.push({\\n            title: \\\"序言\\\",\\n            col_type: \\\"text_1\\\",\\n            url: \\\"hiker://page/TXTViewer.view#autoPage##readTheme#\\\",\\n            extra: {\\n                chapterName: \\\"序言\\\",\\n                start: interval[0],\\n                end: interval[1],\\n                path: path,\\n                charst: charst\\n            }\\n        });\\n    }\\n    for (let i = 0; i < chapterNames.length; i++) {\\n        let name = chapterNames[i];\\n        let interval = intervals[i + 1];\\n        layout.push({\\n            title: name,\\n            col_type: \\\"text_1\\\",\\n            url: \\\"hiker://page/TXTViewer.view#autoPage##readTheme#\\\",\\n            extra: {\\n                start: interval[0],\\n                end: interval[1],\\n                chapterName: name,\\n                path: path,\\n                charst: charst\\n            }\\n        });\\n    }\\n    setResult(layout);\\n})()\"},{\"col_type\":\"movie_3\",\"name\":\"#v.TXT查看器\",\"path\":\"TXTViewer.view\",\"rule\":\"js:\\nlet path = MY_PARAMS.path;\\nlet charst = MY_PARAMS.charst;\\nlet txt = request(path, {\\n    headers: {\\n       //\\\"content-type\\\": \\\"text/plain; charst=\\\" + charst\\n    }\\n});\\n\\nlet targetTexts = txt.substring(MY_PARAMS.start, MY_PARAMS.end);\\n\\nlet content = targetTexts.split(/(\\\\n|\\\\r)+/).filter(it => it.length > 1).join(\\\"<br>\\\");\\nlet layout = [];\\nlayout.push({\\n    col_type: \\\"rich_text\\\",\\n    title: (\\\"<strong>\\\" + MY_PARAMS.chapterName + \\\"</strong>\\\").big(),\\n});\\n\\nlayout.push({\\n    title: content,\\n    col_type: 'rich_text',\\n    extra: {\\n        textSize: 18,\\n        click: true\\n    }\\n});\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#j.章节正则\",\"path\":\"regularChapter.f\",\"rule\":\"js:\\nlet rules = [{\\n        \\\"id\\\": -1,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"目录(去空白)\\\",\\n        \\\"rule\\\": \\\"(?<=[　\\\\\\\\s])(?:序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|第?\\\\\\\\s{0,4}[\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]+?\\\\\\\\s{0,4}(?:章|节(?!课)|卷|集(?![合和]))).{0,30}$\\\",\\n        \\\"example\\\": \\\"第一章 假装第一章前面有空白但我不要\\\",\\n        \\\"serialNumber\\\": 0\\n    },\\n    {\\n        \\\"id\\\": -2,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"目录\\\",\\n        \\\"rule\\\": \\\"^[ 　\\\\\\\\t]{0,4}(?:序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|第?\\\\\\\\s{0,4}[\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]+?\\\\\\\\s{0,4}(?:章|节(?!课)|卷|集(?![合和])|部(?![分赛游])|篇(?!张))).{0,30}$\\\",\\n        \\\"example\\\": \\\"第一章 标准的粤语就是这样\\\",\\n        \\\"serialNumber\\\": 1\\n    },\\n    {\\n        \\\"id\\\": -3,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"目录(匹配简介)\\\",\\n        \\\"rule\\\": \\\"(?<=[　\\\\\\\\s])(?:(?:内容|文章)?简介|文案|前言|序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|第?\\\\\\\\s{0,4}[\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]+?\\\\\\\\s{0,4}(?:章|节(?!课)|卷|集(?![合和])|部(?![分赛游])|回(?![合来事去])|场(?![和合比电是])|篇(?!张))).{0,30}$\\\",\\n        \\\"example\\\": \\\"简介 老夫诸葛村夫\\\",\\n        \\\"serialNumber\\\": 2\\n    },\\n    {\\n        \\\"id\\\": -4,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"目录(古典、轻小说备用)\\\",\\n        \\\"rule\\\": \\\"^[ 　\\\\\\\\t]{0,4}(?:序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|第?\\\\\\\\s{0,4}[\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]+?\\\\\\\\s{0,4}(?:章|节(?!课)|卷|集(?![合和])|部(?![分赛游])|回(?![合来事去])|场(?![和合比电是])|话|篇(?!张))).{0,30}$\\\",\\n        \\\"example\\\": \\\"第一章 比上面只多了回和话\\\",\\n        \\\"serialNumber\\\": 3\\n    },\\n    {\\n        \\\"id\\\": -5,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"数字(纯数字标题)\\\",\\n        \\\"rule\\\": \\\"(?<=[　\\\\\\\\s])\\\\\\\\d+\\\\\\\\.?[ 　\\\\\\\\t]{0,4}$\\\",\\n        \\\"example\\\": \\\"12\\\",\\n        \\\"serialNumber\\\": 4\\n    },\\n    {\\n        \\\"id\\\": -6,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"大写数字(纯数字标题)\\\",\\n        \\\"rule\\\": \\\"(?<=[　\\\\\\\\s])[〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,12}[ 　\\\\\\\\t]{0,4}$\\\",\\n        \\\"example\\\": \\\"一百七十\\\",\\n        \\\"serialNumber\\\": 4\\n    },\\n    {\\n        \\\"id\\\": -7,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"数字 分隔符 标题名称\\\",\\n        \\\"rule\\\": \\\"^[ 　\\\\\\\\t]{0,4}\\\\\\\\d{1,5}[:：,.， 、_—\\\\\\\\-].{1,30}$\\\",\\n        \\\"example\\\": \\\"1、这个就是标题\\\",\\n        \\\"serialNumber\\\": 5\\n    },\\n    {\\n        \\\"id\\\": -8,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"大写数字 分隔符 标题名称\\\",\\n        \\\"rule\\\": \\\"^[ 　\\\\\\\\t]{0,4}(?:序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|[〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8})[ 、_—\\\\\\\\-].{1,30}$\\\",\\n        \\\"example\\\": \\\"一、只有前面的数字有差别\\\",\\n        \\\"serialNumber\\\": 6\\n    },\\n    {\\n        \\\"id\\\": -9,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"正文 标题/序号\\\",\\n        \\\"rule\\\": \\\"^[ 　\\\\\\\\t]{0,4}正文[ 　]{1,4}.{0,20}$\\\",\\n        \\\"example\\\": \\\"正文 我奶常山赵子龙\\\",\\n        \\\"serialNumber\\\": 7\\n    },\\n    {\\n        \\\"id\\\": -10,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"Chapter/Section/Part/Episode 序号 标题\\\",\\n        \\\"rule\\\": \\\"^[ 　\\\\\\\\t]{0,4}(?:[Cc]hapter|[Ss]ection|[Pp]art|ＰＡＲＴ|[Nn][oO]\\\\\\\\.|[Ee]pisode|(?:内容|文章)?简介|文案|前言|序章|楔子|正文(?!完|结)|终章|后记|尾声|番外)\\\\\\\\s{0,4}\\\\\\\\d{1,4}.{0,30}$\\\",\\n        \\\"example\\\": \\\"Chapter 1 MyGrandmaIsNB\\\",\\n        \\\"serialNumber\\\": 8\\n    },\\n    {\\n        \\\"id\\\": -11,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"Chapter(去简介)\\\",\\n        \\\"rule\\\": \\\"^[ 　\\\\\\\\t]{0,4}(?:[Cc]hapter|[Ss]ection|[Pp]art|ＰＡＲＴ|[Nn][Oo]\\\\\\\\.|[Ee]pisode)\\\\\\\\s{0,4}\\\\\\\\d{1,4}.{0,30}$\\\",\\n        \\\"example\\\": \\\"Chapter 1 MyGrandmaIsNB\\\",\\n        \\\"serialNumber\\\": 9\\n    },\\n    {\\n        \\\"id\\\": -12,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"特殊符号 序号 标题\\\",\\n        \\\"rule\\\": \\\"(?<=[\\\\\\\\s　])[【〔〖「『〈［\\\\\\\\[](?:第|[Cc]hapter)[\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,10}[章节].{0,20}$\\\",\\n        \\\"example\\\": \\\"【第一章 后面的符号可以没有\\\",\\n        \\\"serialNumber\\\": 10\\n    },\\n    {\\n        \\\"id\\\": -13,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"特殊符号 标题(成对)\\\",\\n        \\\"rule\\\": \\\"(?<=[\\\\\\\\s　]{0,4})(?:[\\\\\\\\[〈「『〖〔《（【\\\\\\\\(].{1,30}[\\\\\\\\)】）》〕〗』」〉\\\\\\\\]]?|(?:内容|文章)?简介|文案|前言|序章|楔子|正文(?!完|结)|终章|后记|尾声|番外)[ 　]{0,4}$\\\",\\n        \\\"example\\\": \\\"『加个直角引号更专业』\\\",\\n        \\\"serialNumber\\\": 11\\n    },\\n    {\\n        \\\"id\\\": -14,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"特殊符号 标题(单个)\\\",\\n        \\\"rule\\\": \\\"(?<=[\\\\\\\\s　]{0,4})(?:[☆★✦✧].{1,30}|(?:内容|文章)?简介|文案|前言|序章|楔子|正文(?!完|结)|终章|后记|尾声|番外)[ 　]{0,4}$\\\",\\n        \\\"example\\\": \\\"☆、晋江作者最喜欢的格式\\\",\\n        \\\"serialNumber\\\": 12\\n    },\\n    {\\n        \\\"id\\\": -15,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"章/卷 序号 标题\\\",\\n        \\\"rule\\\": \\\"^[ \\\\\\\\t　]{0,4}(?:(?:内容|文章)?简介|文案|前言|序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|[卷章][\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8})[ 　]{0,4}.{0,30}$\\\",\\n        \\\"example\\\": \\\"卷五 开源盛世\\\",\\n        \\\"serialNumber\\\": 13\\n    },\\n    {\\n        \\\"id\\\": -16,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"顶格标题\\\",\\n        \\\"rule\\\": \\\"^\\\\\\\\S.{1,20}$\\\",\\n        \\\"example\\\": \\\"不超过20个字顶格写的都是标题\\\",\\n        \\\"serialNumber\\\": 14\\n    },\\n    {\\n        \\\"id\\\": -17,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"双标题(前向)\\\",\\n        \\\"rule\\\": \\\"(?m)(?<=[ \\\\\\\\t　]{0,4})第[\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}章.{0,30}$(?=[\\\\\\\\s　]{0,8}第[\\\\\\\\d零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}章)\\\",\\n        \\\"example\\\": \\\"第一章 真正的标题并假装换行第一章 这个不要\\\",\\n        \\\"serialNumber\\\": 15\\n    },\\n    {\\n        \\\"id\\\": -18,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"双标题(后向)\\\",\\n        \\\"rule\\\": \\\"(?m)(?<=[ \\\\\\\\t　]{0,4}第[\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}章.{0,30}$[\\\\\\\\s　]{0,8})第[\\\\\\\\d零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}章.{0,30}$\\\",\\n        \\\"example\\\": \\\"第一章 这个标题不要并假装换行第一章真正的标题\\\",\\n        \\\"serialNumber\\\": 16\\n    },\\n    {\\n        \\\"id\\\": -19,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"书名 括号 序号\\\",\\n        \\\"rule\\\": \\\"^.{1,20}[(（][\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}[)）][ 　\\\\t]{0,4}$\\\",\\n        \\\"example\\\": \\\"标题后面数字有括号(12)\\\",\\n        \\\"serialNumber\\\": 17\\n    },\\n    {\\n        \\\"id\\\": -20,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"书名 序号\\\",\\n        \\\"rule\\\": \\\"^.{1,20}[\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}[ 　\\\\t]{0,4}$\\\",\\n        \\\"example\\\": \\\"标题后面数字没有括号124\\\",\\n        \\\"serialNumber\\\": 18\\n    }\\n];\\nlet Matcher = java.util.regex.Matcher;\\nlet Pattern = java.util.regex.Pattern;\\n\\nfunction getTocRule(content) {\\n    let maxCs = 1;\\n    let tocPattern = null;\\n    for (let tocRule of rules) {\\n        if (!tocRule.enable) continue;\\n        let pattern = Pattern.compile(tocRule.rule, Pattern.MULTILINE);\\n        let matcher = pattern.matcher(content);\\n        let cs = 0;\\n        while (matcher.find()) {\\n            cs++;\\n        }\\n        if (cs >= maxCs) {\\n            maxCs = cs;\\n            tocPattern = pattern;\\n        }\\n    }\\n    return tocPattern;\\n}\\n$.exports.getTocRule = getTocRule;\"},{\"col_type\":\"movie_3\",\"name\":\"#V.帮助\",\"path\":\"help.view\",\"rule\":\"js:\\nlet helpText = {\\n    \\\"txt\\\": `\\n        <h1 id=\\\"txt是什么\\\">TXT是什么?</h1>\\n        <p><a href=\\\"https://baike.baidu.com/item/txt/1217330\\\">我已经帮你百度了</a>；简单来说就是一种储存小说的文件(扩展名:txt)。</p>\\n        <h1 id=\\\"如何用该小程序阅读txt小说\\\">如何用该小程序阅读txt小说?</h1>\\n        <p>在主页面 ◉TXT 界面下，点击导入TXT，选择目标小说文件(txt文件，<em>该操作不会删除txt文件，而是copy一份到小程序的路径下</em>)，导入后再在 ◉TXT 界面下选择想要阅读的小说即可。</p>\\n\\n    `,\\n    \\\"novelComic\\\": `\\n        <h1 id=\\\"这个小程序有什么用？\\\">这个小程序有什么用？</h1>\\n        <ul>\\n        <li><u>代码上为其他小程序(漫画类/小说类)提供下载接口。</u></li>\\n        <li><u>本体充当阅读器，可以浏览用该小程序提供的下载接口(上面)，下载的漫画/小说。</u></li>\\n        <li><u>提供TXT格式小说文件解析功能。</u>\\n        <h1 id=\\\"为什么列表里什么都没用\\\">为什么列表里什么都没用?</h1>\\n        <u>初次使用，没有很正常吧。🤔</u>\\n        <h1 id=\\\"该如何添加漫画或小说\\\">该如何添加漫画(或小说)?</h1>\\n        <u> 在一个有下载功能的小程序(漫画类/小说类)中下载一本漫画/小说，返回该规则即可浏览。</u></li>\\n        </ul>\\n    `\\n};\\nsetPageTitle(\\\"帮助\\\");\\nlet keyword = getParam(\\\"keyword\\\");\\nlet text;\\nif (keyword === undefined || !(text = helpText[keyword])) {\\n    setResult([{\\n        title: '<h1 style=\\\"text-align: center;\\\">资料不见咯</h1>',\\n        col_type: \\\"rich_text\\\"\\n    }]);\\n} else {\\n    setResult([{\\n        title: text,\\n        col_type: \\\"rich_text\\\"\\n    }]);\\n}\"},{\"col_type\":\"text_1\",\"name\":\"#v.TXT搜索\",\"path\":\"txtSearch.view\",\"rule\":\"js:\\nconst File = $.require(\\\"hiker://page/File.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\n\\nlet searchTerms = decodeURIComponent(getParam(\\\"searchTerms\\\"));\\nsetPageTitle(\\\"「\\\" + searchTerms + \\\"」的搜索结果\\\");\\nlet data = File.getFilePath(Config.externalImportPath, undefined, \\\".txt\\\");\\nlet termsArr = searchTerms.split(\\\"\\\").map(t => t.replace(/\\\\*|\\\\.|\\\\?|\\\\+|\\\\$|\\\\^|\\\\[|\\\\]|\\\\(|\\\\)|\\\\{|\\\\}|\\\\||\\\\/|\\\\\\\\/g, k => \\\"\\\\\\\\\\\" + k));\\nlet reg = new RegExp(termsArr.join(\\\".*\\\"), \\\"i\\\");\\nlet searchResult = [];\\nfor (let txt of data) {\\n    if (reg.test(txt.name)) {\\n        searchResult.push({\\n            title: txt.name,\\n            url: \\\"hiker://page/txtParser.view\\\",\\n            desc: txt.path,\\n            extra: {\\n                path: txt.path,\\n                isCache: true,\\n                title: txt.name\\n            }\\n        });\\n    }\\n}\\nif (searchResult.length === 0) {\\n    searchResult.push({\\n        col_type:\\\"big_big_blank_block\\\",\\n    },{\\n        col_type:\\\"big_big_blank_block\\\",\\n    },{\\n        col_type:\\\"big_big_blank_block\\\",\\n    },{\\n        col_type:\\\"big_big_blank_block\\\",\\n    },{\\n        title: '<h2 style=\\\"text-align: center;\\\">🔎没有找到相关书籍</h2>',\\n        col_type: \\\"rich_text\\\"\\n    });\\n}\\nsetResult(searchResult);\"}]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/q/58.png"},{"last_chapter_rule":"","pageList":[],"title":"熊猫看看.dr","author":"道长","version":2,"type":"video","url":"https://www.xmrss.com/index.php/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"疑似失效","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\".module-items&&.module-item;a&&title;.lazyloaded&&data-src;.module-item-text&&Text;a,1&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/(.*)\\/page\\/(.*?).html/)[2];\ntrue_url = 获取正确链接(null,null,false);\nlet cates=打造动态分类([{\n        一级分类: 'body&&.scroll-content',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-search-item;.video-info&&a&&title;.lazyload&&data-src;.video-serial&&Text;a,1&&href;.video-info-items,2&&Text\";\n一级(parStr,true);","search_url":"https://www.xmrss.com/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'body&&h1.page-title&&Text',\n img:'.lazyload&&data-src',\n url:'.page-title&&a&&href',\n desc:'.video-info-aux&&Text',\ncontent:'.sqjj_a&&Text.js:input.split(\"……\")[0].replace(\"[收起部分]\",\"\")',\n tabs:'body&&.module-tab-item',\n lists:'.sort-item,#id&&div&&a',\n tab_id:'',\n};\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://android-artworks.25pp.com/fs08/2021/10/21/2/106_279fe09ef37fef8f809fdb40c4182b2e_con_130x130.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"酷扑TV.dr","author":"道长&壹隅","version":1,"type":"video","url":"hiker://empty##http://www.kutv.cc/xuan/4Kzhuanqu--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".module-list&&.module-item;a&&title;.lazy&&data-src;.module-item-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/\\/(.*)--------(.*?)---.html/)[2];\ntrue_url = 获取正确链接();\n//log(true_url)\nlet cates=打造动态分类([{\n        一级分类: '#main&&.scroll-content',\n        子分类: 'body&&a:not(:matches(^$))',\n        \n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".module-list&&.module-search-item;h3&&Text;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-items,-1&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##http://www.kutv.cc/sou/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: '.page-title&&Text;.video-info-items,3&&Text;.video-info-items,4&&Text',\n    img: '.lazyload&&data-src',\n    url: '.lazyload&&data-src',\n    desc: '.video-info-items&&Text;.video-info-items,1&&Text;.video-info-items,2&&Text',\n    content: '.video-info-content&&Text.js:input.replace(\"收起\",\"\")',\n    tabs: '.module-tab-content&&.module-tab-item',\n    lists: 'body&&.sort-item,#id&&a',\n    tab_id: '',\n};\nvar lazy = $('').lazyRule((解析) => {\n        eval(pdfh(request(input, {}), 'body&&.player-wrapper&&script&&Html'));\n        var fr = player_aaaa.from;\n        var realUrl = player_aaaa.url.replace(/\\\\\\//g, '/');\n        var 插件 = 解析.加载魔断();\n        //log(realUrl);\n        if (/\\.m3u8|\\.mp4/.test(realUrl)) {\n            return 解析.是否视频(realUrl)\n        } else if (解析.是否支持魔断(realUrl, fr)) {\n            return 解析.纯魔断(realUrl)\n        }else if (fr === 'ltnb') {\n            var playurl = 'https://www.kupu.cc/addons/bilibili/?url=' + realUrl;\n            url = 插件.魔断().猫(playurl, false, 'A42EAC0C2B408472');\n            if (/rongxing/.test(url)) {\n                return cacheM3u8(url)\n            }else{\n                return 解析.是否视频(url)\n            }\n        } else if (fr === 'rx') {\n            var playurl = 'https://www.kupu.cc/addons/bilibili/?url=' + realUrl;\nlog(playurl);\n           // var 插件 = 解析.加载魔断();\n            url = 插件.魔断().猫(playurl, false, 'A42EAC0C2B408472');\n            log(url);\n            return cacheM3u8(url)\n        } else {\n            return 解析.纯通免(input)\n        }\n    },\n    解析);\nvar 动态最新章节 = true;\nvar 倒序 = false;\n二级(parse, lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://s1.ax1x.com/2021/12/09/oWBq81.gif"},{"last_chapter_rule":"","pageList":[],"title":"鸭奈飞.dr","author":"道长&壹隅","version":2,"type":"video","url":"hiker://empty##https://netflix.mom/index.php/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nevalPrivateJS('4ZFai6WdmDyH6oz/nhtVROAIx1c0dRGZtfmf6PyWCr6dHnPVIOLddKI4gXInyEoixmC+cyqM8V/plDjccHPKYdMRRu3DLjeWtkw/W5GbPWQVKdbbEohqdTqYxEM0KWdh');\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nlet parStr=\".module-list&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(\\d+)\\.html/)[1];\n//true_url = 获取正确链接();\nif(!/page/.test(true_url)){\n    true_url = true_url.replace(/\\.html/,'/page/'+page+'.html')\n}\nelse{\ntrue_url = true_url.replace('/page\\/(\\d+)\\.html/','page/'+page+'.html')\n}\n//log(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.box&&.library-box',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".module-list&&.module-search-item;.video-info&&a&&title;img&&data-src;.video-info-header&&a&&Text;.video-info&&a&&href;.video-info-items,-1&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://netflix.mom/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n //title:'p.data,1&&Text;body&&p,0&&Text',\n// img:'.lazyload&&data-original',\n// url:'.lazyload&&data-original',\n// desc:'.detail&&Text',\n tabs:'.module-tab-content&&.tab-item',\n lists:'body&&.module-blocklist.scroll-box:has(a[href]),#id&&a',\n tab_id:'',\n content:'.video-info-content&&Text',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"require('https://gitlab.com/hjdhnx/hiker/-/raw/main/js/预处理.js');","pages":"[]","icon":"https://img.ciyuanji.com/files/2021/07/22/e51e187315cc4abf87d817b218ac5ba3.png"},{"last_chapter_rule":"","pageList":[],"title":"天天评书网.dr","author":"道长","version":2,"type":"music","url":"hiker://empty##http://www.pingshu365.com/list/304_fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"听书","year_url":"","find_rule":"js:\n//log(new Date().getTime()+'');\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"#ss&&.book;a&&title;img&&src;ul&&li,1&&Text;a&&href\";\nvar page = MY_URL.match(/_(\\d+)\\.html/)[1];\n//true_url=获取正确链接();\nvar true_url = getMyVar('header.url', MY_URL); true_url=true_url.replace(/_(\\d+)/,'_'+page);\n//log(true_url);\nvar html=获取源码(true_url,'','','',{\n    \"content-type\": \"charset=gb18030\"\n});\n//var 关闭折叠=true;\nlet cates=打造动态分类([{\n  一级分类: '.mainnav&&.xl_nav',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n},{\n  一级分类: '.mainnav&&.fl_nav',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\n//log(MY_URL);\nvar html=获取源码(MY_URL,'','','',{\n    \"content-type\": \"charset=gb18030\"\n});\nparStr=\"#ss&&.book;a&&title;img&&src;ul&&li,1&&Text;a&&href;ul&&li,-1&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##http://www.pingshu365.com/search/1.asp?page=fypage&keyword=**&stype=;get;gb18030","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'#ss&&.text&&p&&Text',\n img:'#ss&&.pic&&img&&src',\n url:'#ss&&.pic&&img&&src',\n desc:'#ss&&.text&&ul&&Text',\n content:'#ss&&.listb&&p&&Text.js:input.replace(\"介绍：\",\"\")',\n tabs:'.listd',\n lists:'#playlist&&ul,#id&&li',\n tab_id:'',\n};\nvar 指定ua=PC_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 编码='gb18030';\n//var lazy=通免();\nvar 二级处理={\n    选集名称:function(u){\n     //log(u);\n     return u.replace(/\\[|\\]| |第|回/g,'')\n }\n};\nvar lazy=$('').lazyRule(()=>{\n    let id=input.match(/(\\d+)\\.html/)[1];\n    let url='https://m.pingshu365.com/path_'+id+'.html'+new Date().getTime();\n    log(url);\n    let ret=request(url);\n    realUrl=JSON.parse(ret).urlpath;\n    log(realUrl);\n    return realUrl.replace('flv','mp3')\n});\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://s4.ax1x.com/2022/01/14/78fygs.jpg"},{"last_chapter_rule":"","pageList":[],"title":"剧大神D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##http://judashen.com/vodshow/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".module-items&&.module-item;a&&title;img||.lazy&&data-src;.module-item-text&&Text;a&&href.js:input +'#immersiveTheme#'\";\nvar page = MY_URL.match(/(\\d+)---\\.html/)[1];\n//log(page);\ntrue_url = 获取正确链接();\n/*\nvar true_url = getMyVar('header.url', MY_URL);\ntrue_url=true_url.replace(/(\\d+)---\\.html/,'---.html');\ntrue_url=true_url.replace('---.html',page+'---.html');\n*/\nlog(true_url);\nlet cates=打造动态分类([{\n  一级分类: 'body&&.library-list',\n        子分类: 'body&&a:not(:matches(直播))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true);","search_url":"http://judashen.com/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\r\nrequire(config.模板);\r\nlet parse={\n    title:'.video-info-items,1&&Text;.video-info-aux&&Text',\n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src',\n    desc: '.video-text&&Text',\n    tabs:'.module-tab-content,0&&.tab-item',\n    lists:'body&&.sort-item,#id&&a',\n    tab_id:'',\n    \n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/94.png"},{"last_chapter_rule":"","pageList":[],"title":"云城D♔","author":"道长&蓝莓果酱UX","version":2,"type":"video","url":"hiker://empty##https://ayyf.cn/index.php/vod/show/id/29/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".module-items&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href.js:input +'#immersiveTheme#'\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/(.*)\\/(.*?).html/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n  一级分类: 'body&&.library-list',\n        子分类: 'body&&a:not(:matches(直播))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true); ","search_url":"https://ayyf.cn/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\r\nrequire(config.模板);\r\nlet parse={\n    title:'.video-info-items,1&&Text;.video-info-aux&&Text',\n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src',\n    desc: '.video-info-item,5&&Text',\n    tabs:'.module-tab-content,0&&.tab-item',\n    lists:'body&&.sort-item,#id&&a',\n    tab_id:'',\r\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/104.png"},{"last_chapter_rule":"","pageList":[],"title":"09影视D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"https://09tv.top/index.php/vod/show/id/1/page/fypage/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nlet parStr=\".module-items&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href.js:input +'#immersiveTheme#'\";\nvar page = MY_URL.match(/(.*)\\/(.*?)/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n  一级分类: 'body&&.library-list',\n        子分类: 'body&&a:not(:matches(直播))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true);","search_url":"https://09tv.top/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\r\nrequire(config.模板);\r\nlet parse={\n    title:'.video-info-items,1&&Text;.video-info-aux&&Text',\n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src',\n    desc: '.vod_content&&Text',\n    tabs:'.module-tab-content,0&&.tab-item',\n    lists:'body&&.sort-item,#id&&a',\n    tab_id:'',\r\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/more/117.png"},{"last_chapter_rule":"","pageList":[],"title":"全本小说网.dr","author":"道长&壹隅","version":2,"type":"read","url":"hiker://empty##https://www.xqb5200.com/top/allvisit/fypage.html","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".novelslistss&&li;a&&title;;body&&Html;a&&href\";\nvar page=MY_URL.match(/\\/(\\d+)\\.html/)[1];\nlog('当前页数:'+page);\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\ntrue_url=true_url.replace(/\\/(\\d+)\\.html/,'/'+page+'.html')\nlog(true_url);\nvar html=获取源码(true_url);\n//log('源码:'+html);\nvar 关闭折叠=true;\nlet cates=打造动态分类([{\n        一级分类: '.main&&.nav1&&ul',\n        子分类: 'body&&li:has(a[href]):not(:matches(全本小说))',        \n    }]);\n设置(cates);\nvar 一级处理={\n    描述:function(u){\n     \n        return '最新章节:'+pdfh(u,'.s3&&Text')+'     \\n'+'作者:'+pdfh(u,'.s4&&Text')\n    }\n}; \n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nvar key=MY_URL.match(/searchkey=(.*?)&/)[1]\n;\nlog(key);\nif (key.length<2){\n//confirm({title:'警告',content:'必须超过两个字'});\nsetResult([{\n    title:'必须输入2个字及以上',\n    url:'hiker://empty'\n}]);\n}else{\nlet enkey=gbk编码(key);\n//log(enkey);\nMY_URL=MY_URL.replace(key,enkey);\nlog(MY_URL);\nvar html=获取源码(MY_URL);\nlet\nparStr=\".novelslistss&&li;a&&Text;;body&&Html;a&&href;li&&Text\";\nvar 一级处理={\n    描述:function(u){\n     \n        return '作者:'+pdfh(u,'.s4&&Text')+'     \\n'+'更新时间:'+pdfh(u,'.s5&&Text')\n    }\n}; \n一级(parStr,true,false,false,html);\n}","search_url":"hiker://empty##https://www.xqb5200.com/modules/article/search.php?searchkey=**&page=fypage","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: 'h1&&Text;#info&&p&&Text;#info&&p,1&&Text',\n    img: '#maininfo&&img&&src',\n    url: '#maininfo&&img&&src',\n    desc: '#info&&p,2&&Text;#info&&p,3&&Text',\n    content: '#intro&&Text.js:input.split(\"微信号\")[0]',\n    tabs: 'head&&title',\n    lists: function(u){\n        let h=pdfh(u,'#list&&dl&&Html').split('</center>')[1];\n        return pdfa(h,'body&&a')\n    },\n    tab_id: '',\n    线路处理: function(u) {\n        return \"道长在线\"\n    }\n};\nvar 定位 = {\n    标题: function(html) {\n        return \"<big>\" + pdfh(html, \"h1&&Text\") + \"</big>\"\n    },\n    内容: function(html) {\n        return pdfh(html, \"#content&&Html\")\n    },\n};\n\nvar 动态最新章节 = true;\nvar 倒序 = false;\nvar 指定ua=PC_UA;\nvar 编码 = 'gb18030';\nvar 下载 = '小说';\nvar lazy = 小说(定位, 编码);\n二级(parse, lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://zhengxin-pub.cdn.bcebos.com/logopic/57968dfa7a8a6a922050627b881d1c03_fullsize.jpg"},{"last_chapter_rule":"","pageList":[],"title":"悠久小说网","author":"道长&壹隅","version":1,"type":"read","url":"hiker://empty##http://www.ujxsw.com/xuanhuan/fypage/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"#sitembox&&dl;h3&&Text;img&&src;.book_other&&Text;a&&href\";\nvar page=MY_URL.match(/\\/(\\d+)\\//)[1];\n//log('当前页数:'+page);\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(!/(\\d+)/.test(true_url)){\ntrue_url=true_url+page+'/';\n}\n//log(true_url);\nvar html=获取源码(true_url);\nvar 关闭折叠=true;\nlet cates=打造动态分类([{\n        一级分类: '.nav&&ul',\n        子分类: 'body&&li:has(a[href]):not(:matches(首页))',\n     \n    }]);\n设置(cates,true);\n/*\nvar 一级处理={\n    描述:function(u){\n        //return [pdfh(u,'.s3&&Text'),pdfh(u,'.s5&&Text')].join('  ')\n        return '最新章节:'+pdfh(u,'.s3&&Text')+'     \\n'+'作者:'+pdfh(u,'.s5&&Text')\n    }\n}; \n*/\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nvar html=fetch(MY_URL);\nlet parStr=\".shulist&&ul;a&&Text;;.four&&Text;a&&href;ul&&Text\";\n一级(parStr,true,false,false,html);","search_url":"hiker://empty##http://www.ujxsw.com/searchbooks.php?searchkey=**","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'#bookinfo&&h1&&Text;.block_txt2&&p,2&&Text;.block_txt2&&p,3&&Text',\n img:'#bookimg&&img&&src',\n url:'#bookimg&&img&&src',\n desc:'.new_t&&Text;.new_p&&Text;#count&&Text',\n content:'#bookintro&&Text.js:input.split(\"《\")[0]',\n tabs:'head&&title',//线路\n lists:'#readerlist&&ul,#id&&li:has(a[href])',//列表\n tab_id:'',//线路id，可不填,\n线路处理:function(u){\n     return \"道长在线\"\n }\n}; \nvar 二级处理={\n    重定向:function(url,html){\n    url=pd(html,'#newlist&&.newrap&&a&&href');    \n  //log(url);          \n  html= 获取源码(url,PC_UA,url);\n  return html;\n}\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \"#mlfy_main_text&&h3&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \".read-content&&p&&Html\")\n    },\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 指定ua=PC_UA;\nvar 编码='utf-8';\nvar 下载='小说';\nvar lazy=小说(定位,编码);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"http://www.ujxsw.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"跟屁虫D♔","author":"道长&蓝莓果酱UX","version":2,"type":"video","url":"hiker://empty##https://www.genpichong.top/vodshow/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"疑似失效","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet \nparStr=\".module-items&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href.js:input +'#immersiveTheme#'\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/\\/(.*)--------(.*?)---.html/)[2];\ntrue_url = 获取正确链接();\n//log(true_url);\nlet cates=打造动态分类([{\n  一级分类: 'body&&.library-list',\n        子分类: 'body&&a:not(:matches(直播))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.genpichong.top/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\r\nrequire(config.模板);\r\nlet parse={\n    title:'.video-info-items,1&&Text;.video-info-aux&&Text',\n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src',\n    desc: '.sqjj_a&&Text',\n    tabs:'.module-tab-content,0&&.tab-item',\n    lists:'body&&.sort-item,#id&&a',\n    tab_id:'',\r\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/62.png"},{"last_chapter_rule":"","pageList":[],"title":"动漫星球D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##https://www.dmxq.fun/vodshow/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"动漫","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet \nparStr=\".module-items&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href.js:input +'#immersiveTheme#'\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/\\/(.*)--------(.*?)---.html/)[2];\ntrue_url = 获取正确链接();\n//log(true_url);\nlet cates=打造动态分类([{\n  一级分类: 'body&&.library-list',\n        子分类: 'body&&a:not(:matches(直播))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.dmxq.fun/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\r\nrequire(config.模板);\r\nlet parse={\n    title:'.video-info-items,1&&Text;.video-info-aux&&Text', \n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src',\n    desc: '.video-info-item,5&&Text',\n    tabs:'.module-tab-content,0&&.tab-item',\n    lists:'body&&.sort-item,#id&&a',\n    tab_id:'',\r\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://s.pc.qq.com/tousu/img/20210909/9507131_1631179945.jpg"},{"last_chapter_rule":"","pageList":[],"title":"百度健康","author":"道长","version":0,"type":"other","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"健康","year_url":"","find_rule":"js:\n/** 无需下载APP，点返回即可。*/\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"https://expert.baidu.com/\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true\n    }\n}]);","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/more/60.png"},{"last_chapter_rule":"","pageList":[],"title":"优豆D♔","author":"道长&蓝莓果酱UX","version":0,"type":"video","url":"hiker://empty##http://app1.udo.cc/index.php/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".eclist&&.pack-ykpack;a&&title;.eclazy&&data-original;.pack-prb&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(.*?)\\.html/)[1];\ntrue_url = 获取正确链接();\nhtml=获取源码(true_url,PC_UA);\nlog(true_url);\nlet cates=打造动态分类([{\n  一级分类: 'body&&.filter_line',\n        子分类: 'body&&a:not(:matches(直播))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true);","search_url":"http://app1.udo.cc/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n    title:'.item,3&&Text;.item,1&&Text',\n    img:'.s-cover&&img&&src',\n    url:'.s-cover&&img&&src',\n    desc: '.desc_txt&&span&&Text',\n    tabs:'.play_source_tab&&a',\n    lists:'body&&.content_playlist,#id&&a',\n    tab_id:'',\n    reChange:function(u){\n        return u.split('&next')[0]\n    }\n};\nvar 指定ua=PC_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/105.svg"},{"last_chapter_rule":"","pageList":[],"title":"多多影视D♔","author":"道长&蓝莓果酱UX","version":0,"type":"video","url":"hiker://empty##https://m.ddys.net/class/1-fypage/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".stui-vodlist&&li;.title&&Text;a&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?)\\//)[2];\n//log(page);\ntrue_url = 获取正确链接().replace(/(.*)---\\//,'$1'+page+'---');\n//log(true_url);\nvar html=获取源码(true_url);\n//log(html);\nlet cates=打造动态分类([{\n    一级分类: '.stui-header__menu',\n    子分类: '.stui-header__menu&&li:not(:matches(首页|明星|资讯|敏感|专题|留言|教程|电视直播|APP下载|求片))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------/')\n            }\n        }\n},{\n    一级分类: '#screenbox&&ul',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".stui-vodlist&&li;h4&&Text;.lazyload&&data-original;.pic-text&&Text;a&&href;li--h4&&Text\";\n一级(parStr,true); ","search_url":"https://m.ddys.net/so/**----------fypage---/","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.data&&Text;.data,2&&Text ',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&data-original',//图片\n url:'.lazyload&&data-original',//可以是影片链接，或者图片也行\n desc:'.detail-sketch&&Text',//一般主演，地区，影片评分等描述\n tabs:'body&&h3:not(:matches(猜你喜欢|剧情介绍|影片评论|推荐专题|&nbsp;热播榜|剧情 热播榜|热播榜|热门|更新))',//列表\n lists:'.stui-content__playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://img1.baidu.com/it/u=3081997629,903049497&fm=253&fmt=auto&app=138&f=JPEG?w=675&h=500"},{"last_chapter_rule":"","pageList":[],"title":"美女人人迷","author":"道长","version":1,"type":"video","url":"hiker://empty##tid=fyclass&pg=fypage","col_type":"movie_2","class_name":"长视频&短视频","class_url":"2&1","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小姐姐","year_url":"","find_rule":"js:\nlet tid=MY_URL.match(/tid=(\\d+)/)[1];\nif(tid=='1'){\n    MY_URL='https://rrm.pchj.net/api.php/app/index_video?tid='+tid+'&pg='+MY_PAGE;\n}else{\n    MY_URL='https://rrm.pchj.net/api.php/app/index_video1?tid='+tid+'&order=vod_hits_day&pg='+MY_PAGE;\n}\n//log(MY_URL);\nlet d=[];\nlet html=request(MY_URL);\nlet list=JSON.parse(html).list;\nvar lazy=$('').lazyRule((tid)=>{\n    var url='';\n    if(tid=='1'){\n        url='https://aweme.snssdk.com/aweme/v1/play/?video_id='+input+'&ratio=720p&line=0&media_type=4&vr_type=0&improve_bitrate=0&is_play_url=1&h265=1&adapt720=1';\n        //log(url);\n        /*\n        let hm=fetch(input,{\n        headers:{\n            //withHeaders:true,\n            Referer:'https://creator.douyin.com/data/billboard/hot',\n            'User-Agent':'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',\n        }\n    });\n    writeFile('/storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/dzHouse/js/美女缓存.js',hm);\n    */\n    }else if(tid=='2'){\n        //log(input);\n        let u='https://h5.video.weibo.com/api/component?page=/show/'+input;\n        let html=post(u,{\n            headers:{\n                Referer:'https://h5.video.weibo.com/show/'+input,\n       'page-referer':'/show/'+input,\n       'User-Agent':'Mozilla/5.0 (Linux; Android 6.0.1; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Mobile Safari/537.36',\n            },\n            body:'data={\"Component_Play_Playinfo\":{\"oid\":\"'+input+'\"}}'\n        });\n        writeFile('/storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/dzHouse/json/人人迷美女缓存.json',html);\n        let urls=JSON.parse(html).data.Component_Play_Playinfo.urls;\n        //log(urls);\n        let titles=Object.keys(urls);\n        //log(titles);\n        url=urls[titles[0]];\n        if(!/^http/.test(url)){\n            url='https:'+url\n        }\n    }\n    if(url){\n    return url+'#isVideo=true#'\n    }else{\n        return 'toast://播放失败'\n    }\n},tid);\n//log(list);\nlist=list.map((it)=>{\n    let url=it.vod_sub;\n    return {\n        title:it.vod_content,\n        pic_url:it.vod_pic+'@Referer=',\n        desc:it.vod_time_add,\n        content:it.vod_content,\n        url:url+lazy,\n        extra:{\n            id:it.vod_id,\n            vod_pic_thumb:it.vod_pic_thumb,\n            vod_play_from:it.vod_play_from,\n            vod_play_url:it.vod_play_url\n        }\n    }\n})\n//log(list);\nd=d.concat(list);\nsetResult(d);","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/08/72.png"},{"last_chapter_rule":"","pageList":[],"title":"六把刀D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##https://www.6bd.net/show/dianying--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".module-items&&.module-item;a&&title;img||.lazy&&data-src;.module-item-text&&Text;a&&href.js:input +'#immersiveTheme#'\";\nvar page = MY_URL.match(/(\\d+)---\\.html/)[1];\n//log(page);\ntrue_url = 获取正确链接();\n/*\nvar true_url = getMyVar('header.url', MY_URL);\ntrue_url=true_url.replace(/(\\d+)---\\.html/,'---.html');\ntrue_url=true_url.replace('---.html',page+'---.html');\n*/\nlog(true_url);\nlet cates=打造动态分类([{\n  一级分类: 'body&&.library-list',\n        子分类: 'body&&a:not(:matches(直播))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true);","search_url":"https://www.6bd.net/search/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\r\nrequire(config.模板);\r\nlet parse={\n    title:'.video-info-items,1&&Text;.video-info-aux&&Text',\n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src',\n    desc: '.video-text&&Text',\n    tabs:'.module-tab-content,0&&.tab-item',\n    lists:'body&&.sort-item,#id&&a',\n    tab_id:'',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/84.png"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"解析","path":"lazy","rule":"var lazy = $('').lazyRule((v) => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    //var playurl = decodeURIComponent(base64Decode(html.url));\n    var playurl = html.url;\n    //log(playurl);\n    \n    function maoss(jxurl, ref, key) {\n        eval(getCryptoJS());\n        try {\n            var getVideoInfo = function(text) {\n                return CryptoJS.AES.decrypt(text, key, {\n                    iv: iv,\n                    padding: CryptoJS.pad.Pkcs7\n                }).toString(CryptoJS.enc.Utf8);\n            };\n            var token_key = key == undefined ? 'dvyYRQlnPRCMdQSe' : key;\n            if (ref) {\n                var html = request(jxurl, {\n                    headers: {\n                        'Referer': ref\n                    }\n                });\n            } else {\n                var html = request(jxurl);\n            }\n            if (html.indexOf('&btwaf=') != -1) {\n                html = request(jxurl + '&btwaf' + html.match(/&btwaf(.*?)\"/)[1], {\n                    headers: {\n                        'Referer': ref\n                    }\n                })\n            }\n            var token_iv = html.split('_token = \"')[1].split('\"')[0];\n            var key = CryptoJS.enc.Utf8.parse(token_key);\n            var iv = CryptoJS.enc.Utf8.parse(token_iv);\n            // log(\"iv:\"+iv);\n            //  log(html);\n            eval(html.match(/var config = {[\\s\\S]*?}/)[0] + '');\n            if (config.url.slice(0, 4) != 'http') {\n                //config.url = decodeURIComponent(AES(config.url, key, iv));\n                config.url = CryptoJS.AES.decrypt(config.url, key, {\n                    iv: iv,\n                    padding: CryptoJS.pad.Pkcs7\n                }).toString(CryptoJS.enc.Utf8)\n            }\n            //log(config.url)\n            return config.url+\"#isVideo=true#\";\n        } catch (e) {\n            return '';\n        }\n    }\n\n    function suoyo(vipUrl) {\n        var url = JSON.parse(fetch(\"https://bo.dd520.cc/xplay/api.php\", {\n            body: \"url=\" + vipUrl,\n            method: \"POST\"\n        })).url;\n        eval(getCryptoJS());\n        function getVideoInfo(data) {\n            var key = CryptoJS.MD5(\"rXjWvXl6\");\n            key = CryptoJS.enc.Utf8.parse(key);\n            var iv = CryptoJS.enc.Utf8.parse(\"NXbHoWJbpsEOin8b\");\n            var decrypted = CryptoJS.AES.decrypt(data, key, {\n                iv: iv,\n                mode: CryptoJS.mode.CBC,\n                padding: CryptoJS.pad.Pkcs7\n            });\n            return decrypted.toString(CryptoJS.enc.Utf8);\n        }\n        return getVideoInfo(url);\n    }\n    \n    if (/\\.m3u8|\\.mp4/.test(playurl)) {\n        return cacheM3u8(playurl)\n    } else {\n        return maoss(\"https://danmu.4dm.cc/m3u8.php?url=\" + playurl, false, \"57A891D97E332A9D\")\n    }\n});"}],"title":"MX动漫D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##http://www.mxdm.cc/show/riman--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"动漫","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".module-items&&.module-item;a&&title;img||.lazy&&data-src;.module-item-text&&Text;a&&href.js:input +'#immersiveTheme#'\";\nvar page = MY_URL.match(/(\\d+)---\\.html/)[1];\n//log(page);\ntrue_url = 获取正确链接();\n/*\nvar true_url = getMyVar('header.url', MY_URL);\ntrue_url=true_url.replace(/(\\d+)---\\.html/,'---.html');\ntrue_url=true_url.replace('---.html',page+'---.html');\n*/\n//log(true_url);\nlet cates=打造动态分类([{\n  一级分类: 'body&&.library-list',\n        子分类: 'body&&a:not(:matches(直播))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true);","search_url":"http://www.mxdm.cc/search/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\r\nrequire(config.模板);\r\nlet parse={\n    title:'.video-info-items&&Text;.video-info-items,1&&Text;.video-info-aux&&Text',\n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src',\n    desc: '.video-info-items,2&&Text;.video-info-items,3&&Text;.video-info-items,4&&Text',\ncontent:\".video-info-content&&Text\",\n    tabs:'.module-tab-content&&.tab-item',\n    lists:'body&&.sort-item,#id&&a',\n    tab_id:''\n}\neval(JSON.parse(request('hiker://page/lazy')).rule);\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[{\"col_type\":\"movie_3\",\"name\":\"解析\",\"path\":\"lazy\",\"rule\":\"var lazy = $('').lazyRule((v) => {\\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\\n    //var playurl = decodeURIComponent(base64Decode(html.url));\\n    var playurl = html.url;\\n    //log(playurl);\\n    \\n    function maoss(jxurl, ref, key) {\\n        eval(getCryptoJS());\\n        try {\\n            var getVideoInfo = function(text) {\\n                return CryptoJS.AES.decrypt(text, key, {\\n                    iv: iv,\\n                    padding: CryptoJS.pad.Pkcs7\\n                }).toString(CryptoJS.enc.Utf8);\\n            };\\n            var token_key = key == undefined ? 'dvyYRQlnPRCMdQSe' : key;\\n            if (ref) {\\n                var html = request(jxurl, {\\n                    headers: {\\n                        'Referer': ref\\n                    }\\n                });\\n            } else {\\n                var html = request(jxurl);\\n            }\\n            if (html.indexOf('&btwaf=') != -1) {\\n                html = request(jxurl + '&btwaf' + html.match(/&btwaf(.*?)\\\"/)[1], {\\n                    headers: {\\n                        'Referer': ref\\n                    }\\n                })\\n            }\\n            var token_iv = html.split('_token = \\\"')[1].split('\\\"')[0];\\n            var key = CryptoJS.enc.Utf8.parse(token_key);\\n            var iv = CryptoJS.enc.Utf8.parse(token_iv);\\n            // log(\\\"iv:\\\"+iv);\\n            //  log(html);\\n            eval(html.match(/var config = {[\\\\s\\\\S]*?}/)[0] + '');\\n            if (config.url.slice(0, 4) != 'http') {\\n                //config.url = decodeURIComponent(AES(config.url, key, iv));\\n                config.url = CryptoJS.AES.decrypt(config.url, key, {\\n                    iv: iv,\\n                    padding: CryptoJS.pad.Pkcs7\\n                }).toString(CryptoJS.enc.Utf8)\\n            }\\n            //log(config.url)\\n            return config.url+\\\"#isVideo=true#\\\";\\n        } catch (e) {\\n            return '';\\n        }\\n    }\\n\\n    function suoyo(vipUrl) {\\n        var url = JSON.parse(fetch(\\\"https://bo.dd520.cc/xplay/api.php\\\", {\\n            body: \\\"url=\\\" + vipUrl,\\n            method: \\\"POST\\\"\\n        })).url;\\n        eval(getCryptoJS());\\n        function getVideoInfo(data) {\\n            var key = CryptoJS.MD5(\\\"rXjWvXl6\\\");\\n            key = CryptoJS.enc.Utf8.parse(key);\\n            var iv = CryptoJS.enc.Utf8.parse(\\\"NXbHoWJbpsEOin8b\\\");\\n            var decrypted = CryptoJS.AES.decrypt(data, key, {\\n                iv: iv,\\n                mode: CryptoJS.mode.CBC,\\n                padding: CryptoJS.pad.Pkcs7\\n            });\\n            return decrypted.toString(CryptoJS.enc.Utf8);\\n        }\\n        return getVideoInfo(url);\\n    }\\n    \\n    if (/\\\\.m3u8|\\\\.mp4/.test(playurl)) {\\n        return cacheM3u8(playurl)\\n    } else {\\n        return maoss(\\\"https://danmu.4dm.cc/m3u8.php?url=\\\" + playurl, false, \\\"57A891D97E332A9D\\\")\\n    }\\n});\"}]","icon":"https://lanmeiguojiang.com/tubiao/ke/67.png"},{"last_chapter_rule":"","pageList":[],"title":"映迷.dr","author":"道长&xiao","version":0,"type":"video","url":"hiker://empty##https://www.inmi.app/index.php/vod/show/id/51/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".stui-vodlist&&li;a&&title;.lazyload&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)\\/page\\/(.*?).html/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.stui-header__menu',\n    子分类: 'ul&&li:gt(0):lt(6):not(:matches(電視直播))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/type\\/(.*)/, 'show/$1')\n            }\n        }\n},{\n    一级分类: 'body&&.stui-screen__list',\n    子分类: 'body&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL = MY_URL.split(\"##\")[1];\nrequire(config.模板);\nvar html=获取源码(MY_URL);\nparStr=\".stui-vodlist__media&&li;.thumb&&a&&title;.lazyload&&data-original;.pic-text&&Text;a&&href\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.inmi.app/index.php/vod/search/page/2/wd/**.html","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.data,0&&Text;.data,3&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'.data,1&&Text;.data,2&&Text',\n content:'.detail-content&&Text.js:input.replace(\"劇情\",\"\")',\n tabs:'body&&.bottom-line',\n lists:'.stui-content__playlist,#id&&li',\n tab_id:'',\n};\nvar lazy=$('').lazyRule((解析)=>{\n    eval(pdfh(request(input,{}),'body&&.stui-player__video&&script&&Html'));\n    var fr=player_aaaa.from;\n    var url=player_aaaa.url.replace(/\\\\\\//g,'/');\n    url=unescape(base64Decode(url));\n    if(/\\.m3u8/.test(url)){\n        return 解析.是否视频(url)\n    }else if(fr === 'ltnb'){\n    var playUrl='https://jx.inmi.app/?url='+url;\n    var 插件=解析.加载魔断();\n    url=插件.魔断().猫(playUrl,false,'A42EAC0C2B408472');\n        return 解析.是否视频(url)\n    }else{\n        return 解析.纯通免(input)\n    }\n},解析);\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/98.png"},{"last_chapter_rule":"","pageList":[],"title":"云梦影视.dr","author":"道长&情້໌ᮨ","version":1,"type":"video","url":"hiker://empty##https://yunl.cc/index.php/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".module-items&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href.js:input +'#immersiveTheme#'\";\nvar page = MY_URL.match(/(.*)\\/(.*?).html/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n  一级分类: 'body&&.library-box',\n        子分类: 'body&&a:not(:matches(4K))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true);","search_url":"https://yunl.cc/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\r\nrequire(config.模板);\r\nlet parse={\n    title:'.video-info-header&&h1&&Text;.scroll-box&&Text;.video-info-items,2&&Text',\n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src',\n    desc:'.video-info-main&&Text;.video-info-items,1&&Text;.video-info-items,2&&Text', \n    content:'.video-info-content&&Text.js:input.replace(\"收起\",\"\")',\n    tabs:'body&&.module-tab-content,0&&.tab-item',\n    lists:'body&&.sort-item,#id&&a',\n    tab_id:'',\r\n};\r\nvar lazy=X5($.toString((PC_UA)=>{\n    eval(fy_bridge_app.getInternalJs());\n    try{\n    var urls = _getUrls();\n    //fy_bridge_app.log(JSON.stringify(urls));\n    let text=document.querySelector(\"body\").innerText;\n    //fba.log(text);\n    for(let i in urls){\n        if(urls[i].match(/(.*)\\.zip$|danmu\\/pic\\.php\\?url=|\\.m3u8|\\.mp4/)){\n            //return urls[i]+';{User-Agent@'+PC_UA+'}#isVideo=true#' \n            return urls[i]+'#isVideo=true#'\n        }\n    }\n    //return location.href\n    }catch(e){\n        fy_bridge_app.log('发生错误'+e.message);\n    }\n    try {\n   document.querySelector(\"a:contains(继续观看)\").click()\n    } catch (e) {}\n},PC_UA));\nvar 指定ua=PC_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://yunml.vip/upload/mxcms/20220215-1/1727f94ed248348a23396991be276ef6.png"},{"last_chapter_rule":"","pageList":[],"title":"凤凰D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##https://v.fhys.top/index.php/vodtype/dianying-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".myui-vodlist&&li;a&&title;.myui-vodlist__thumb&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/-(.*?).html/)[1];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.nav-list',\n    子分类: 'body&&li:gt(0):lt(7)',\n},{\n    一级分类: 'body&&.myui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".myui-vodlist__media#searchList&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href;p,3&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://v.fhys.top/index.php/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p.data,7&&Text;p.data,1&&Text;p.data,0&&Text;p.data,5&&Text;p.data,6&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'.sketch&&Text',\n tabs:'.nav-tabs&&li:not(:matches(换线路))',\n lists:'body&&.myui-content__list,#id&&li',\n tab_id:'',\n};\n\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/12.svg"},{"last_chapter_rule":"","pageList":[],"title":"翠花影视D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##https://www.cuihuays.com/vodtype/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".myui-vodlist&&li;a&&title;.lazyload&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/-(.*?).html/)[1];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.nav-list',\n    子分类: 'body&&li:gt(0):lt(6)',\n},{\n    一级分类: 'body&&.myui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".myui-vodlist__media&&li;a&&title;a&&data-original;a&&Text;a&&href;p.hidden-xs&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.cuihuays.com/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p.data,1&&Text;p.data,2&&Text;p.data,3&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'p.hidden-xs&&Text ',\n tabs:'.nav-tabs&&li',\n lists:'.tab-content&&#id&&ul&&li',\n tab_id:'a&&href',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/13.svg"},{"last_chapter_rule":"","pageList":[],"title":"暖光影视D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##https://app.bl210.com/index.php/vod/type/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(\\d+)\\.html/)[1];\n//true_url = 获取正确链接();\nif(!/page/.test(true_url)){\n    true_url = true_url.replace(/\\.html/,'/page/'+page+'.html')\n}\nelse{\ntrue_url = true_url.replace('/page\\/(\\d+)\\.html/','page/'+page+'.html')\n}\n\nlog(true_url);\nlet cates=打造动态分类([{\n    一级分类: '.stui-header__menu',\n    子分类: 'ul&&li:gt(0):lt(10):not(:matches(首页|明星|资讯|敏感|专题))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n},{\n    一级分类: 'body&&.stui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n},{\n    一级分类: 'body&&.nav',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href;.detail&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://app.bl210.com/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.data&&Text;.data,2&&Text ',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&data-original',//图片\n url:'.lazyload&&data-original',//可以是影片链接，或者图片也行\n desc:'.stui-content__desc&&Text',//一般主演，地区，影片评分等描述\n tabs:'body&&h3:gt(0):lt(3):not(:matches(猜你喜欢|剧情介绍|影片评论|推荐专题|&nbsp;热播榜|剧情 热播榜|热播榜|热门|更新))',//列表\n lists:'.stui-content__playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/27.png"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"解析","path":"lazy","rule":"var lazy = $('').lazyRule(() => {\neval(pdfh(request(input,{}),'head&&script,-1&&Html'));\n    try {\n        function getM3u8(hex) {\n            let m3u8 = hex.slice(3354 * 2);\n            /*\n                // 将16进制转化为ArrayBuffer\n                let buffer = new Uint8Array(m3u8.match(/[\\da-f]{2}/gi).map(function(h) {\n                    return parseInt(h, 16)\n                })).buffer;\n            */\n\n            const MAP_HEX = {\n                0: 0,\n                1: 1,\n                2: 2,\n                3: 3,\n                4: 4,\n                5: 5,\n                6: 6,\n                7: 7,\n                8: 8,\n                9: 9,\n                a: 10,\n                b: 11,\n                c: 12,\n                d: 13,\n                e: 14,\n                f: 15,\n                A: 10,\n                B: 11,\n                C: 12,\n                D: 13,\n                E: 14,\n                F: 15\n            };\n\n            function fromHex(hexString) {\n                let bytes = new Uint8Array(Math.floor((hexString || \"\").length / 2));\n                let i;\n                for (i = 0; i < bytes.length; i++) {\n                    let a = MAP_HEX[hexString[i * 2]];\n                    let b = MAP_HEX[hexString[i * 2 + 1]];\n                    if (a === undefined || b === undefined) {\n                        break;\n                    }\n                    bytes[i] = (a << 4) | b;\n                }\n                return i === bytes.length ? bytes : bytes.slice(0, i);\n            }\n            let buffer = fromHex(m3u8);\n         \n            eval(fetch('hiker://files/cache/pako.js').split('\\n')[0]);\n\n            m3u8 = pako.ungzip(buffer, {\n                to: \"string\"\n           });\n            m3u8 = m3u8.replace(/(#EXTINF:.*?,\\n)/g, \"$1\" + \"https://\" + getVar('bde$host') + \"/\");\n            return m3u8;\n        }\n        var html = fetch(input, {\n            headers: {\n                'User-Agent': PC_UA\n            },\n            method: 'GET'\n        });\n\n        eval(html.split('<script>')[1].split('var subUrl')[0]);\n        let resHex = request(m3u8.replace('bde4','mp4er'), {\n            toHex: true\n        });\n        //log(resHex);\n        //return getM3u8(resHex);\n        writeFile('hiker://files/cache/bdevideo.m3u8', getM3u8(resHex));\n        return 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/bdevideo.m3u8#' + input;\n        //return m3u8.replace('bde4', 'mp4er');\n    } catch (e) {\n        return 'hiker://empty'\n    }\n})"}],"title":"哔嘀影视.dr","author":"道长&爱佬&香佬","version":1,"type":"video","url":"hiker://empty##fypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=getMyVar(\"reaelUrl\");\nrequire(config.模板);\n依赖检测();\nlet parStr=\".row-cards&&.col-lg-8;h3&&Text;img&&src;span&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_PAGE;\nif(!/\\/s\\//.test(true_url)){\ntrue_url = true_url+\"/s/all/\"+page;\n}else{\ntrue_url = true_url.replace(/s\\/(.*?);/,\"s/$1/\"+page+\";\");\n}\nlet html = fetch(true_url,{headers:{\"User-Agent\":PC_UA}});\nlet cates=打造动态分类([{\n        一级分类: '.card-body&&dl',\n        子分类: 'dl&&a:not(:matches(^$))',          \n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\n//代码来自爱佬和香佬\nvar d = [];\nrequireDownload(\"https://cdn.jsdelivr.net/gh/qiusunshine/hiker-rules/java/bidi.dex\", \"hiker://files/cache/bidi.dex\");\nvar test = loadJavaClass(\"hiker://files/cache/bidi.dex\", \"com.example.hikerview.service.rule.Bde4\");\nvar spl = MY_URL.split('##');\nvar html = JSON.parse(test.getSearch(spl[1]));\nvar list = html.list;\nfor (var i = 0; i < list.length; i++) {\n    var title = list[i].movieName || list[i].title;\n    var img = list[i].cdnCover;\n    var cont = pdfh(list[i].content, 'body&&Text');\n    var vid = list[i].id;\n    var score = list[i].rank;\n    d.push({\n        title: title,\n        pic_url: img + '@Referer=',\n        url: 'hiker://empty' + vid + \"#immersiveTheme#\",\n        content: cont,\n        desc: '评分:' + score,\n    });\n}\nsetResult(d);\n/*\njs:\nrequire(config.模板);\nMY_URL=getMyVar('reaelUrl')+\"/search\"+MY_URL.split(\"##\")[1];\nlog(MY_URL);\nlet d=[];\nlet ck_id='cookie.bdys';\nlet cookie=获取ck(ck_id);\n//log('cookie:'+cookie);\nputMyVar('cookie',cookie);\nvar html=获取源码(MY_URL,PC_UA);\nif(html.indexOf('输入验证码')>-1){\n  道长验证码(null,MY_URL,'',ck_id);\n}else{\n    let parstr='.row-cards&&.col-12;a,1&&Text;img&&src;;a&&href;.card-body&&Text';\n    一级(parstr,true,false,false,html);\n}\n*/","search_url":"hiker://empty##**##fypage","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\n//代码来自爱佬和香佬\nlet id = MY_URL.match(/(\\d+)/)[1];\nvar d = [];\nrequireDownload(\"https://cdn.jsdelivr.net/gh/qiusunshine/hiker-rules/java/bidi.dex\", \"hiker://files/cache/bidi.dex\");\nvar test = loadJavaClass(\"hiker://files/cache/bidi.dex\", \"com.example.hikerview.service.rule.Bde4\");\nvar html = JSON.parse(test.getInfo(id));\nvar thumb = html.movie.cdnCover;\nd.push({\n    title: html.movie.movieName || html.movie.title,\n    desc: pdfh(html.movie.intro, 'body&&Text').trim(),\n    pic_url: thumb,\n    url: thumb,\n    col_type: 'movie_1_vertical_pic_blur',\n    extra: {\n        gradient: true\n    }\n});\nvar list = html.playlist;\n//log(list);\nfor (var i = 0; i < list.length; i++) {\n    var vid = list[i].id;\n    if ((list[i].url) && (list[i].url1)) {\n        var url = list[i].url + '###' + list[i].url1;\n    } else if (list[i].url1) {\n        var url = list[i].url1;\n    } else {\n        var url = list[i].url\n    };\n    //log(url);\n    d.push({\n        title: list[i].title,\n        url: $(url).lazyRule((vid) => {\n            if (input.indexOf('###') != -1) {\n                url = input.split('###');\n            } else {\n                url = [input]\n            };\n            //log(url);\n            var test = loadJavaClass(config.cache, config.main);\n            var mult = [];\n            for (var i in url) {\n                if (/bde4/.test(url[i])) {\n                    link = JSON.parse(test.getPlayUrl(vid)).url;\n                } else {\n                    link = url[i]\n                }\n                mult.push(link + '#isVideo=true#');\n            }\n            return JSON.stringify({\n                urls: mult\n            })\n        }, vid),\n        col_type: 'text_2'\n    });\n}\nsetResult(d);\n/*\njs:\nrequire(config.模板);\neval(JSON.parse(request('hiker://page/lazy')).rule);\nlet parse = {\n    title: 'h2&&Text;.card-body&&.mt-3&&p&&Text;.card-body&&.mt-3&&p,1&&Text',\n    img: '.card-body&&img&&src',\n    url: '.card-body&&img&&src',\n    desc: '.card-body&&.mt-3&&p,2&&Text;.card-body&&.mt-3&&p,3&&Text;.card-body&&.mt-3&&p,4&&Text',\n    content: '#synopsis&&.card-body&&Text',\n    tabs: 'body&&h2',\n    lists: '#play-list&&a',\n    tab_id: '',\n    线路处理: function(u) {\n        return \"道长在线\"\n    }\n};\nvar 动态最新章节 = true;\nvar 指定ua = PC_UA;\nvar 倒序 = false;\n二级(parse,lazy);\n*/","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"let html = fetch(\"https://bdys.me/\");\nlet url = pdfh(html, \"body&&a&&href\");\n//log(url);\nif (!/http/.test(url)) {\n    let url = \"https://\" + url\n}\nputMyVar(\"reaelUrl\", url);\nif (!fetch(\"hiker://files/cache/pako.js\")) { downloadFile(\"https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/pako/2.0.3/pako.min.js\",\"hiker://files/cache/pako.js\")\n}\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[{\"col_type\":\"movie_3\",\"name\":\"解析\",\"path\":\"lazy\",\"rule\":\"var lazy = $('').lazyRule(() => {\\neval(pdfh(request(input,{}),'head&&script,-1&&Html'));\\n    try {\\n        function getM3u8(hex) {\\n            let m3u8 = hex.slice(3354 * 2);\\n            /*\\n                // 将16进制转化为ArrayBuffer\\n                let buffer = new Uint8Array(m3u8.match(/[\\\\da-f]{2}/gi).map(function(h) {\\n                    return parseInt(h, 16)\\n                })).buffer;\\n            */\\n\\n            const MAP_HEX = {\\n                0: 0,\\n                1: 1,\\n                2: 2,\\n                3: 3,\\n                4: 4,\\n                5: 5,\\n                6: 6,\\n                7: 7,\\n                8: 8,\\n                9: 9,\\n                a: 10,\\n                b: 11,\\n                c: 12,\\n                d: 13,\\n                e: 14,\\n                f: 15,\\n                A: 10,\\n                B: 11,\\n                C: 12,\\n                D: 13,\\n                E: 14,\\n                F: 15\\n            };\\n\\n            function fromHex(hexString) {\\n                let bytes = new Uint8Array(Math.floor((hexString || \\\"\\\").length / 2));\\n                let i;\\n                for (i = 0; i < bytes.length; i++) {\\n                    let a = MAP_HEX[hexString[i * 2]];\\n                    let b = MAP_HEX[hexString[i * 2 + 1]];\\n                    if (a === undefined || b === undefined) {\\n                        break;\\n                    }\\n                    bytes[i] = (a << 4) | b;\\n                }\\n                return i === bytes.length ? bytes : bytes.slice(0, i);\\n            }\\n            let buffer = fromHex(m3u8);\\n         \\n            eval(fetch('hiker://files/cache/pako.js').split('\\\\n')[0]);\\n\\n            m3u8 = pako.ungzip(buffer, {\\n                to: \\\"string\\\"\\n           });\\n            m3u8 = m3u8.replace(/(#EXTINF:.*?,\\\\n)/g, \\\"$1\\\" + \\\"https://\\\" + getVar('bde$host') + \\\"/\\\");\\n            return m3u8;\\n        }\\n        var html = fetch(input, {\\n            headers: {\\n                'User-Agent': PC_UA\\n            },\\n            method: 'GET'\\n        });\\n\\n        eval(html.split('<script>')[1].split('var subUrl')[0]);\\n        let resHex = request(m3u8.replace('bde4','mp4er'), {\\n            toHex: true\\n        });\\n        //log(resHex);\\n        //return getM3u8(resHex);\\n        writeFile('hiker://files/cache/bdevideo.m3u8', getM3u8(resHex));\\n        return 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/bdevideo.m3u8#' + input;\\n        //return m3u8.replace('bde4', 'mp4er');\\n    } catch (e) {\\n        return 'hiker://empty'\\n    }\\n})\"}]","icon":"https://lanmeiguojiang.com/tubiao/movie/6.svg"},{"last_chapter_rule":"","pageList":[],"title":"白熊影视D♔","author":"道长&蓝莓果酱UX","version":0,"type":"video","url":"hiker://empty##https://yy.bx.sb/index.php/vod/show/id/uCCCCS/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".module-items&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href.js:input +'#immersiveTheme#'\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/(.*)\\/(.*?).html/)[2];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n  一级分类: 'body&&.library-list',\n        子分类: 'body&&a:not(:matches(直播))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true);","search_url":"https://yy.bx.sb/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\r\nrequire(config.模板);\r\nlet parse={\n    title:'.video-info-items,1&&Text;.video-info-aux&&Text',\n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src',\n    desc: '.sqjj_a&&Text',\n    tabs:'.module-tab-content,0&&.tab-item',\n    lists:'body&&.sort-item,#id&&a',\n    tab_id:'',\r\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/62.png"},{"last_chapter_rule":"","pageList":[],"title":"蓝莓影视D♔","author":"道长&蓝莓果酱UX","version":3,"type":"video","url":"hiker://empty##https://lanmeiguojiang.com/index.php/vod/type/id/23/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(\\d+)\\.html/)[1];\n//true_url = 获取正确链接();\nif(!/page/.test(true_url)){\n    true_url = true_url.replace(/\\.html/,'/page/'+page+'.html')\n}\nelse{\ntrue_url = true_url.replace('/page\\/(\\d+)\\.html/','page/'+page+'.html')\n}\n\n//log(true_url);\nlet cates=打造动态分类([{\n    一级分类: '.stui-header__menu',\n    子分类: 'ul&&li:gt(0):lt(10):not(:matches(首页|明星|资讯|敏感|专题))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n},{\n    一级分类: '#screenbox&&ul',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n},{\n    一级分类: 'body&&.nav',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\n//log('搜索链接:'+MY_URL);\nvar html=获取源码(MY_URL);\nif(/输入验证码/.test(html)){\n    showLoading(\"验证码识别中，请稍等\");\n    let vcode=获取验证码('https://lanmeiguojiang.com/index.php/verify/index.html?');\n    let ret=提交验证码('https://lanmeiguojiang.com/index.php/ajax/verify_check?type=search&verify='+vcode,false,false,{});\n    hideLoading();\n    if(/\"msg\"/.test(ret)&&/\"ok\"/.test(ret)){\n        html=获取源码(MY_URL);\n        if(/搜索时间间隔/.test(html)){\n            setResult([{\n                title:'搜索验证已自动跳过，等待3秒后下拉刷新',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n        }\n    }else{\n        setResult([{\n                title:'验证未通过，请尝试重新搜索',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n    }\n}\nparStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href;p.text&&Text\";\n一级(parStr,true,null,null,html);","search_url":"/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p.data,1&&Text;body&&p,0&&Text',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'.detail&&Text',\n tabs:'.nav&&li',\n lists:'body&&.stui-content__playlist,#id&&ul&&li',\n tab_id:'',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar lazy=$('').lazyRule((解析)=>{\n    var player = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]);\n    var from = player.from;\n    var jsurl = player.url;\n    if (player.encrypt == '1') {\n        var jsurl = unescape(jsurl);\n    } else if (player.encrypt == '2') {\n        var jsurl = unescape(base64Decode(jsurl));\n    } else {\n        jsurl\n    };\n    jsurl=jsurl.trim();\n    log(jsurl);\n    let 插件=解析.加载魔断();\n    let url=插件.魔断().猫(\"https://lanmeiguojiang.com/svip?url=\" + jsurl, false, \"A42EAC0C2B408472\");\n    return url\n},解析);\r\n//二级(parse,lazy);\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var 验证码='https://lanmeiguojiang.com/index.php/verify/index.html?';\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/1.png"},{"last_chapter_rule":"","pageList":[],"title":"1080影院D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##https://www.1080v.xyz/vodshow/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet \nparStr=\".module-items&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href.js:input +'#immersiveTheme#'\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/\\/(.*)--------(.*?)---.html/)[2];\ntrue_url = 获取正确链接();\n//log(true_url);\nlet cates=打造动态分类([{\n  一级分类: 'body&&.library-list',\n        子分类: 'body&&a:not(:matches(直播))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\"body&&.module-list&&.module-search-item;img&&alt;img&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.1080v.xyz/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"text_3","detail_find_rule":"js:\r\nrequire(config.模板);\r\nlet parse={\n    title:'.video-info-items,1&&Text;.video-info-aux&&Text', \n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src',\n    desc: '.video-info-item,5&&Text',\n    tabs:'.module-tab-content,0&&.tab-item',\n    lists:'body&&.sort-item,#id&&a',\n    tab_id:'',\r\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.1080v.xyz/mxstatic/picture/logo.png"},{"last_chapter_rule":"","pageList":[],"title":"LIBVIO.dr","author":"道长&壹隅","version":1,"type":"video","url":"hiker://empty##https://www.libvio.com/show/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;a&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/-(\\d+)---\\.html/)[1];\nif(!/-(\\d+)/.test(true_url)){\n    true_url = true_url.replace(/---\\.html$/,page+'---.html')\n}\n//true_url=获取正确链接();\n//log(true_url);\nlet cates=打造动态分类([{\n  一级分类: '.stui-header__menu',\n        子分类: 'body&&li:gt(0)',\n   分类链接: {\n            二次处理(url) {\n                return url.replace(/type\\/(\\d+)\\.html/, 'show/$1-----------.html')\n            }\n        }\n},{\n        一级分类: '#screenbox&&ul',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\nvar 一级处理={\n    描述:function(input){\n        return input.split(\"分\").slice(-1)[0]\n    }\n};\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split(\"##\")[1];\n//log(MY_URL);\nrequire(config.模板);\nlog('cookie:'+getMyVar('cookie'));\nvar html=获取源码(MY_URL);\nif(/输入验证码/.test(html)){\n    showLoading(\"验证码识别中，请稍等\");\n    let vcode=获取验证码('https://www.libvio.com/index.php/verify/index.html?');\n    log('获取验证码:'+vcode);\n    let ret=提交验证码('https://www.libvio.com/index.php/ajax/verify_check?type=search&verify='+vcode,false,false,{});\n    hideLoading();\n    if(/\"msg\"/.test(ret)&&/\"ok\"/.test(ret)){\n       // refreshPage(true);\n        html=获取源码(MY_URL);\n        //log(html);\n        if(/搜索时间间隔/.test(html)){\n            setResult([{\n                title:'搜索验证已自动跳过，等待3秒后下拉刷新',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n        }\n    }else{\n        //log('验证未通过:'+ret);\n        setResult([{\n                title:'验证未通过，请尝试重新搜索',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n    }\n}\n//log(html);\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;a&&Text;a&&href;li&&Text\";\nvar 一级处理={\n   // 沉浸:false\n}\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.libvio.com/search/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: 'h1.title&&Text;p.data&&Text;p.data,4&&Text',\n    img: '.lazyload&&data-original',\n    url: '.lazyload&&data-original',\n    desc: 'p.data,1&&Text;p.data,2&&Text;p.data,3&&Text',\n    content: '.detail-content&&Text',\n    tabs: 'body&&h3:not(:matches(喜欢))',\n    lists: 'body&&.stui-content__playlist,#id&&li',\n    tab_id: '',\n};\nvar lazy = $('').lazyRule((解析) => {\n    eval(pdfh(request(input, {}), 'body&&.embed-responsive&&script&&Html'));\n    var fr = player_aaaa.from;\n    var true_url = player_aaaa.url.replace(/\\\\\\//g, '/');\n   eval(getCryptoJS());\n        function De(word) {\n            var a = CryptoJS.enc.Utf8.parse(md5('rXjWvXl6'))\n            var t = CryptoJS.enc.Utf8.parse('NXbHoWJbpsEOin8b')\n            return CryptoJS.AES.decrypt(word, a, {\n                iv: t,\n                mode: CryptoJS.mode.CBC,\n                padding: CryptoJS.pad.Pkcs7\n            }).toString(CryptoJS.enc.Utf8)\n        };\n    if (/\\.m3u8|\\.mp4/.test(true_url)) {\n        return 解析.是否视频(true_url)\n    } else if (fr == 'duoduozy') {\n        var url = De(pdfh(request('https://bo.movie06.com/ddplay/ddplay.php?url=' + true_url, {\n            headers: {\n                'Referer': 'https://www.libvio.com'\n            }\n        }), 'script,-4&&Html').split(\"'\")[1]);\n        log(url);\n        return 解析.是否视频(url)\n    } else {\n        return 解析.纯通免(input)\n    }\n}, 解析);\nvar 动态最新章节 = true;\nvar 倒序 = false;\n//二级(parse, lazy);\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var 验证码='https://www.libvio.com/index.php/verify/index.html?';\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://file.libks.com/statics/img/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"阅读食用法","author":"道长","version":1,"type":"read","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"教程","year_url":"","find_rule":"js:\nvar d = [];\nvar host='https://yd.mgz6.cc/';\n\nd.push({\n    title: '阅读正式版',\n    url: $().lazyRule((host)=>{\n        let html=request(host);\n        let link=pdfh(html,'.actions&&a&&href');\n        //return 'download://'+link\n        return link\n    },host),\n    col_type: \"text_1\",\n});\nd.push({\n    title: '阅读测试版',\n    url: 'https://kunfei.lanzoui.com/b0f810h4b',\n    col_type: \"text_1\",\n});\nd.push({\n    title: '订阅瞄公子',\n url:$('http://dy.mgz6.cc/').lazyRule(()=>{\n        let html=request(input);\n        let link=pdfh(html,'.actions&&a&&href');\n        return link\n    }),\n    col_type: \"text_1\",\n});\nlet j='http://no-mystery.gitee.io/shuyuan/%E5%85%A8%E7%BD%91%E9%80%9A%E7%94%A8.json';\nd.push({\n    title: '不世玄奇书源',\n url:'yuedu://booksource/importonline?src='+j,\n    col_type: \"text_1\",\n});\n\nj='https://namofree.gitee.io/yuedu3/legado3_booksource_by_Namo.json';\nd.push({\n    title: 'Namo书源',\n url:'yuedu://booksource/importonline?src='+j,\n    col_type: \"text_1\",\n});\nsetResult(d);","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://s4.ax1x.com/2022/02/08/HlHe7F.png"},{"last_chapter_rule":"","pageList":[],"title":"莫扎兔.dr","author":"道长&情້໌ᮨ","version":2,"type":"video","url":"hiker://empty##https://www.mozhatu.com/index.php/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".module-items&&a;.module-poster-item-title&&Text;.lazyload&&data-original;.module-item-note&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_PAGE;\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n  一级分类: '.navbar-items',\n        子分类: 'ul&&li:has(a[href]):gt(0):lt(7)',\n   分类链接: {\n            二次处理(url) {\n                return url.replace(/type/, 'show')\n            }\n        }\n},{\n        一级分类: 'body&&.module-class-items',\n        子分类: 'body&&a',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\nvar html=获取源码(MY_URL);\nif(/输入验证码/.test(html)){\n    showLoading(\"验证码识别中，请稍等\");\n    let vcode=获取验证码('https://www.mozhatu.com/index.php/verify/index.html?');\n    let ret=提交验证码('https://www.mozhatu.com/index.php/ajax/verify_check?type=search&verify='+vcode,false,false,{});\n    hideLoading();\n    if(/\"msg\"/.test(ret)&&/\"ok\"/.test(ret)){\n        html=获取源码(MY_URL);\n        if(/搜索时间间隔/.test(html)){\n            setResult([{\n                title:'搜索验证已自动跳过，等待3秒后下拉刷新',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n        }\n    }else{\n        setResult([{\n                title:'验证未通过，请尝试重新搜索',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n    }\n}\nlet parStr=\"body&&.module-card-item;.module-card-item-title&&Text;.lazyload&&data-original;.module-item-note&&Text;a&&href;.module-info-item,1&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.mozhatu.com/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = { \n    title:'h1&&Text;.module-info-item,4&&Text;.module-info-item,5&&Text',\n    img:'.lazyload&&data-src',\n    url:'.lazyload&&data-src', \n    desc:'.module-info-item,1&&Text;.module-info-item,2&&Text', \n    content:'.module-info-item,0&&Text.js:input.replace(\"收起\",\"\")',\n    tabs: 'body&&.module-tab-item',\n    lists: '.module-play-list-content,#id&&a',\n};\nvar lazy=X5($.toString((PC_UA)=>{\n    eval(fy_bridge_app.getInternalJs());\n    try{\n    var urls = _getUrls();\n    //fy_bridge_app.log(JSON.stringify(urls));\n    let text=document.querySelector(\"body\").innerText;\n    //fba.log(text);\n    for(let i in urls){\n        if(urls[i].match(/(.*)\\.zip$|danmu\\/pic\\.php\\?url=|\\.m3u8|\\.mp4/)){\n            //return urls[i]+';{User-Agent@'+PC_UA+'}#isVideo=true#' \n            return urls[i]+'#isVideo=true#'\n        }\n    }\n    //return location.href\n    }catch(e){\n        fy_bridge_app.log('发生错误'+e.message);\n    }\n    try {\n   document.querySelector(\"a:contains(继续观看)\").click()\n    } catch (e) {}\n},PC_UA));\nvar 指定ua=PC_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var 验证码='https://www.mozhatu.com/index.php/verify/index.html?';\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.mozhatu.com/template/mgwap/image/favicon.png"},{"last_chapter_rule":"","pageList":[],"title":"武德影视D♔","author":"道长&蓝莓果酱UX","version":1,"type":"video","url":"hiker://empty##http://www.wudeyy.com/list/2-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/-(.*?).html/)[1];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.stui-header__menu',\n    子分类: 'ul&&li:gt(0):lt(8):not(:matches(首页|明星|资讯|敏感|专题|留言))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+)/, 'vodshow/$1-----------.html')\n            }\n        }\n},{\n    一级分类: 'body&&.stui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n},{\n    一级分类: '.nav-tabs',\n    子分类: 'ul&&li:not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".stui-vodlist__media&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\n一级(parStr,true);","search_url":"http://www.438kp.com/search/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p.data,1&&Text;p.data,3&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&data-original',//图片\n url:'.lazyload&&data-original',//可以是影片链接，或者图片也行\n desc:'.desc&&Text',//一般主演，地区，影片评分等描述\n tabs:'body&&h3:not(:matches(猜你喜欢|剧情简介|日韩剧周榜单|日韩剧月榜单|国产剧月榜单|国产剧周榜单|榜单))',//列表\n lists:'.stui-content__playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n};\nvar 动态最新章节=true;\nvar 倒序=false;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"http://www.wudeyy.com/statics/img/favicon.ico"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"动态解析","path":"lazy","rule":"evalPrivateJS('vLrmLHEXDew5Wm2f/s4IJJbJIXdwuJFz/adduvbmQ2FnlqrIA5sMWnmRxD3BMHkAGUxKs2osorxqH6h8IHHjzrK/Jr7NEB0A0HLRxyACVxUeNp8WCQFkyAVYUE6156K68mZ/xI7NEB9sA6GS+UCtHVfSFjGIR2yd4FlajVy/WOBaWCr4hg/61NJ7Zom+IeJugrfHDrwgHsDrAJkUrn4TNT1EQIhCT3C6DAyJ/BG9h02b8mDsB01oNllvEodsCv0bHD7YmkXU4zwLC0Ouf51FYU4PZy/4cC1ucgKwg6EbyyMzkgcfxnMJYyJV0vZQAJNh8rfEiaviHC8O3UDv8rdXS13dTe7U8z7Cj7Vby7e8mJeDpsr8aiHHuO+s6N0ZLY+XGvfVDOSOWJXFyEYXEhQfmCYkm93S/lJPvBFX7VCgvm4OBx7EFBa2oE8AsA6nRKX2xnHmPz/mi78tROFM5qnoAHt4OBZBa78lE6jOmYiP9zM5V2wXUgIa+/Si9rHvztLFpV14CP2XFQKbVmoJ98bSiArg/mJby6Rj//zNu4mQ5IpMGtKP4nFBgYJrCttitE5URed8LHFdF5mVfYQcEVtGpXqd/p//HxQZWxb1H0AUmOnGNiZezRyUqV8G7tiQ8PCB0DnFsxrHJ2+a6xVT+PfKY3yzEstQcC4nCLliD0rmdwa+3bmHROn95+lhcSUC30vEQWYYkAIHNQJjMOYHtzjzjkNb6q7mAIG3EVxicYG/lMQbWEMCzE6Pc/mVOYaXF8mGLPrvF2IAguPhiS2BvBWS5WLB9QUHaJZEOpcf1Gn98jTAHSXT4HNbGz7tmoPnFBG8TsRAwaPOkvbmKVIV2YC+Y4vWfCxTL6MISxtrAHjWGBkxXKrNZ8Yi7g7VI1Ap6G9KonL2vyW/R8SUMy78wmW77/HWA4gu66lKw3zWf7Ap5x9wGdnjWmCM4Uu18bDJGu8Wb5asSXk1WSeQbwT8PCkUKSIqHT9fUfzlmCaJpraA6NhzqZ+SzDkz28StDVeRpYNtP11ksT3Uosh4eh+lKMBp9uh1Gt89Fj3BMJIgBrKkgmsv2NwkQPfi6dzbZNVPwnOKHjDEj7wbPRtBky9wmF9TqVahB8sloCeWcC0Ab8S3pIHf7Or8PG1ScuTrC0gaZj/MId/Vn7+PDxwbtq9ItkHUuBP8FRHoOwyEQGnlP0+Z9rXYNgD04PydschPp2Fop1GpToTFmqTuvawcLf16ExroluIC1OFJongniKMddyXU7n0ponMDMdxa0VraxdiFOCYg8PL/TyWoSeQKDyV+LY7+2hQ6ItSyoJPqDOky2wT+cfuMjWScKsz6eMRzBBSxHaqeYXUrJ/z/SA39bBMBXSB8OPsL+q576mO7xnRkl6nUPz+5Lo6Xd31sUuAO3fciq+/MFWqSrongqPMxngRBqDTgaombrr8ZUQuOKgvXFdjRyeaSO1KY+qliotJHT7pYocpBXUoyeHDz2oteSjcQkIsBQUEqE0KNVkf2LJRrKBZkFQmDqzmSfEapmGOG4IdZBYbH3LPu24KuLafb4jWSUQAgW9qtzVrYEFRDJN6GF31wcWPP/FRzytsKnA9Cm1sLD5cPlW2epAYf3pytZchwt3EGgXQHhtjkOli+tcOnRljAa31V9WRE9gYRUkq1LP1YkdZoKOg2CUIW1nvfK5iE4tf/E+Fu3CtfeoNT/guWpM3jjho=')"}],"title":"达达龟D♔","author":"道长&蓝莓果酱UX","version":2,"type":"video","url":"hiker://empty##http://www.dadagui.com/vodtype/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nevalPrivateJS('4ZFai6WdmDyH6oz/nhtVROAIx1c0dRGZtfmf6PyWCr6dHnPVIOLddKI4gXInyEoixmC+cyqM8V/plDjccHPKYdMRRu3DLjeWtkw/W5GbPWQVKdbbEohqdTqYxEM0KWdh');\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".stui-vodlist&&li;a&&title;.lazyload&&data-original;.pic-text&&Text;a&&href\";\nvar page = MY_URL.match(/-(.*?).html/)[1];\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n        一级分类: '.stui-header__menu',\n        子分类: 'body&&li:not(:matches(首页|资讯|专题|APP))',\n分类链接: {\n            \n        }\n    },{\n        一级分类: '#screenbox&&ul',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n},{\n        一级分类: '.nav',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL);\nparStr=\".stui-vodlist&&li;a&&title;.stui-vodlist__thumb&&data-original;.pic-text&&Text;a&&href;.stui-vodlist__item&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##http://www.dadagui.com/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'p.data&&Text;p.data,2&&Text;p.data,1&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&data-original',//图片\n url:'.lazyload&&data-original',//可以是影片链接，或者图片也行\n desc:'.detail-sketch&&Text',//一般主演，地区，影片评分等描述\n tabs:'body&&h3:not(:matches(猜你喜欢|剧情介绍|剧情简介|影片评论|推荐专题|&nbsp;热播榜|剧情 热播榜|热播榜|热门|更新|最新))',//列表\n lists:'.stui-content__playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n};\n\neval(JSON.parse(request('hiker://page/lazy')).rule);\n\n动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"require('https://gitlab.com/hjdhnx/hiker/-/raw/main/js/预处理.js');","pages":"[{\"col_type\":\"movie_3\",\"name\":\"动态解析\",\"path\":\"lazy\",\"rule\":\"evalPrivateJS('vLrmLHEXDew5Wm2f/s4IJJbJIXdwuJFz/adduvbmQ2FnlqrIA5sMWnmRxD3BMHkAGUxKs2osorxqH6h8IHHjzrK/Jr7NEB0A0HLRxyACVxUeNp8WCQFkyAVYUE6156K68mZ/xI7NEB9sA6GS+UCtHVfSFjGIR2yd4FlajVy/WOBaWCr4hg/61NJ7Zom+IeJugrfHDrwgHsDrAJkUrn4TNT1EQIhCT3C6DAyJ/BG9h02b8mDsB01oNllvEodsCv0bHD7YmkXU4zwLC0Ouf51FYU4PZy/4cC1ucgKwg6EbyyMzkgcfxnMJYyJV0vZQAJNh8rfEiaviHC8O3UDv8rdXS13dTe7U8z7Cj7Vby7e8mJeDpsr8aiHHuO+s6N0ZLY+XGvfVDOSOWJXFyEYXEhQfmCYkm93S/lJPvBFX7VCgvm4OBx7EFBa2oE8AsA6nRKX2xnHmPz/mi78tROFM5qnoAHt4OBZBa78lE6jOmYiP9zM5V2wXUgIa+/Si9rHvztLFpV14CP2XFQKbVmoJ98bSiArg/mJby6Rj//zNu4mQ5IpMGtKP4nFBgYJrCttitE5URed8LHFdF5mVfYQcEVtGpXqd/p//HxQZWxb1H0AUmOnGNiZezRyUqV8G7tiQ8PCB0DnFsxrHJ2+a6xVT+PfKY3yzEstQcC4nCLliD0rmdwa+3bmHROn95+lhcSUC30vEQWYYkAIHNQJjMOYHtzjzjkNb6q7mAIG3EVxicYG/lMQbWEMCzE6Pc/mVOYaXF8mGLPrvF2IAguPhiS2BvBWS5WLB9QUHaJZEOpcf1Gn98jTAHSXT4HNbGz7tmoPnFBG8TsRAwaPOkvbmKVIV2YC+Y4vWfCxTL6MISxtrAHjWGBkxXKrNZ8Yi7g7VI1Ap6G9KonL2vyW/R8SUMy78wmW77/HWA4gu66lKw3zWf7Ap5x9wGdnjWmCM4Uu18bDJGu8Wb5asSXk1WSeQbwT8PCkUKSIqHT9fUfzlmCaJpraA6NhzqZ+SzDkz28StDVeRpYNtP11ksT3Uosh4eh+lKMBp9uh1Gt89Fj3BMJIgBrKkgmsv2NwkQPfi6dzbZNVPwnOKHjDEj7wbPRtBky9wmF9TqVahB8sloCeWcC0Ab8S3pIHf7Or8PG1ScuTrC0gaZj/MId/Vn7+PDxwbtq9ItkHUuBP8FRHoOwyEQGnlP0+Z9rXYNgD04PydschPp2Fop1GpToTFmqTuvawcLf16ExroluIC1OFJongniKMddyXU7n0ponMDMdxa0VraxdiFOCYg8PL/TyWoSeQKDyV+LY7+2hQ6ItSyoJPqDOky2wT+cfuMjWScKsz6eMRzBBSxHaqeYXUrJ/z/SA39bBMBXSB8OPsL+q576mO7xnRkl6nUPz+5Lo6Xd31sUuAO3fciq+/MFWqSrongqPMxngRBqDTgaombrr8ZUQuOKgvXFdjRyeaSO1KY+qliotJHT7pYocpBXUoyeHDz2oteSjcQkIsBQUEqE0KNVkf2LJRrKBZkFQmDqzmSfEapmGOG4IdZBYbH3LPu24KuLafb4jWSUQAgW9qtzVrYEFRDJN6GF31wcWPP/FRzytsKnA9Cm1sLD5cPlW2epAYf3pytZchwt3EGgXQHhtjkOli+tcOnRljAa31V9WRE9gYRUkq1LP1YkdZoKOg2CUIW1nvfK5iE4tf/E+Fu3CtfeoNT/guWpM3jjho=')\"}]","icon":"https://lanmeiguojiang.com/tubiao/more/223.png"},{"last_chapter_rule":"","pageList":[],"title":"随机装备.dz","author":"道长","version":2,"type":"other","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"游戏","year_url":"","find_rule":"js:\n/** 无需下载APP，点返回即可。*/\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"http://couy.xyz/\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true\n    }\n}])","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/145.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"异世界动漫.dr","author":"道长&&情້໌ᮨ","version":3,"type":"video","url":"hiker://empty##http://www.ysjdm.net/index.php/vod/show/id/20/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"动漫","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".vodlist&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href\";\nvar page = MY_URL.match(/page\\/(.*?)\\.html/)[1];\nlog(page);\ntrue_url=获取正确链接();\n//var true_url = getMyVar('header.url', MY_URL);\nlog('lianjie:'+true_url);\n//true_url = true_url.replace(/(.*)---\\//,'$1'+page+'---');\nlet cates=打造动态分类([{\n  一级分类: 'body&&ul.nav_list',\n        子分类: 'body&&li:gt(0):lt(7):not(:matches(排行|更新))',\n       分类链接: {\n            二次处理(url) {\n                return url.replace(/\\/type\\/id\\/(.*?)\\.html/, '/show/id/$1.html')\n            }\n        }\n},{\n        一级分类: 'body&&.screen_list:not(:matches(地区|年份|语言))',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\".vodlist&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href;.vodlist_sub&&Text;\";\n一级(parStr,true);","search_url":"http://www.ysjdm.net/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.pannel_head&&h2&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.lazyload&&data-original',//图片\n url:'.lazyload&&data-original',//可以是影片链接，或者图片也行\n desc:'.content_detail,1&&.data&&Text',//一般主演，地区，影片评分等描述\n content:'.content_desc.full_text&&Text',//内容简介，详情\n tabs:'body&&.play_source_tab&&a',//线路\n lists:'body&&.content_playlist,#id&&li',//列表\n tab_id:'',//线路id，可不填\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.ysjdm.net/template/conch/asset/img/favicon.png"},{"last_chapter_rule":"","pageList":[],"title":"猫脱壳","author":"Taoist","version":3,"type":"tool","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"工具","year_url":"","find_rule":"js:\nevalPrivateJS('ov3IMWkLXRNrFcU9zab5LxqxSoXUWozeOn/YEB/UXhOkS6JqbE32UmyLLdwTzrpWyZqf0Y8TZDZ5UBhxMEBpPDkjdUFXQdXOUZlbm+oSQQvHgy2YgaQzHyHRi9Z3ONOnVPEWFw9Nccn4Tin9x6V0WHhRNPMxafrXRC91nkr7txg8tLE+glzaYkeP2KJNHEp8UrB+iibTn0WcxRedb6nryVXQu4Y9jjlb5u7zgiPyvFWL9LwntGEq3MIm6U5eoO2nFY9d4aIq6tpcjbWwj/VGfhDNmGiIFifsTVp3tEMQPy0sEEMCcMIEtT2fvSQf+PpqfAb5mykoLgoJF4Re+PGAkdneOV6ZMpLS/ycRr7oMAxHOW9yWvbTMNwwmb+GTjpO0yiFEVKaUgZoCdzl070r50dWTDWfEouMDN7HkRpZNSy4XD70RBWLTsLGtM7vi7jPQaIB9Sj7/wYOccApSGvdA2h1HUtWMKxMubiffOGHzXBi4fNJxGFHPSUrSve4l2FvK/qS/O1mAj4Z4d9Z8XODmovQs2DL78hZm8TaXSZVFyJp0FBARlKZW6jOiXY9lodzNrBBEDoRG69GX+YC9pFWn4CLdVGNbUCVnefRCpxUQI7WU6qXHtQ2QC9KlTS1H8nIibsZ9jEpwgN6zor0QB7dVmg2jgz1VEJT5V4ilrfHpnFrEdUap0V9oXpJ5HHKjJnUsCKpKwCH2dQp18PMvl4AofPpnISe9Y9uv/joXTGkvGLsV6UpM0ieJaT+hEnddlNMaIZ96eYVaDOOHTWTd3OIdaEcBYM6/eijK2nsrXt/3G2pbjQ8Q4xgNfIHE5hTmOmSNAi7sEKcP/3YJLL+tZNgU+1eifNQnKcHOvQDmi9an2EZUqvn1IOyiUrF1IrssZmMCjXtMdxC68a8JRbE69+FRffR1MnoHZ+LEWz2npJKgIW6qKmXxfX6qxyGmGZ9AXlxEoiB2PlkQxcTkvtVsP6vnvYdVkfRnOavEnKHKsuVvcPD6ZyEnvWPbr/46F0xpLxi72FCNvr0Zq3r3weOsLwmFtDjD5vJuGZoGSRW1yY4wvoiSj+hN1RuooW6W0+mYb4fBgNAP1GTwZ6W7k/HzSJlC+83SK43fjDHYAdbtSAda60G1B23mTcCeDZED3j7L4YMbyMj03Miqh4b7wMKYZAa+SgvrH/c/VJe55PJHc6t3/OgCruoFQdCZiIvYxFvVmKvKr7/9lmwxLXm1vE3s22+SfGkLiavUCErU3us/GUV9uxkSuUgXyV7L77sxb0PXXemwpH9PVscz25ezEh3G9L09jLCXdWT2525dPg9f/6xml/hNq34vKfJrTNtxKod/A+My1YwvynlMsiPjB2zSOpDukXW4SWwqkH+cz5MZELXB1EL+KCy+OKi3ui7dHXyEMBQPpyD4gCsxxSsL44hvrNJHCSYoTNMJwsylDT6HPAyseQuk03ObmZorcpfwVbCmO0YUSAyquxNPvzTs26QRFGWf5MPawXnaLgXMSFwu6s/F6oMulmTLLwc0El+pvhJG/aTjJ9ZI2krKOyLZhSngp51cq1OsUkVb1xUBd4j5WHfnClADwsx+K8CxRfVO6/wppx1aoAAWJJpwezdKRFSab8SiqyQLIzgrceJ7OfU/l8zYMXZZKZR+YtWIoA8To+TYubeC3r5YDA3uXMBwlcqXjRBy7GCu9UkH8g9yidkOD/LbsJu5HjKSyvYsJImHRADWtpKL2R68l7RyElq1+ZpKr6EUbV9MrS6Dtgk49csuCxsUo8lKfNe96noczYKxy5fwmZy9Mcm8S8Wty8LXHGKRLJgqqs8NcR0GvtICBM1niVgxJ+0dYIgxHi1ZFWPvU3eOYvYrDiDc9js8wp7kzMFon/qR+/+CcMGkOKmUaJ7aHpCSTMLA62bhiWviwJzPUYOOLGknAQX1a0akqN9StpybxuFZ/8pGw7gXs0XDG2d8jJUG5ebA2+1FRQ990fmTcZAGjscSkmmVDkqzel84qEXcrYO6wztqzG+6fJAAkMqkGxnjj8R98PuchkI9mRM1GbBGuGmN3HNnk/v8O8ulsXbYF/CmM3fwBqjfj9d+N4Nk4czEACtxkP15XpVj+y3qfAhsjpFtUR9Gz6/ufkXuZii+soLe74aGeUj97R/wA5QAiaPxWoxYxlk0ASwATSECXQGcRxJ7nvjUNicXSrR6jSJ6x5nqPwBSMn2rfh0f8z9xGVsaGKJ712rJSHJmcI/4MyRWeR+BZgQJjhs1W0B+lsLQpvi02bqvfto0HwYnUMKyh4xLHf8EF+wWCvpDGaYTRX7bpnSHYR/9rPtTfATodiCxMI6Sg9ggSGHT6Jb2BSbxV7as94VMPujKmhL/Bc5b1S639ZEuFG6MSRxA+byNr8mdkx9c2Q9hHmS4iucrruIDE6YG9B/p0T3EBP1BjbuIHTkO90z2+P1O8P7YtDzWGQbKY+tXnKgsJQyW7aDWAqRLt184afP4/nLjtwCVFTLMZA4l5wygsKhwB7z2/BlKR6WXKS4qqA01nswzkdPszzwlfZX9t/n88AyJGs9ehQCnNPlNHpIguK8zBbf7AtL4TjkSUgJ6ZJiAI4mxKTTys+Ac+nbR5sdhvp8OG0xcn6EkAehkzPkr34HwJnTaKRrfVtvv1Z7XfKIgdj5ZEMXE5L7VbD+r572caZYPpgoHVjEg2vN0CQtAHspgiZ/nksquzxik1pSdV8GqtPJmvmPY1LmZyJX7LS6jOh4C6AO+NA2T/yxVSBV5bfFvXlmNbzvgsMfbAn9xJwt4KBPoJh7aAovehE1O9X8GonYaKq6qBrs6wNvZlX050ny/dIiCLr+GPKwWhprA6u5Ntllm40AVJe+9PAveWt2iLeJqhJKjiihRO5wAF0DoL15onbFKFbFb0Ik7qgVLSigow8jgqouzBJddPNu3NGhhJCd9zjqzEix6yWfqiign');","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/89.png"},{"last_chapter_rule":"","pageList":[],"title":"4K极客.dr","author":"道长&xiao","version":2,"type":"video","url":"hiker://empty##https://www.i8k.cc/vodshow/57--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".list&&li;a&&title;.lazy&&data-original;.score&&Text;a&&href\";\nvar page = MY_PAGE;\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.swiper-wrapper',\n    子分类: 'ul&&li:gt(0):lt(7)',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(/vodtype\\/(\\d+).html/, 'vodshow/$1-----------.html')\n            }\n        }\n},{\n    一级分类: 'body&&.type-item',\n    子分类: 'body&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"#vod_list&&li;h3&&a&&title;.img&&data-original;.video-serial&&Text;h3&&a&&href;.video-info-items,-1&&.ellipsis-txt&&Text\";\n一级(parStr,true);","search_url":"https://www.i8k.cc/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"line","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.picHover&&title;.info-item,0&&Text',\n img:'.poster&&a&&img&&src',\n url:'.poster&&a&&img&&src',\n desc:'.infor-item&&Text',\n content:'.ju-blurb&&Text',\n tabs:'#playNumTab&&a',\n lists:'##id&&li',\n tab_id:'a&&data-id',\n};\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.i8k.cc//template/JFUA9783oihUASBUJIOB6F1D5DAS1sf1a8f3a1fg15sg85sc8a60wef1ds6351gs_a5a41d915s/assets/icon/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"dr加密","author":"道长","version":1,"type":"tool","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"工具","year_url":"","find_rule":"js:\nevalPrivateJS('S1iQt0jJ/242X93Ocmpa+bj8NpNRIgOnSgP/hsDnDmAV/d5G00J+ozqluelgk5hEttVaX/546xXDkoM9WE25YBofm/DJxZzTRMPG03s6wfl4dTAYJdLJonag1vLZspOy0feKDtC1yTbhkaXy370qo87oaB7b9OfTIVHcQqQ67olt9AM2wXnr2Pt70uAiffPGPkMv7pqmwyuXKyV3Q8zB+OQ01mnzN2uM3kt1fGNFgrOB7iLLSmcFsRmrMdmpySKBVbd5uKXpUU9stk4WW36/QXk5k9xwOZ5IDrljPZLCoo9sQrBSLb3nsgRBvnB/swEJQ6iZebku6GxTf2hPyPBFibSgGpjYi6p2A1Aw7AAlGzdFk6CInQ5BZujsg2E9l3lsZVYHS9k72FbOEvEWE3a8hrLdP0PTs+u1FIK+slFZknxKGSmkdAu2R/W9b6sd9q8uSpGUFuZy3JTztrvRjHuo8Zi2t42eP8+NIjKH3/4P171zsM1sf0ulOwXM/b40iYkzVp40tql03WzNXbUSb/s16jKxWUjSliYy+7PK9OwwI5tcYB1yaYDibjmqZC2UeenPORsQtRJBBtQahAbsd4DFaotgw4epRIxW6c6EzG3MxfY=')","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://android-artworks.25pp.com/fs08/2021/02/23/1/110_0365ef930f7e024f8b3cbf38eb80e635_con_130x130.png"},{"last_chapter_rule":"","pageList":[],"title":"爱爱客.dr","author":"道长","version":1,"type":"video","url":"hiker://empty##http://www.6dama.net/type/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".index-area.clearfix&&li;a&&title;img&&data-original;i&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_PAGE;\n//true_url = 获取正确链接();\nif(page>1){\n    true_url=true_url.replace(/(\\d+)\\.html/,page+'.html');\n}\n//log(true_url);\nvar html=获取源码(true_url,MOBILE_UA);\nvar 关闭折叠=true;\nlet cates=打造动态分类([{\n    一级分类: '.nav-down-2&&ul',\n    子分类: 'ul&&li:not(:matches(首页|福利|美图|小说))',\n    分类链接: {\n            二次处理(url) {\n                return url\n            }\n        }\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\n//log(MY_URL);\nvar html=获取源码(MY_URL,MOBILE_UA);\nparStr=\".index-area&&li;a&&title;img&&data-original;i&&Text;a&&href;li&&Text;\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##http://www.6dama.net/s/**/fypage.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\ntitle:'.name&&Text;dt,1&&Text;dt,2&&Text',\n img:'img&&data-original',\n url:'img&&data-original',\n desc:'dd&&Text;dd,1&&Text;dd,2&&Text',\n tabs:'body&&.playfrom',\n //tab_text:'',\n lists:'body&&.playlist,#id&&ul&&li',\n content:'.tab-jq&&Text',\n//tab_id:'li&&id',\n 线路处理:function(u){\n     return u.split('(')[0]\n }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 指定ua=MOBILE_UA;\r\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"http://www.6dama.net/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"一条路武术","author":"道长","version":1,"type":"other","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"修炼","year_url":"","find_rule":"js:\n/** 无需下载APP，点返回即可。*/\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"https://www.1tiaolu.com/WuShu?secondClassId=11\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true\n    }\n}]);","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://www.1tiaolu.com/img/logo-sm.png"},{"last_chapter_rule":"","pageList":[],"title":"短视频.dr","author":"道长","version":2,"type":"video","url":"hiker://empty##http://m.sharenice.net/mobile/douyin?page=fypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小姐姐","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\"body&&li:has(.cover);a&&title;img&&data-original;;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_PAGE;\nif(page>1&&!/page=/.test(true_url)){\n    true_url=true_url+'?page='+page;\n}\n//log(true_url);\n//var 关闭折叠=true;\nvar html=获取源码(true_url,PC_UA);\nlet cates=打造动态分类([{\n    一级分类: 'body&&.nav&&ul',\n    子分类: 'ul&&a:not(:matches(首页))',\n},{\n    一级分类:'body&&.hot-tags-list',\n    子分类:'body&&a'\n}\n]);\n设置(cates);\nvar lazy=$('').lazyRule(()=>{\n    let url='http://m.sharenice.net/mobile'+input.split('net')[1];\n    let html=request(url);\n    let rurl=pdfh(html,'.video-play-box&&video&&src');\n    return rurl+'#isVideo=true#'\n});\n一级(parStr,false,cates,false,html);","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/08/72.png"},{"last_chapter_rule":"","pageList":[],"title":"笔趣7.dr","author":"道长","version":1,"type":"read","url":"hiker://empty##https://www.quge7.com/xuanhuan/?page=fypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".hot&&.item;a,-1&&Text;img&&src;span&&Text;a&&href;dd&&Text\";\nvar page = MY_PAGE;\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(page>1&&!/page/.test(true_url)){\n    true_url=true_url+'?page='+page;\n}\nlog(true_url);\nvar 关闭折叠=true;\nvar html=获取源码(true_url,PC_UA);\nlet cates=打造动态分类([{\n        一级分类: '.nav&&ul',\n        子分类: 'ul&&li:not(:matches(首页|排行))',\n        \n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split(\"##\")[1];\n//let pars=MY_URL.split(\"?\")[1];\nlet html=获取源码(MY_URL,PC_UA);\nparStr=\".so_list&&.bookbox;.bookname&&Text;img&&src;.author&&Text;a&&href;.uptime&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.quge7.com/s?q=**","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.info&&h1&&Text;.info&&.small&&span&&Text;.info&&.small&&span,1&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.cover&&img&&src',//图片\n url:'.cover&&img&&src',//可以是影片链接，或者图片也行\n desc:'.info&&.small&&span,2&&Text;.info&&.small&&span,3&&Text',//一般主演，地区，影片评分等描述\n content:'.intro&&dd&&Text',\n tabs:'body&&.rl',//线路\n //lists:'body&&.BGsectionThree-content,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n lists:'.listmain,#id&&dd:not(.more)'\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".content&&h1&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#chaptercontent&&Html\")\n    },\n    /*\n    链接:function(html){\n        //log('进了链接获取函数');\n        //log(MY_URL);\n        let host = MY_URL.match(/(.*)\\/\\/(.*?)\\//)[0];\n         if(pdfh(html,'#next_url&&Text').includes('下一页')){\n             let urls=[host+pdfh(html,'#next_url&&href')]; \n             //log(urls);\n            return urls\n            }\n    }\n    */\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\nvar 指定ua=PC_UA;\nvar lazy=小说(定位);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.quge7.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"第一小说.dr","author":"道长","version":1,"type":"read","url":"hiker://empty##https://www.01xs.com/fenlei1/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".articlelist&&ul&&li;.articlename&&a&&Text;img&&data-original;span&&Text;a&&href;.articleintro&&Text\";\nvar page = 1;\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\n//log(true_url);\nvar 关闭折叠=true;\nvar html=获取源码(true_url,PC_UA);\nlet cates=打造动态分类([{\n        一级分类: '.menu&&ul',\n        子分类: 'ul&&li:not(:matches(首页|排行|书架))',\n        \n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet html=获取源码(MY_URL,PC_UA);\nparStr=\".jilu&&.banner&&ul;.s2&&Text;;.s4&&Text;a&&href;.s5&&Text\";\n一级(parStr,true,null,null,html);","search_url":"https://www.01xs.com/search.php?keyword=**","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.articleinfo&&h1&&Text;.author&&Text;.p4&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.articleinfo&&img&&src',//图片\n url:'.articleinfo&&img&&src',//可以是影片链接，或者图片也行\n desc:'.p4,1&&Text;.p4,2&&Text;',//一般主演，地区，影片评分等描述\n content:'.p3&&Text',\n tabs:'body&&.chapterlist:matches(全部章节)&&.top',//线路\n //lists:'body&&.BGsectionThree-content,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n lists:'body&&.chapterlist:matches(全部章节)&&ul&&li'\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".chapter&&h1&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#content&&Html\")\n    },\n    /*\n    链接:function(html){\n        //log('进了链接获取函数');\n        //log(MY_URL);\n        let host = MY_URL.match(/(.*)\\/\\/(.*?)\\//)[0];\n         if(pdfh(html,'#next_url&&Text').includes('下一页')){\n             let urls=[host+pdfh(html,'#next_url&&href')]; \n             //log(urls);\n            return urls\n            }\n    }\n    */\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\nvar 指定ua=PC_UA;\nvar lazy=小说(定位);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://01xs.cdn.bcebos.com/js/logo.png"},{"last_chapter_rule":"","pageList":[],"title":"断青丝.dr","author":"道长","version":1,"type":"read","url":"hiker://empty##https://www.duanqingsi.com/all/0_lastupdate_0_0_0_0_0_0_fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".listRightBottom&&ul&&li;a&&title;img&&src;.writer&&Text;a&&href;.bookDesc&&Text\";\nvar page = MY_PAGE;\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(page>1){\n    true_url=true_url.replace(/(\\d+)\\.html/,page+'.html');\n}\n//log(true_url);\n//var 关闭折叠=true;\nvar html=获取源码(true_url,PC_UA,'','',{\n    \"content-type\": \"charset=gb18030\"\n});\nlet cates=打造动态分类([{\n        一级分类: '.listLeft&&ul',\n        子分类: 'ul&&li:not(:matches(^$))',\n        \n    },{\n        一级分类: '.filter&&ul',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n        \n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split(\"##\")[1];\nlet html=获取源码(MY_URL,PC_UA);\nparStr=\".recommend&&.hot_sale;.title&&Text;;p,2&&Text;a&&href;p,1&&Text\";\nvar 一级处理={\n    链接:function(u){\n        return u.replace('m.','www.')\n    }\n}\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://m.duanqingsi.com/ms.php?keyword=**","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.bookPhr&&h2&&Text;.bookPhr&&dl&&dd&&Text;.bookPhr&&dl&&dd,1&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.bookImg&&img&&src',//图片\n url:'.bookImg&&img&&src',//可以是影片链接，或者图片也行\n desc:'.renew&&a&&Text;.renew&&span&&Text',//一般主演，地区，影片评分等描述\n content:'.introCon&&Text',\n tabs:'.chapterList&&.introTitle',//线路\n tab_id:'',//线路id，可不填,\n lists:'#yuedu,#id&&ul&&li'//列表\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".articleTitle&&h2&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \".articleCon&&Html\")\n    },\n};\nvar 编码='gb18030';\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\nvar 指定ua=PC_UA;\nvar lazy=小说(定位);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.duanqingsi.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"33言情.dr","author":"道长","version":1,"type":"read","url":"hiker://empty##https://www.33yq.org/lastupdate/fypage/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&#alistbox;img&&alt;img&&src;.title&&span&&Text;a&&href;.intro&&Text\";\nvar page = MY_PAGE;\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\n//&&!/\\/(\\d+)\\//.test(true_url)\nif(page>1){\n    true_url=true_url+page+'/';\n}\n//log(true_url);\n//var 关闭折叠=true;\nvar html=获取源码(true_url,PC_UA);\nlet cates=打造动态分类([{\n        一级分类: '.daohang&&ul',\n        子分类: 'ul&&li:not(:matches(首页|历史))',\n        \n    },{\n        一级分类: 'body&&.nav1',\n        子分类: 'ul&&li:not(:matches(^$))',\n    }]);\n设置(cates);\nvar 一级处理={\n    链接:function(u){\n        return u.replace(/_(\\d+)\\.html/,'read/$1/').replace('xiaoshuo','')\n    }\n}\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split(\"##\")[1];\nlet pars=MY_URL.split(\"?\")[1];\n//log(MY_URL);\nlet html=post(MY_URL.split(\"?\")[0],{\n    body:pars,\n    headers:{\n        \"User-Agent\":PC_UA,\n        //\"Cookie\":getMyVar(\"cookie\")\n    },\n    withHeaders:true\n});\nurl=JSON.parse(html).url;\nvar page=MY_PAGE;\nif(page>1){\nurl=url.replace(/(\\d+)\\.html/,page+'.html');\n}\n//log(url);\nhtml=获取源码(url,PC_UA);\nparStr=\"body&&#alistbox;img&&alt;img&&src;.title&&span&&Text;a&&href;.intro&&Text\";\nvar 一级处理={\n    链接:function(u){\n        return u.replace(/_(\\d+)\\.html/,'read/$1/').replace('xiaoshuo','')\n    }\n}\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.33yq.org/search.html?s=articlename&searchkey=**&page=fypage&Submit=","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'#info&&h1&&Text;#info&&p&&Text;#info&&p,1&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'#fmimg&&img&&src',//图片\n url:'#fmimg&&img&&src',//可以是影片链接，或者图片也行\n desc:'#info&&p,-2&&Text;#info&&p,-1&&Text',//一般主演，地区，影片评分等描述\n content:'.introtxt&&Text',\n tabs:'body&&#qw',//线路\n tab_id:'',//线路id，可不填,\n lists:'#list,#id&&dd' //列表\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".zhangjieming&&h1&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#content&&Html\")\n    },\n    /*\n    链接:function(html){\n        //log('进了链接获取函数');\n        //log(MY_URL);\n        let host = MY_URL.match(/(.*)\\/\\/(.*?)\\//)[0];\n         if(pdfh(html,'#next_url&&Text').includes('下一页')){\n             let urls=[host+pdfh(html,'#next_url&&href')]; \n             //log(urls);\n            return urls\n            }\n    }\n    */\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\nvar 指定ua=PC_UA;\nvar lazy=小说(定位);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.33yq.org/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"九九藏书.dr","author":"道长","version":2,"type":"read","url":"hiker://empty##https://www.99csw.com/book/index.php?type=言情小说&page=fypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"#list_box&&li;h2&&Text;img&&src;h4&&Text;a&&href;.intro&&Text\";\nvar page = MY_PAGE;\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(page>1&&!/page/.test(true_url)){\n    true_url=true_url+'&page='+page;\n}\n//log(true_url);\nvar 关闭折叠=true;\nvar html=获取源码(true_url,PC_UA);\nlet cates=打造动态分类([{\n        一级分类: 'body&&.type_box',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n        \n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split(\"##\")[1];\n//let pars=MY_URL.split(\"?\")[1];\nlet html=获取源码(MY_URL,PC_UA);\nparStr=\"#list_box&&li;h2&&Text;img&&src;h4&&Text;a&&href;.intro&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.99csw.com/book/search.php?type=all&keyword=**&page=fypage","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'#book_info&&h2&&Text;h4&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'img&&src',//图片\n url:'img&&src',//可以是影片链接，或者图片也行\n desc:'h4,1&&Text',//一般主演，地区，影片评分等描述\n content:'.intro&&Text',\n tabs:'body&&#dragbox',//线路\n tab_id:'',//线路id，可不填,\n lists:'#dir,#id&&dd'//列表\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \"#c_title&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#content--h2&&Html\")\n    },\n    /*\n    链接:function(html){\n        //log('进了链接获取函数');\n        //log(MY_URL);\n        let host = MY_URL.match(/(.*)\\/\\/(.*?)\\//)[0];\n         if(pdfh(html,'#next_url&&Text').includes('下一页')){\n             let urls=[host+pdfh(html,'#next_url&&href')]; \n             //log(urls);\n            return urls\n            }\n    }\n    */\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\nvar 指定ua=PC_UA;\nvar lazy=小说(定位);\n/*\nvar lazy=$('').lazyRule((解析)=>{\n    let text=解析.纯X5(input,$.toString(()=>{\n    let ctx=document.querySelector('#content').innerText;\n    if(ctx.length>200){\n        fy_bridge_app.log(ctx);\n        return ctx\n    }\n}));\n return text\n\n},解析);\n*/\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.99csw.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"妙笔阁.dr","author":"道长","version":2,"type":"read","url":"hiker://empty##https://www.imiaobige.com/shuku/0_0_0_fypage.html","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"tbody&&tr;a&&Text;;a,-1&&Text;a&&href;.nowrap&&Text\";\nvar page = MY_PAGE;\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(page>1){\n    true_url=true_url.replace(/(\\d+)\\.html/,page+'.html');\n}\n//log(true_url);\n//var 关闭折叠=true;\nvar html=获取源码(true_url,PC_UA);\nlet cates=打造动态分类([{\n        一级分类: 'body&&.pilltags',\n        子分类: 'dd&&a:not(:matches(^$))',\n        \n    }]);\n设置(cates);\nvar 一级处理={\n    链接:function(u){\n        return u.replace(/(\\d+)\\.html/,'$1/').replace('novel','read')\n    }\n}\n一级(parStr,true,cates,false,html);","searchFind":"js:\n//搜索翻页有问题，暂时没法解决\nrequire(config.模板);\nMY_URL=MY_URL.split(\"##\")[1];\n//log(MY_URL);\n//let pars=MY_URL.split(\"?\")[1];\nlet pars=MY_URL.split(\"?\")[1];\n//log(MY_URL);\nlet html=post(MY_URL.split(\"?\")[0],{\n    body:pars,\n    headers:{\n        \"User-Agent\":PC_UA,\n        //\"Cookie\":getMyVar(\"cookie\")\n    },\n   // withHeaders:true\n});\n/*\nurl=JSON.parse(html).url;\nvar page=MY_PAGE;\nif(page>1){\nurl=url.replace(/(\\d+)\\.html/,page+'.html');\n}\nlog(url);\nhtml=获取源码(url,PC_UA);\n*/\nparStr=\"#sitembox&&dl;h3&&a&&Text;;.book_other,-1&&span&&Text;a&&href;.book_other&&Text\";\nvar 一级处理={\n    链接:function(u){\n        return u.replace(/(\\d+)\\.html/,'$1/').replace('novel','read')\n    }\n}\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.imiaobige.com/search.html?searchkey=**&page=fypage","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.smallcons&&h1&&Text;.smallcons&&a&&Text;.smallcons&&a,1&&Text',//图片右侧的文字，可以是影片名，主演等\n// img:'.cover&&img&&src',//图片\n// url:'.cover&&img&&src',//可以是影片链接，或者图片也行\n desc:'.smallcons&&span,-1&&Text',//一般主演，地区，影片评分等描述\n content:'meta[name=\"description\"]&&content',\n tabs:'body&&em',//线路\n //lists:'body&&.BGsectionThree-content,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n lists:function(u){\n     let uls=pdfa(u,'#readerlists&&ul:gt(0)');\n     let lis=[];\n     for(let ul of uls){\n         lis=lis.concat(pdfa(ul,'body&&a'))\n     }\n     return lis\n }\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".title&&h1&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#content&&Html\")\n    },\n    /*\n    链接:function(html){\n        //log('进了链接获取函数');\n        //log(MY_URL);\n        let host = MY_URL.match(/(.*)\\/\\/(.*?)\\//)[0];\n         if(pdfh(html,'#next_url&&Text').includes('下一页')){\n             let urls=[host+pdfh(html,'#next_url&&href')]; \n             //log(urls);\n            return urls\n            }\n    }\n    */\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\nvar 指定ua=PC_UA;\nvar lazy=小说(定位);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.imiaobige.com/tpl/miaobige/image/logo.png"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"正文","path":"c","rule":"js:\nvar d = [];\nvar data = JSON.parse(getResCode());\nvar c = data.data.novel_data;\nd.push({\n    title: \"<big>\" + c.chapter_title + \"</big>\",\n    col_type: \"rich_text\",\n});\n\nd.push({\n    title: pdfh(data.data.content, \"article&&Html\"),\n    col_type: 'rich_text',\n  extra: {\n\ttextSize: 16,\n\tclick: true\n  }\n});\n\nsetResult(d);"}],"title":"番茄小说.dz","author":"麻花疼&道长","version":20,"type":"read","url":"https://writer.muyewx.com/api/author/library/book_list/v0/?page_count=18&page_index=fypage@-1@&gender=-1&category_id=fyAll&creation_status=-1&word_count=-1&sort=0","col_type":"movie_3_marquee","class_name":"全部&都市生活&现代言情&古代言情&玄幻&科幻&悬疑&历史&体育&武侠&文学小说&游戏动漫","class_url":"-1&2&3&5&7&8&10&12&15&16&47&57","area_name":"校园&鉴宝&系统&神豪&种田&快穿&重生&穿越&二次元&海岛&娱乐圈&空间&推理&洪荒&三国&末世&直播&无限流&诸天万界&兽世&大唐&宠物&外卖&清穿&星际&美食&年代&剑道&盗墓&虐文&甜宠&灵异","area_url":"4&17&19&20&23&24&36&37&39&40&43&44&61&66&67&68&69&70&71&72&73&74&75&76&77&78&79&80&81&95&96&100","sort_name":"","year_name":"赘婿&神医&战神&萌宝&豪门总裁&宠妻&奶爸&学霸&公主&皇后&王妃&女强&皇叔&嫡女&精灵&天才&腹黑&扮猪吃虎&团宠","sort_url":"小说","year_url":"25&26&27&28&29&30&42&82&83&84&85&86&87&88&89&90&92&93&94","find_rule":"js:\nvar d = [];\nvar data = JSON.parse(getResCode());\nfor (let it of data.data.book_list) {\n    d.push({\n        title: decodeURIComponent(it.book_name),\n        url: config.api + \"/novel/book/directory/list/v1?book_id=\" + it.book_id + \"#immersiveTheme#\",\n        col_type: \"movie_3\",\n        desc: it.author,\n        pic_url: config.封面域名 + it.thumb_uri\n    });\n}\nfunction cate(a){\n    // a是 https://fanqienovel.com/api/author/book/category_list/v0/ 获取的数据\n    let datas = a.data;\n    let ret = {};\n    for (data of datas){\n        if(!ret[data.label]){\n            ret[data.label] = {\n                title: [],\n                url:[]\n            }\n        }\n        ret[data.label].title.push(data.name);\n        ret[data.label].url.push(data.category_id);\n    }\n    let keys = Object.keys(ret).slice(1)\n    for(let key of keys){\n        ret[key].title = ret[key].title.join('&');\n        ret[key].url = ret[key].url.join('&');\n    }\n    return ret\n}\nsetResult(d);","searchFind":"js:\nvar d = [];\nvar data = JSON.parse(getResCode());\nvar list = data.data.ret_data;\nfor (let it of list) {\n    d.push({\n        title: it.title.replace(/<em>|<\\/em>/g, \"\"),\n        url: config.api + \"/novel/book/directory/list/v1?book_id=\" + it.book_id + \"#immersiveTheme#\",\n        col_type: \"\",\n        desc: it.author,\n        content:it.abstract,\n        pic_url: it.thumb_url\n    });\n}\nsetResult(d);","search_url":"https://novel.snssdk.com/api/novel/channel/homepage/search/search/v1/?aid=13&q=**","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nfunction htmlTag(tag, text) {\n    text += \"\";\n    if (text.indexOf(\"““””\") === 0) {\n        text.replace(\"““””\", \"\");\n    }\n    return \"““””\" + \"<\" + tag + \">\" + text + \"</\" + tag + \">\";\n}\nfunction small(text) {\n    return htmlTag(\"small\", text);\n}\nvar d = [];\nvar data = JSON.parse(getResCode());\nvar book_info = data.data.book_info;\nvar bookName = book_info.book_name;\nvar ruleName = MY_RULE.title;\nvar info = book_info.abstract;\nvar title = bookName+'\\n'+(book_info.book_flight_alias_name||'')+'\\n'+(book_info.category||'');\nvar desc = \"作者：\" + book_info.author + \"\\n最新章节：\" + book_info.last_chapter_title + \"\\n分类标签：\" + book_info.complete_category;\nvar pic = book_info.thumb_url;\nd.push({\n    title: small(title),\n    url: pic+'#.png',\n    col_type: \"movie_1_vertical_pic_blur\",\n    desc: small(desc),\n    pic_url: pic\n});\nlet limit_text = info.substring(0,100)+'...';\nlet download_text = '';\nvar rootPath = '/storage/emulated/0/Android/data/com.example.hikerview/files/Documents/localManager/小说/';\ntry {\n    const Config = $.require(\"hiker://page/Config.json?rule=本地资源管理\");\n    rootPath = Config.novelPath;\n} catch (e) {Config = {}}\ndownload_text = '下载'.link($().b64(\"'\").lazyRule(() => {\n    let rule_exits = fetch('hiker://home@本地资源管理');\n    rule_exits = rule_exits!=='null'&&rule_exits!=='';\n    if(!rule_exits){\n        return $('未安装[本地资源管理]小程序，无法下载资源,现在安装?').confirm(()=>{\n            let ruleHead = '海阔视界首页频道规则【本地资源管理】￥home_rule_url￥';\n            let rulecode = 'rule://'+base64Encode(ruleHead+'http://hiker.nokia.press/hikerule/rulelist.json?id=3559');\n            return rulecode\n        });\n    }else{\n        return \"hiker://page/download.view#noHistory##noRecordHistory##noRefresh#?rule=本地资源管理\";\n    }\n}));\ndownload_text+='\\t\\t\\t\\t\\t';\ndownload_text+='更新下载器'.link($().b64(\"'\").lazyRule(() => {\n    let ruleHead = '海阔视界首页频道规则【本地资源管理】￥home_rule_url￥';\n    let rulecode = 'rule://'+base64Encode(ruleHead+'http://hiker.nokia.press/hikerule/rulelist.json?id=3559');\n    return rulecode\n}));\n\n\ndownload_text+='\\t\\t\\t\\t\\t';\ndownload_text += '本地阅读'.link($().b64(\"'\").lazyRule((bookName, ruleName,rootPath) => {\n    let rule_exits = fetch('hiker://home@本地资源管理');\n    rule_exits = rule_exits !== 'null' && rule_exits !== '';\n    if (!rule_exits) {\n        return $('未安装[本地资源管理]小程序，无法本地阅读,现在安装?').confirm(() => {\n            let ruleHead = '海阔视界首页频道规则【本地资源管理】￥home_rule_url￥';\n            let rulecode = 'rule://' + base64Encode(ruleHead + 'http://hiker.nokia.press/hikerule/rulelist.json?id=3559');\n            return rulecode\n        });\n    } else {\n        let bindUrl = 'hiker://page/NovelBrowser.view';\n        let localReadUrl = buildUrl(bindUrl, {\n            hasParams: true,\n            rule: \"本地资源管理\",\n            path: encodeURIComponent(rootPath + ruleName + \"/\" + bookName),\n            name: encodeURIComponent(bookName)\n        });\n        // log(localReadUrl);\n        return localReadUrl\n    }\n}, bookName, ruleName,rootPath));\n\nlet rich_html = (\"剧情简介\\t\\t\\t\\t\\t\"+download_text+\"<br><br>\").fontcolor(\"#098AC1\")+limit_text.fontcolor(\"grey\").small();\nrich_html = rich_html+\"查看详情\".fontcolor(\"#098AC1\").small().link($().b64(\"'\").rule(d => setResult(d), [{\n    title:info,\n    col_type:\"long_text\"\n}]));\nd.push({\n    title:rich_html,\n    col_type:\"rich_text\",\n    extra:{\n        lineVisible: false,\n        textSizeb:11,\n        lineSpacing:-11\n    },\n});\n/*\nd.push({\n    title: '““””<small><font color=#871f78>数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\n */\n\nvar list = data.data.item_list;\nvar urls = []\nfor (let i = 0; i < list.length; i++) {\n    let index = Math.floor(i / 100)\n    if (urls.length <= index) {\n        urls.push([])\n    }\n    urls[index].push(list[i])\n}\n\nvar ul = []\nfor (let it of urls) {\n    ul.push({\n        url: config.api + \"/novel/book/directory/detail/v1/?item_ids=\" + it.join(\",\"),\n        options: {\n            header: {\n                \"User-Agent\": MOBILE_UA\n            }\n        }\n    })\n}\n\nfunction getCache() {\n    let cache = getMyVar(book_info.book_name, \"\")\n    if (cache == \"\") {\n        cache = JSON.stringify(batchFetch(ul))\n        putMyVar(book_info.book_name, cache)\n    }\n    addListener(\"onRefresh\", $.toString((key) => {\n        clearMyVar(key)\n    }, book_info.book_name))\n    return JSON.parse(cache)\n}\n\nlet chapters = getCache();\nlet chapterListAll = [];\nfor (let it of chapters) {\n    let cps = JSON.parse(it).data;\n    for (let c of cps) {\n        let stitle = c.title;\n        let surl = config.api + \"/novel/book/reader/full/v1/?item_id=\" + c.item_id;\n        chapterListAll.push({title:stitle,url:surl});\n        d.push({\n            title: c.title,\n            col_type: \"text_2\",\n            desc: \"\",\n            pic_url: \"\",\n            url: $(surl + \"#autoPage##readTheme#\").rule(() => {\n                $.require(\"hiker://page/c\")\n            })\n        });\n    }\n}\nlet chapterListFile = rootPath + ruleName + \"/\" + bookName+'/chapterListAll.json';\nchapterListFile = chapterListFile.replace('/小说/','/dr章节缓存/小说/').replace('/漫画/','/dr章节缓存/漫画/');\nsetLastChapterRule('js:' + $.toString((ruleName,lastObj) => {\n    var newtips = \"更新至\"+lastObj.title;\n    if(ruleName!==MY_RULE.title){\n        newtips = ruleName+'|'+newtips\n    }\n    setResult(newtips);\n}, ruleName,chapterListAll.slice(-1)[0]));\n\nwriteFile(chapterListFile,JSON.stringify(chapterListAll));\n\nvar downloadInfo = {\n    bookName: bookName,\n    ruleName: ruleName,\n    bookTopPic: pic,\n    parseCode: $.toString(() => {\n        // log(input);\n        var data = JSON.parse(request(input));\n        var c = data.data.novel_data;\n        var content = pdfh(data.data.content, \"article&&Html\");\n        content = content.replace(/<p>|<\\/p>/g,'').replace(/<br>/g,'\\n');\n        content = content.split('\\n').join('\\n　　');\n        return content\n    }),\n    type:\"novel\"\n};\ndownload_extra = {\n    chapterList: chapterListFile,\n    info: downloadInfo,\n    defaultView:'0'\n};\nObject.assign(d[1].extra, download_extra);\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"initConfig({\n    api: \"https://novel.snssdk.com/api\",\n    封面域名: \"http://p6-novel.byteimg.com/large/\"\n});\n","pages":"[{\"col_type\":\"movie_3\",\"name\":\"正文\",\"path\":\"c\",\"rule\":\"js:\\nvar d = [];\\nvar data = JSON.parse(getResCode());\\nvar c = data.data.novel_data;\\nd.push({\\n    title: \\\"<big>\\\" + c.chapter_title + \\\"</big>\\\",\\n    col_type: \\\"rich_text\\\",\\n});\\n\\nd.push({\\n    title: pdfh(data.data.content, \\\"article&&Html\\\"),\\n    col_type: 'rich_text',\\n  extra: {\\n\\ttextSize: 16,\\n\\tclick: true\\n  }\\n});\\n\\nsetResult(d);\"}]","icon":"https://img0.baidu.com/it/u=3261019260,110575185&fm=117&fmt=auto&gp=0.jpg"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"正文","path":"content","rule":"var d = [];\nvar data = JSON.parse(getResCode());\n\nd.push({\n    col_type: \"rich_text\",\n    title: \"<big>\" + data.data.cname + \"</big>\",\n});\nlog(data.data.cname)\nd.push({\n    title: data.data.content.replace(new RegExp(\"\\n\", \"g\"), \"<br>\").replace(new RegExp(\"\\r\", \"g\"), \"<br>\").replace(new RegExp(\"<br><br>　　<br><br>\", \"g\"), \"<br><br>\"),\n    col_type: 'rich_text',\n    extra: {\n        textSize: 18,\n        click: true\n    }\n});\nsetResult(d);"},{"col_type":"movie_3","name":"目录","path":"目录","rule":"js:\n\nvar d = [];\nlet sp = \"},]\"\nlet code = getResCode().replace(new RegExp(sp, \"g\"), \"}]\")\n//log(code)\nvar data = JSON.parse(code);\n//log(data.data.list)\nvar bookid = data.data.id;\nvar index = Math.floor(bookid / 1000) + 1;\n//log(data.data);\n\nd.push({\n    title: \"书名： \" + MY_PARAMS.name,\n    col_type: 'movie_1_vertical_pic_blur',\n    img: MY_PARAMS.pic_url,\n    desc: \"作者： \" + MY_PARAMS.author + \"\\n\" + \"类型： \" + MY_PARAMS.cname + \"\\n\" + \"评分： \" + MY_PARAMS.score,\n    url: ''\n});\nlet limit_text = MY_PARAMS.desc.substring(0, 100)+'...';\nlet rich_html = (\"剧情简介\\t\\t\\t\\t\\t\"+\"<br><br>\").fontcolor(\"#098AC1\")+limit_text.fontcolor(\"grey\").small();\nrich_html = rich_html+\"查看详情\".fontcolor(\"#098AC1\").small().link($().b64(\"'\").rule(d => setResult(d), [{\n    title:MY_PARAMS.desc,\n    col_type:\"long_text\"\n}]));\nd.push({\n    title:rich_html,\n    col_type:\"rich_text\",\n    extra:{\n        lineVisible: false,\n        textSizeb:11,\n        lineSpacing:-11\n    },\n});\nd.push({\n    title: \"下载\",\n    url: \"hiker://page/download.view#noHistory##noRecordHistory##noRefresh#?rule=本地资源管理\",\n    col_type: \"text_1\",\n    extra: {\n        chapterList: data.data.list[0].list.map((it) => ({\n            title: it.name,\n            url: \"https://contentxs.pysmei.com/BookFiles/Html/\" + index + \"/\" + bookid + \"/\" + it.id + \".html\"\n        })),\n        info: {\n            bookName: MY_PARAMS.name,\n            ruleName: MY_RULE.title,\n            bookTopPic: MY_PARAMS.pic_url,\n            parseCode: $.toString(() => {\n                var data = JSON.parse(request(input));\n                return data.data.content;\n            }),\n            type:\"novel\"\n        },\n        defaultView: \"0\"\n    }\n});\nfor (let it of data.data.list[0].list) {\n    let chapterid = it.id;\n    let chapterurl = \"https://contentxs.pysmei.com/BookFiles/Html/\" + index + \"/\" + bookid + \"/\" + chapterid + \".html\"\n    d.push({\n        title: it.name,\n        col_type: \"text_2\",\n        desc: \"\",\n        pic_url: \"\",\n        url: $(chapterurl + \"#autoPage##readTheme#\").rule(() => {\n            $.require(\"hiker://page/content\")\n        })\n    });\n}\nsetResult(d);"}],"title":"笔趣阁📚","author":"道长","version":26,"type":"read","url":"https://scxs.pysmei.com/top/man/top/fyarea/fyclass/fypage.html","col_type":"movie_3_marquee","class_name":"周榜&月榜&总榜","class_url":"week&month&total","area_name":"最热&推荐&收藏&评分&完结","area_url":"hot&commend&collect&vote&over","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nvar d = [];\nvar data = JSON.parse(getResCode());\nfor (let it of data.data.BookList) {\n    let id = it.Id;\n    let cid = Math.floor(id/1000)+1;\n    d.push({\n        title: decodeURIComponent(it.Name),\n        url: \"hiker://page/目录\",\n        col_type: \"movie_3\",\n        desc: it.Author,\n        pic_url: \"https://imgapixs.pysmei.com/BookFiles/BookImages/\" + it.Img,\n        extra:{\n            url:\"https://infosxs.pysmei.com/BookFiles/Html/\" + cid + \"/\" + id + \"/index.html#immersiveTheme#\",\n            name:decodeURIComponent(it.Name),\n            pic_url:\"https://imgapixs.pysmei.com/BookFiles/BookImages/\" + it.Img,\n            desc:it.Desc,\n            author:it.Author,\n            cname:it.CName||'未知',\n            score:it.Score||'未知',\n        }\n    });\n}\n\nsetResult(d);\n","searchFind":"js:\nvar d = [];\nvar data = JSON.parse(getResCode());\nfor (let it of data.data) {\n    let id = it.Id;\n    let cid = Math.floor(id/1000)+1;\n    d.push({\n        title: it.Name,\n        url: \"hiker://page/目录\",\n        col_type: \"movie_3\",\n        desc: it.Author,\n        content: it.Desc,\n        pic_url: it.Img,\n        extra:{\n            url:\"https://infosxs.pysmei.com/BookFiles/Html/\" + cid + \"/\" + id + \"/index.html#immersiveTheme#\",\n            name:decodeURIComponent(it.Name),\n            pic_url:it.Img,\n            desc:it.Desc,\n            author:it.Author,\n            cname:it.CName||'未知',\n            score:it.Score||'未知',\n        }\n    });\n}\n\nsetResult(d);","search_url":"https://souxs.leeyegy.com/search.aspx?key=**&siteid=app2","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"","sdetail_col_type":"text_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"正文\",\"path\":\"content\",\"rule\":\"var d = [];\\nvar data = JSON.parse(getResCode());\\n\\nd.push({\\n    col_type: \\\"rich_text\\\",\\n    title: \\\"<big>\\\" + data.data.cname + \\\"</big>\\\",\\n});\\nlog(data.data.cname)\\nd.push({\\n    title: data.data.content.replace(new RegExp(\\\"\\\\n\\\", \\\"g\\\"), \\\"<br>\\\").replace(new RegExp(\\\"\\\\r\\\", \\\"g\\\"), \\\"<br>\\\").replace(new RegExp(\\\"<br><br>　　<br><br>\\\", \\\"g\\\"), \\\"<br><br>\\\"),\\n    col_type: 'rich_text',\\n    extra: {\\n        textSize: 18,\\n        click: true\\n    }\\n});\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"目录\",\"path\":\"目录\",\"rule\":\"js:\\n\\nvar d = [];\\nlet sp = \\\"},]\\\"\\nlet code = getResCode().replace(new RegExp(sp, \\\"g\\\"), \\\"}]\\\")\\n//log(code)\\nvar data = JSON.parse(code);\\n//log(data.data.list)\\nvar bookid = data.data.id;\\nvar index = Math.floor(bookid / 1000) + 1;\\n//log(data.data);\\n\\nd.push({\\n    title: \\\"书名： \\\" + MY_PARAMS.name,\\n    col_type: 'movie_1_vertical_pic_blur',\\n    img: MY_PARAMS.pic_url,\\n    desc: \\\"作者： \\\" + MY_PARAMS.author + \\\"\\\\n\\\" + \\\"类型： \\\" + MY_PARAMS.cname + \\\"\\\\n\\\" + \\\"评分： \\\" + MY_PARAMS.score,\\n    url: ''\\n});\\nlet limit_text = MY_PARAMS.desc.substring(0, 100)+'...';\\nlet rich_html = (\\\"剧情简介\\\\t\\\\t\\\\t\\\\t\\\\t\\\"+\\\"<br><br>\\\").fontcolor(\\\"#098AC1\\\")+limit_text.fontcolor(\\\"grey\\\").small();\\nrich_html = rich_html+\\\"查看详情\\\".fontcolor(\\\"#098AC1\\\").small().link($().b64(\\\"'\\\").rule(d => setResult(d), [{\\n    title:MY_PARAMS.desc,\\n    col_type:\\\"long_text\\\"\\n}]));\\nd.push({\\n    title:rich_html,\\n    col_type:\\\"rich_text\\\",\\n    extra:{\\n        lineVisible: false,\\n        textSizeb:11,\\n        lineSpacing:-11\\n    },\\n});\\nd.push({\\n    title: \\\"下载\\\",\\n    url: \\\"hiker://page/download.view#noHistory##noRecordHistory##noRefresh#?rule=本地资源管理\\\",\\n    col_type: \\\"text_1\\\",\\n    extra: {\\n        chapterList: data.data.list[0].list.map((it) => ({\\n            title: it.name,\\n            url: \\\"https://contentxs.pysmei.com/BookFiles/Html/\\\" + index + \\\"/\\\" + bookid + \\\"/\\\" + it.id + \\\".html\\\"\\n        })),\\n        info: {\\n            bookName: MY_PARAMS.name,\\n            ruleName: MY_RULE.title,\\n            bookTopPic: MY_PARAMS.pic_url,\\n            parseCode: $.toString(() => {\\n                var data = JSON.parse(request(input));\\n                return data.data.content;\\n            }),\\n            type:\\\"novel\\\"\\n        },\\n        defaultView: \\\"0\\\"\\n    }\\n});\\nfor (let it of data.data.list[0].list) {\\n    let chapterid = it.id;\\n    let chapterurl = \\\"https://contentxs.pysmei.com/BookFiles/Html/\\\" + index + \\\"/\\\" + bookid + \\\"/\\\" + chapterid + \\\".html\\\"\\n    d.push({\\n        title: it.name,\\n        col_type: \\\"text_2\\\",\\n        desc: \\\"\\\",\\n        pic_url: \\\"\\\",\\n        url: $(chapterurl + \\\"#autoPage##readTheme#\\\").rule(() => {\\n            $.require(\\\"hiker://page/content\\\")\\n        })\\n    });\\n}\\nsetResult(d);\"}]","icon":"https://lanmeiguojiang.com/tubiao/more/286.png"},{"last_chapter_rule":"","pageList":[],"title":"搜书网.dr","author":"道长","version":2,"type":"other","url":"hiker://empty##https://www.soshuwu.com/shuku/0_0_0_fypage.html","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".grid,1&&tbody&&tr:gt(0);a,1&&Text;;a,-1&&Text;a&&href;body&&Text\";\nvar page = MY_PAGE;\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(page>1){\n    true_url=true_url.replace(/(\\d+)\\.html/,page+'.html');\n}\n//log(true_url);\nvar 关闭折叠=true;\nvar html=获取源码(true_url,PC_UA);\nlet cates=打造动态分类([{\n        一级分类: 'body&&.tdr',\n        子分类: 'body&&a:not(:matches(^$))',\n        \n    }]);\n设置(cates);\nvar 一级处理={\n    链接:function(u){\n        return u.replace(/\\/(.*?)\\.html/,'/$1/').replace('/book','')\n    }\n}\n一级(parStr,true,cates,false,html);","searchFind":"js:\n//搜索翻页有问题，暂时没法解决\nrequire(config.模板);\nMY_URL=MY_URL.split(\"##\")[1];\n//log(MY_URL);\n//let pars=MY_URL.split(\"?\")[1];\nvar html=获取源码(MY_URL,PC_UA);\nparStr=\".novelslist2&&ul&&li:gt(0);a,1&&Text;;.s4&&Text;a,1&&href;li&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.soshuwu.com/search.html?searchkey=**&searchtype=all","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.xiaoshuo&&h1&&Text;.xiaoshuo&&h6&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.book_cover&&img&&src',//图片\n// url:'.cover&&img&&src',//可以是影片链接，或者图片也行\n desc:'.xiaoshuo&&h5,-1&&Text;.xiaoshuo&&h5&&Text',//一般主演，地区，影片评分等描述\n content:'#intro&&Text',\n tabs:'body&&.caption',//线路\n //lists:'body&&.BGsectionThree-content,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n lists:'body&&.novel_list,-1&&dd'\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".read_title&&h1&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \".content&&Html\")\n    },\n    /*\n    链接:function(html){\n        //log('进了链接获取函数');\n        //log(MY_URL);\n        let host = MY_URL.match(/(.*)\\/\\/(.*?)\\//)[0];\n         if(pdfh(html,'#next_url&&Text').includes('下一页')){\n             let urls=[host+pdfh(html,'#next_url&&href')]; \n             //log(urls);\n            return urls\n            }\n    }\n    */\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\nvar 指定ua=PC_UA;\nvar lazy=小说(定位);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.soshuwu.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"顶点.dr","author":"道长","version":3,"type":"read","url":"hiker://empty##https://www.top.la/shuku/daquan_default_0_0_0_0_0_0_fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"body&&.writer_i_4;.writer_name1&&a&&Text;img&&src;.writer_name1&&span&&Text;a&&href;.writer_name3&&Text\";\nvar page = MY_PAGE;\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(page>1){\n    true_url=true_url.replace(/(\\d+)\\.html/,page+'.html');\n}\n//log(true_url);\n//var 关闭折叠=true;\nvar html=获取源码(true_url,PC_UA,'','',{\n    \"content-type\": \"charset=gb18030\"\n});\nlet cates=打造动态分类([{\n        一级分类: 'body&&.sr_list',\n        子分类: 'dd&&a:not(:matches(^$))',\n        \n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nvar key=MY_URL.match(/searchkey=(.*?)&/)[1]\n;\nlet enkey=gbk编码(key);\n//log(enkey);\nMY_URL=MY_URL.replace(key,enkey);\n//log(MY_URL);\nvar html=fetch(MY_URL,{\n    headers:{\n      \"content-type\": \"charset=gb18030\",\n      \"User-Agent\":PC_UA,\n    },\n    withHeaders:true\n});\nvar res=JSON.parse(html);\nlet url=res.url;\nif(url==MY_URL){\nhtml=res.body;\nlet parStr=\".grid&&tr:gt(0);body&&Html;;body&&Html;body&&Html;body&&Html\";\nvar 一级处理={\n    链接:function(u){\n       u=u.replace(/td/g,'div');\n       return pd(u,'a,0&&href')\n    },\n    标题:function(u){\n        return pdfh(u,'a,0&&Text')\n    },\n    描述:function(u){\n        return pdfh(u,'a,1&&Text')\n    },\n    内容:function(u){\n        return pdfh(u,'body&&Text')\n    }\n    \n}\n一级(parStr,true,false,false,html);\n}else{\n    setResult([{\n        title:key,\n        url:'hiker://empty##'+url+'#immersiveTheme#',\n        content:'仅有一个结果，点击立即阅读'\n    }]);\n}","search_url":"hiker://empty##https://www.top.la/modules/article/search.php?searchtype=articlename&searchkey=**&page=fypage","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.jieshao&&h1&&Text;.msg&&em&&Text;.msg&&em,1&&Text',//图片右侧的文字，可以是影片名，主演等\nimg:'.jieshao&&img&&src',//图片\nurl:'.jieshao&&img&&src',//可以是影片链接，或者图片也行\n desc:'.msg&&em,2&&Text;.msg&&em,3&&Text',//一般主演，地区，影片评分等描述\n content:'.intro&&Text',\n tabs:'.mulu&&ul',//线路\n 线路处理:function(u){\n     return '在线阅读'\n },\n //lists:'body&&.BGsectionThree-content,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n lists:'.mulu&&ul,#id&&li:has(a[href])',\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".novel&&h1&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \".yd_text2&&Html\")\n    },\n};\nvar 编码='gb18030';\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\nvar 指定ua=PC_UA;\nvar lazy=小说(定位);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.top.la/qqtxt/css/images/logo.gif"},{"last_chapter_rule":"","pageList":[],"title":"七界小说.dr","author":"道长","version":1,"type":"read","url":"hiker://empty##https://www.7jie.com/shuku/0_0_0_fypage.html","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".novelslist2&&dl;h3&&a&&Text;img&&src;.book_other&&Text;a&&href;.book_des&&Text\";\nvar page = MY_PAGE;\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(page>1){\n    true_url=true_url.replace(/(\\d+)\\.html/,page+'.html');\n}\n//log(true_url);\n//var 关闭折叠=true;\nvar html=获取源码(true_url,PC_UA);\nlet cates=打造动态分类([{\n        一级分类: '.filter&&ul&&li',\n        子分类: 'li&&a:not(:matches(^$))',\n        \n    }]);\n设置(cates);\nvar 一级处理={\n    链接:function(u){\n        return u.replace(/(\\d+)\\.html/,'$1/').replace('novel','read')\n    }\n}\n一级(parStr,true,cates,false,html);","searchFind":"js:\n//搜索翻页有问题，暂时没法解决\nrequire(config.模板);\nMY_URL=MY_URL.split(\"##\")[1];\n//log(MY_URL);\n//let pars=MY_URL.split(\"?\")[1];\nlet pars=MY_URL.split(\"?\")[1];\n//log(MY_URL);\nlet html=post(MY_URL.split(\"?\")[0],{\n    body:pars,\n    headers:{\n        \"User-Agent\":PC_UA,\n        //\"Cookie\":getMyVar(\"cookie\")\n    },\n   // withHeaders:true\n});\nparStr=\"#sitembox&&dl;h3&&a&&Text;img&&src;.book_other,-1&&span&&Text;a&&href;.book_other&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.7jie.com/search.html?searchtype=all&searchkey=**&page=fypage","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'#info&&h1&&Text;#info&&p&&Text;#info&&p,1&&Text',//图片右侧的文字，可以是影片名，主演等\n// img:'.cover&&img&&src',//图片\n// url:'.cover&&img&&src',//可以是影片链接，或者图片也行\n desc:'#info&&p,2&&Text;#info&&p,3&&Text',//一般主演，地区，影片评分等描述\n content:'.intro&&p&&Text',\n tabs:'body&&em',//线路\n tab_id:'body&&#list',//线路id，可不填,\n 线路处理:function(u){\n     return '道长在线'\n },\n lists:function(u){\n     u=pdfh(u,'#list&&Html').split('</b>')[1].split('</dt>')[1];\n     let lis=pdfa(u,'body&&a');\n     return lis\n }\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".bookname&&h1&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#content&&Html\")\n    },\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\nvar 指定ua=PC_UA;\nvar lazy=小说(定位);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://www.7jie.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"乐文.dr","author":"道长","version":1,"type":"read","url":"hiker://empty##https://www.lwread.org/category/0/fypage.html","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".CGsectionTwo-right-content&&.CGsectionTwo-right-content-unit;p&&a&&Text;img&&src;p,1&&Text;a&&href\";\nvar page = MY_PAGE;\ntrue_url = getMyVar('header.url', MY_URL);\nif(page>1&&!/(\\d+)\\.html/.test(true_url)){\n    true_url=true_url+page+'.html'\n}\n//log(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.CGsectionTwo-left',\n        子分类: 'body&&a:not(:matches(^$))',\n        \n    },{\n        一级分类: '.CGsectionOne&&ul',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split(\"##\")[1];\n//let pars=MY_URL.split(\"?\")[1];\nlet html=获取源码(MY_URL,PC_UA);\nparStr=\".SHsectionThree-middle&&p;a,1&&Text;;a,-1&&Text;a,1&&href\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.lwread.org/search/**/fypage","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.BGsectionOne-top-right&&p&&Text;p.author&&Text',//图片右侧的文字，可以是影片名，主演等\n img:'.BGsectionOne-top-left&&img&&src',//图片\n url:'.BGsectionOne-top-left&&img&&src',//可以是影片链接，或者图片也行\n desc:'p.category&&Text;p.time&&Text;p.newestChapter&&Text',//一般主演，地区，影片评分等描述\n content:'.BGsectionTwo-bottom&&p&&Text',\n tabs:'body&&.newestChapter',//线路\n //lists:'body&&.BGsectionThree-content,#id&&li',//列表\n tab_id:'',//线路id，可不填,\n lists:function(u){\n     MY_URL=MY_URL.replace('hiker://empty##','').split('#')[0];\n     let url=pd(u,'a:matches(章节目录)&&href');\n     //log(url);\n     let html=fetch(url);\n     let pages=pdfh(html,'.BCsectionTwo-bottom&&p,-1&&Text').match(/(\\d+)页/)[1];\n     //log(pages);\n     let htmlUrl=[];\n     for(let j=1;j<=parseInt(pages);j++){\n     htmlUrl.push({\n                url: url+j+'.html',\n                options: {\n                    headers: {\n                        \"content-type\": \"charset=utf-8\"\n                    }\n                }\n            });\n     }\n     html=batchFetch(htmlUrl.slice(0,32));\n     let d=[];\n     for(let i in html){\n         let it=html[i];\n         let lis=pdfa(it,'.BCsectionTwo&&li')\n         //log(lis.length);\n         d=d.concat(lis);\n     }\n     return d\n }\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \"#chapterTitle&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        eval(getCryptoJS());\n        //require('https://www.lwread.org/assets/js/cryptojs.min.js');\n        function d(a, b) {\n            \n            b = CryptoJS.MD5(b).toString();\n            var d = CryptoJS.enc.Utf8.parse(b.substring(0, 16));\n            var e = CryptoJS.enc.Utf8.parse(b.substring(16));\n            return CryptoJS.AES.decrypt(a, e, { iv: d, padding: CryptoJS.pad.Pkcs7 }).toString(CryptoJS.enc.Utf8)\n        }\n        let code=html.split(\"$('#C0NTENT').html(\")[1].split(\");\")[0];\n        //log(code);\n       eval('var cc='+code);\n       //log(cc);\n        return cc;\n    },\n    链接:function(html){\n        //log('进了链接获取函数');\n        //log(MY_URL);\n        let host = MY_URL.match(/(.*)\\/\\/(.*?)\\//)[0];\n         if(pdfh(html,'.RBGsectionTwo&&li,-1&&Text')==='下一页'){\n             let urls=[host+pdfh(html,'.RBGsectionTwo&&li,-1&&a&&href')]; \n             //log(urls);\n            return urls\n            \n            }\n    }\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\nvar lazy=小说(定位);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"require('https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/预处理.js')","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/more/173.png"},{"last_chapter_rule":"","pageList":[],"title":"飞瓜.dr","author":"道长","version":10,"type":"video","url":"hiker://empty##https://video-api.czjsbo.com/videolibrary/v2/1/28/-1/-1/2/-1/-1/-1/fypage.json","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\nlet host = MY_HOME;\nlet cate_url = 'http://video-static.czjsbo.com/static/1/config/lib-new.json';\nvar cate_data = JSON.parse(request(cate_url)).data;\nvar d = [];\nvar page = MY_PAGE;\n//var html=getResCode();\nMY_URL = MY_URL.split('##')[1];\n//var pageSize=MY_URL.match(/pageSize=(\\d+)/)[1];\ntrue_url = getMyVar('header.url', MY_URL);\nif (page > 1) {\n    true_url = true_url.replace(/(\\d+)\\.json/, page + '.json');\n}\n//log(true_url);\n//var html=request(true_url);\nlet html = fetch(true_url, {\n    headers: {\n        versionnumber: '360',\n        versionname: '3.6.0',\n        device: 'c5e72f6ad591a24ebd6c33162d8a3c1a',\n        appid: '3',\n        platformid: '7',\n        'User-Agent': 'okhttp/3.14.7',\n    }\n});\n//log(html)\nlet data = JSON.parse(html).data.list;\nvar listdata = data.map((it) => {\n    return {\n        title: it.vodName,\n        pic_url: host + it.vodPicThumb,\n        //pic_url:host+it.vodPic,\n        desc: it.lastName,\n        url: 'hiker://empty##' + host + '/static/video/detail/' + it.id + '.json#immersiveTheme#'\n        //url: 'hiker://empty##' + host + '/api/v1/hisotryDetail?vodId=' + it.id + '#immersiveTheme#'\n    }\n\n});\n//let turl='https://video-api.czjsbo.com/videolibrary/v2/1/fyclass/fyarea/fytype/2/-1/fyyear/-1/'+page+'.json?pageSize='+pageSize;\nlet fyclass = true_url.match(/v2\\/(.*?)\\/(.*?)\\//)[2];\n//log(fyclass);\nvar sec = [];\nvar thi = [];\nif (fyclass == '28') {\n    sec = cate_data.types[0].children;\n    thi = cate_data.types[0].tags;\n} else if (fyclass == '60') {\n    sec = cate_data.types[1].children;\n    thi = cate_data.types[1].tags;\n} else if (fyclass == '34') {\n    sec = cate_data.types[2].children;\n    thi = cate_data.types[2].tags;\n} else if (fyclass == '33') {\n    sec = cate_data.types[3].children;\n    thi = cate_data.types[3].tags;\n}\n\nlet cates = 打造动态分类([{\n        一级分类: '@js:' + $.toString((fisrtCate) => {\n            return [cate_data]\n        }, cate_data),\n        子分类: '@js:' + $.toString(() => {\n            let ret = input.types;\n            /*\n            ret.unshift({\n                typeName:'全部',\n                typeId:-1\n            });\n            */\n            return ret\n        }),\n        分类标题: '@js:' + $.toString(() => {\n            return input.typeName\n        }),\n        分类链接: '@js:' + $.toString((MY_URL) => {\n            return MY_URL.replace(/v2\\/(.*?)\\/(.*?)\\//, 'v2/$1/' + input.typeId + '/');\n        }, MY_URL),\n    },\n    {\n        一级分类: '@js:' + $.toString((fisrtCate) => {\n            return [sec]\n        }, sec),\n        子分类: '@js:' + $.toString(() => {\n            input.unshift({\n                typeName: '全部',\n                typeId: -1\n            });\n            return input\n        }),\n        分类标题: '@js:' + $.toString(() => {\n            return input.typeName\n        }),\n        分类链接: '@js:' + $.toString((true_url) => {\n            true_url = true_url.replace(/v2\\/(.*?)\\/(.*?)\\/(.*?)\\//, 'v2/$1/$2/' + input.typeId + '/');\n            return true_url\n        }, true_url),\n    },\n    {\n        一级分类: '@js:' + $.toString((fisrtCate) => {\n            return [thi]\n        }, thi),\n        子分类: '@js:' + $.toString(() => {\n            input.unshift({\n                typeName: '全部',\n                typeId: -1\n            });\n            return input\n        }),\n        分类标题: '@js:' + $.toString(() => {\n            return input.typeName\n        }),\n        分类链接: '@js:' + $.toString((true_url) => {\n            true_url = true_url.replace(/v2\\/(.*?)\\/(.*?)\\/(.*?)\\/(.*?)\\//, 'v2/$1/$2/$3/' + input.typeId + '/');\n            return true_url\n        }, true_url),\n    },\n    {\n        一级分类: '@js:' + $.toString((cate_data) => {\n            return [cate_data]\n        }, cate_data),\n        子分类: '@js:' + $.toString(() => {\n            //log(input);\n            input = input.year;\n            input.unshift('-1');\n            return input\n        }),\n        分类标题: '@js:' + $.toString(() => {\n            return input.replace('-1', '全部')\n        }),\n        分类链接: '@js:' + $.toString((true_url) => {\n            true_url = true_url.replace(/v2\\/(.*?)\\/(.*?)\\/(.*?)\\/(.*?)\\/(.*?)\\/(.*?)\\/(.*?)\\//, 'v2/$1/$2/$3/$4/$5/$6/' + input + '/');\n            return true_url\n            //return turl.replace('fyyear',input)\n        }, true_url),\n    }\n]);\n设置(cates);\nd = d.concat(cates);\nd = d.concat(listdata);\nsetResult(d)","searchFind":"js:\n//log(MY_URL)\nMY_URL = MY_URL.split('##');\nlet seaword = MY_URL[1];\nlet page = MY_PAGE;\nlet html = fetch(\"https://video-api.czjsbo.com/api/v2/index/search?pageIndex=\"+page+\"&wd=\"+seaword+\"&limit=20&type=2\", {\n    headers: {\n        versionnumber: '360',\n        versionname: '3.6.0',\n        device: 'c5e72f6ad591a24ebd6c33162d8a3c1a',\n        appid: '5',\n        platformid: '7',\n        'User-Agent': 'okhttp/3.14.7',\n    }\n});\n//let html=getResCode();\n//log(html)\nlet host=\"https://video-api.czjsbo.com\";\nvar d=[];\nlet data=JSON.parse(html).data.list;\ndata=data.map((it)=>{\n    return {\n        title:it.vodName,\n        pic_url:host+it.vodPicThumb,\n        //pic_url:host+it.vodPic,\n        desc:it.lastName,\n        content:it.vodActor,\n        url: 'hiker://empty##' + host + '/static/video/detail/' + it.id + '.json#immersiveTheme#'\n        //url:'hiker://empty##'+host+'/api/v1/hisotryDetail?vodId='+it.id+'#immersiveTheme#'\n    }\n    \n});\nd=d.concat(data);\nsetResult(d)","search_url":"hiker://empty##**##fypage","group":"#️⃣道长dr","detail_col_type":"text_5","detail_find_rule":"js:\nMY_URL = MY_URL.split('##')[1];\n//log(MY_URL);\nrequire(config.模板);\nlet host = MY_HOME;\naddListener(\"onClose\", $.toString(() => {\n    let s = loadJavaClass(\"hiker://files/cache/bidi.dex\", \"com.rule.M3U8HttpServer\");\n    //s.getM3U8Server(20000);\n    s.finish();\n}))\n// 弹幕链接：https://video-api.czjsbo.com/api/v1/bulletchat?startProgress=0&endProgress=300&videoId=41289&setnumberIndex=0\n/*\nlet html = fetch(MY_URL, {\n    headers: {\n        versionnumber: '360',\n        versionname: '3.6.0',\n        device: 'c5e72f6ad591a24ebd6c33162d8a3c1a',\n        appid: '5',\n        platformid: '7',\n        'User-Agent': 'okhttp/3.14.7',\n    }\n});\n//log(html);\nlet data = JSON.parse(html);\ntry {\n    vod_id = data.data.vodId;\n} catch (e) {\n    //log(MY_URL);\n    vod_id = MY_URL.match(/vodId=(\\d+)/)[1];\n}\n*/\n\nvar vod_id = MY_URL.match(/(\\d+)/)[1];\nlet url = 'http://video-static.czjsbo.com/static/video/detail/' + vod_id + '.json';\nlet detail = JSON.parse(request(url)).data;\n//log(detail);\nvar d = [];\nd.push({\n    title: detail.vodName + '\\n' + detail.vodUpdateTip + '\\n' + detail.typeName,\n    desc: detail.vodPubdate + '\\n' + detail.vodYear + '\\n' + detail.vodArea,\n    url: host + detail.vodPic,\n    pic_url: host + detail.vodPic,\n    col_type: 'movie_1_vertical_pic_blur',\n});\n\ntry {\n    var info = detail.vodBlurb;\n} catch (e) {\n    var info = '暂无简介'\n}\nd.push({\n    title: color(\"剧情简介\", \"#098AC1\"),\n    desc: small(info),\n    col_type: \"text_1\",\n    extra: {\n        lineVisible: false\n    },\n    url: $('hiker://empty#noHistory##noRecordHistory#').rule((info) => {\n        let d = [];\n        d.push({\n            title: info,\n            col_type: \"long_text\"\n        });\n        setResult(d);\n    }, info)\n});\nif (detail.videoRoles) {\n    d.push({\n        title: '‘‘演员’’',\n        url: $('#noLoading#').lazyRule(() => {\n            if (getMyVar('折叠', '开') == '开') {\n                putMyVar('折叠', '关');\n            } else {\n                putMyVar('折叠', '开');\n            }\n            refreshPage(true);\n            return 'toast://已切换折叠为:' + getMyVar('折叠', '开')\n        }),\n        col_type: 'text_center_1'\n    })\n    if (getMyVar('折叠', '关') == '开') {\n\n        for (var i = 0; i < detail.videoRoles.length; i++) {\n            d.push({\n                title: detail.videoRoles[i].actorName,\n                img: 'https://video-api.czjsbo.com' + detail.videoRoles[i].pic,\n                col_type: 'icon_round_small_4'\n            });\n        }\n\n    }\n    d.push({\n        col_type: 'line'\n    })\n}\n\nlet vodPlayUrl = detail.vodPlayUrl;\nlet vodPlayNote = detail.vodPlayNote;\n\n//log(vodPlayUrl);\n\nif (vodPlayUrl.length >= 16) {\n    let s1 = vodPlayUrl.substring(0, 10);\n    let s2 = vodPlayUrl.substring(16);\n    vodPlayUrl = s1 + s2;\n}\nlet key = \"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3VLHgbkFN0ebMaR4e0Dz6Z2mFexPBFKGqK0tuRhzu7XOrG92nKWfnublf2p1i22UN81whBLINjMttOuqW6fM9DCnAPTelud1zCXWYWIsv5Z19inJSG8vytJ7xg1dnfuRSRUkx11IE7bm0T/sM0sI4GgcktQJNSizyirHtuJjUUxxQabEhFkFeqQ5r+A69KjB5QkotCc4pG5lENyTARHGSsfaiJthaiH0yJ/8tUlyMgJ9H6/jbQg0wlLcEUzdfe2KuCPrTRzIzx4Cjm1JogT6JV2byvXpzAMC3O48LDiekJdVztg2Cj7E0cGrOsGs+IK6F7TWsKD/cIELTFhLz6dExQIDAQAB\";\n\nfunction rsa(text) {\n    return rsaDecrypt(text, key, {\n        type: 2,\n        \"long\": 2\n    })\n}\nvodPlayUrl = rsa(vodPlayUrl);\n//log(vodPlayUrl);\nvar tabs = JSON.parse(vodPlayUrl);\nvar urls = tabs[0].list;\nlet showOrder = getMyVar('顺序', '正续') === '逆序' ? color('(☆逆序↑)', '#228be6') : color('(★正序↓)', '#d0aa344');\nd.push({\n    title: small(color('选集列表共计', '#098AC1') + color(tabs.length, '#d96715') + color('条线路', '#098AC1')) + blank() + right(small(showOrder)),\n    col_type: 'text_1',\n    url: $('#noLoading#').lazyRule(() => {\n        if (getMyVar('顺序', '正续') === '逆序') {\n            putMyVar('顺序', '正续');\n        } else {\n            putMyVar('顺序', '逆序');\n        }\n        refreshPage(true);\n        return 'toast://已切换顺序为:' + getMyVar('顺序', '正续')\n    }),\n    extra: {\n        lineVisible: false\n    }\n});\n\nd.push({\n    title: detail.vodDownServerGroup,\n    url: 'hiker://empty',\n    col_type: \"scroll_button\",\n});\nif (getMyVar('顺序', '正续') === '逆序') {\n    urls = urls.reverse();\n}\n//log(urls)\nurls.forEach((it, index) => {\n    d.push({\n        // title:html,\n        //title: vodPlayUrl,\n        title: it.name,\n        //col_type: 'rich_text',\n        //col_type:'text_5'\n        url: $().lazyRule((u, vod_id, index) => {\n            \n            function gg(str) {\n                if (str.startsWith(\"http://\")) {\n                    return str.substring(0, str.substring(7).indexOf(\"/\") + 7);\n                }\n                return str.startsWith(\"https://\") ? str.substring(0, str.substring(8).indexOf(\"/\") + 8) : \"\";\n            }\n\n            function gg2(str) {\n                let a1 = gg(str);\n                //log(str);\n                //log(a1);\n                let substring = str.substring(a1.length);\n                //j.d(substring, \"(this as java.lang.String).substring(startIndex)\");\n                let valueOf = \"\" + new Date().getTime();\n                let key = md5(substring + \"3d2dc52ee3\" + valueOf);\n                return str + \"?key=\" + key + \"&time=\" + valueOf + \"&v=360&i=3&ed=bfab22f0e8bc621a06d736559a00f2251656546815843&p=7\";\n            }\n            let url = cacheM3u8(gg2(u));\n            let f = url.split(\"##\")[0];\n            let c = fetch(f);\n            let cs = c.split(\"\\n\");\n            for (let i in cs) {\n                if (cs[i].startsWith(\"#EXT-X-KEY:\")) {\n                    //log(cs[i])\n                    let kurl = cs[i].match(/URI=\"(.*?)\"/)[1];\n                    let keurl = gg2(kurl);\n                    //log(request(keurl))                    \n                    cs[i] = cs[i].replace(/\".*?\",/, '\"' + keurl + '\",');\n                    //log(cs[i])\n\n                }\n                if (cs[i].startsWith(\"http\")) {\n                    cs[i] = gg2(cs[i]);\n                }\n            }\n            //log(cs)            \n            writeFile(f, cs.join(\"\\n\"));\n            let header = ';{Referer@video7.douquwuxian.com&&User-Agent@okhttp/p2p-1.6/normal}';\n            return f + \"##\" + url.split(\"##\")[1] + header;\n            \n            /*           \n            //log(u)            \n            let dmurl = 'https://video-api.czjsbo.com/api/v1/bulletchat?startProgress=0&endProgress=300&videoId=' + vod_id + '&setnumberIndex=' + index;\n            let dm = JSON.parse(request(dmurl)).data;\n            var dms = [];\n            for (var it of dm) {\n                dms.push({\n                    'text': it.content,\n                    'time': it.progress\n                });\n            }\n            writeFile('hiker://files/cache/fgdm.json', JSON.stringify(dms, ''));\n            let s = loadJavaClass(\"hiker://files/cache/bidi.dex\", \"com.rule.M3U8HttpServer\");\n            s.getM3U8Server(20000);\n            var playurl = s.getInputStreamUrl(u, null, \"fg\") + \"\";\n            return JSON.stringify({\n                urls: [playurl],\n                names: ['飞瓜'],\n                danmu: 'hiker://files/cache/fgdm.json'\n            });           \n            */\n        }, it.url, vod_id, index),\n    });\n})\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\ntry {\n    requireDownload('https://nick88.coding.net/p/moveres/d/res/git/raw/master/bidi.dex', 'hiker://files/cache/bidi.dex');\n} catch (e) {\n    log('预处理下载dex执行失败:' + e.message);\n}","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","pageList":[],"title":"文学大全.dr","author":"道长","version":3,"type":"read","url":"hiker://empty##https://www.wenxue55.com/list/6/fypage.html","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\"table&&tr:gt(0);td&&Text;;td,2&&Text;a&&href;td,-2&&Text\";\nvar page = MY_PAGE;\n//true_url = 获取正确链接();\ntrue_url = getMyVar('header.url', MY_URL);\nif(page>1){\n    true_url=true_url.replace(/(\\d+)\\.html/,'$1/'+page+'.html');\n}\n//log(true_url);\nvar 关闭折叠=true;\nvar html=获取源码(true_url,PC_UA,'','',{\n    \"content-type\": \"charset=gb18030\"\n});\nlet cates=打造动态分类([{\n        一级分类: '#nav-header&&ul:matches(其他分类)',\n        子分类: 'body&&a:not(:matches(^$|其他分类))',\n        \n    }]);\n设置(cates);\nvar 一级处理={\n    链接:function(u){\n        return u.replace(/(\\d+)\\.html/,'$1/').replace('novel','read')\n    }\n}\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nvar key=MY_URL.match(/searchkey=(.*?)&/)[1]\n;\nlet enkey=gbk编码(key);\n//log(enkey);\nMY_URL=MY_URL.replace(key,enkey);\n//log(MY_URL);\nvar html=fetch(MY_URL,{\n    headers:{\n      \"content-type\": \"charset=gb18030\",\n      \"User-Agent\":PC_UA,\n    },\n    withHeaders:true\n});\nvar res=JSON.parse(html);\nlet url=res.url;\nif(url==MY_URL){\nhtml=res.body;\nlet parStr=\".mySearch&&ul:matches(大小);li&&a&&Text;;li,2&&Text;a&&href;li,-2&&Text\";\n一级(parStr,true,false,false,html);\n}else{\n    setResult([{\n        title:key,\n        url:'hiker://empty##'+url+'#immersiveTheme#',\n        content:'仅有一个结果，点击立即阅读'\n    }]);\n}","search_url":"hiker://empty##https://www.wenxue55.com/modules/article/search.php?searchkey=**&page=fypage","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.bookTitle&&Text;.booktag&&Text;.visible-xs&&Text',//图片右侧的文字，可以是影片名，主演等\nimg:'.img-thumbnail&&src',//图片\nurl:'.img-thumbnail&&src',//可以是影片链接，或者图片也行\n desc:'.col-md-10&&p,1&&Text',//一般主演，地区，影片评分等描述\n content:'#bookIntro&&p&&Text',\ntabs:'body&&.panel-heading:has(strong)',//线路\n tab_id:'',//线路id，可不填,\n /*\n 线路处理:function(u){\n     return '道长在线'\n },\n */\n lists:'body&&.panel-chapterlist,#id&&dd'\n};\nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".readTitle&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#htmlContent&&Html\")\n    },\n};\nvar 编码='gb18030';\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 下载='小说';\nvar 指定ua=PC_UA;\nvar lazy=小说(定位);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/more/133.png"},{"last_chapter_rule":"","pageList":[],"title":"京东","author":"道长","version":1,"type":"other","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"网页","year_url":"","find_rule":"js:\n/** 无需下载APP，点返回即可。*/\n\nvar js=$.toString(()=>{\n    eval(fba.getInternalJs());\n    function getJdCk(ck){//获取京东cookie\r\n    // m.jd.com 登录后取gif上面的cookie. 服务器里 docker-compose up -d\r\n    document = typeof(document)!=='undefined'?document:{};\r\n    ck = ck||document.cookie;\r\n    let obj = ck.split(';').map(it=>{return {key:it.split('=')[0].trim(),value:it.split('=')[1].trim()}});\r\n    obj = obj.filter(it=> ['pt_pin','pt_key'].includes(it.key));\r\n    obj=obj.map(it=>it.key+'='+it.value);\r\n    return obj.join(';')\r\n}\n  var ck=getJdCk();\n  if(location.href.includes('wqs.jd.com')){\n      //alert('在分类页');\n      //location.href='https://wq.jd.com/mcoss/datash/get?func=item_rec&recpos=6163&param=%7B%22pagenum%22%3A1%2C%22pagecount%22%3A20%2C%22startpos%22%3A0%2C%22ptag%22%3A%22%22%2C%22sku%22%3A%22%22%2C%22cid1%22%3A%22%22%2C%22cid2%22%3A%22%22%2C%22cid3%22%3A%22%22%7D&clientVersion=2.0&_=1646875037527&callback=Zepto1646875037351';\n      \n  }\n  //fba.log(document.cookie);\n  //fba.log(location.href);\n  //fba.log('京东cookie:'+ck);\n});\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"https://m.jd.com\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true,\n        js:js,\n        ua:MOBILE_UA\n    }\n}])","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"http://img11.360buyimg.com/jdphoto/s80x80_jfs/t27847/91/107794072/6854/14716732/5b850ecaN644d2983.png"},{"last_chapter_rule":"","pageList":[],"title":"av.dm","author":"道长","version":4,"type":"video","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"向上滑动即可播放","class_url":"资源加载可能比较慢","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小姐姐","year_url":"","find_rule":"js:\n\n/** 无需下载APP，点返回即可。*/\nrequire(config.模板);\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"https://fikfap.com/\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true,\n        js:注入()\n    }\n}])","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/08/72.png"},{"last_chapter_rule":"","pageList":[],"title":"道长壁纸","author":"道长","version":3,"type":"picture","url":"hiker://empty##fyarea/home.txt#mode=fyclass","col_type":"pic_2_card","class_name":"查看&复制地址","class_url":"read&copy","area_name":"美女&阅读背景&仓库","area_url":"meinv&yuedu&house","sort_name":"","year_name":"","sort_url":"图片","year_url":"","find_rule":"js:\n//log(MY_URL);\nMY_URL='https://gitcode.net/qq_32394351/dr/-/raw/master/img/'+MY_URL.split('##')[1];\nvar mode=MY_URL.split('mode=')[1];\n//log(mode);\nlet html=request(MY_URL).trim();\nlet pics=html.split('\\n').map((it)=>{\n    let name=it.split(',')[0].trim();\n    let pic_url=it.split(',')[1].trim();\n    let url=pic_url;\n    if(mode=='read'){\n        url=pic_url;\n    }else if(mode=='copy'){\n        url=$('#noLoading#').lazyRule((url)=>{\n           // copy(url);\n            return 'copy://'+url\n        },url);\n    }\n    return {\n        title:name,\n        pic_url:pic_url,\n        url:url\n    }\n});\nvar d=pics;\n\nsetResult(d)","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://gitcode.net/qq_32394351/dr/-/raw/master/img/道长壁纸.png"},{"last_chapter_rule":"","pageList":[],"title":"V6解密","author":"小棉袄","version":4,"type":"tool","url":"hiker://empty#mode=fyclass","col_type":"movie_3_marquee","class_name":"代码&链接","class_url":"code&url","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"工具","year_url":"","find_rule":"js:\nfunction submit(step) {\n    return $.toString((step) => {\n        if (input == '') return 'toast://输入为空，请检查!'\n        var mode=MY_URL.split('mode=')[1];\n        var code=(mode=='url'&&/^http/.test(input.trim()))?request(input):input;\n        let res = fetch(base64Decode(\"aHR0cHM6Ly9nYXRzYnktbmluZS1ibHVzaC52ZXJjZWwuYXBwL2FwaS92Ng==\"), {\n            body: {\n                code: code\n            },\n        });\n        log(res);\n        putVar('decode-text', res);\n        refreshPage();\n        return 'toast://解密成功';\n    }, step);\n}\n\n\nlet d = []\nd.push({\n    title: \"解混淆\",\n    desc: \"请输入jiami.com.v6的密文\",\n    col_type: 'input',\n    extra: {\n        // titleVisible: false,\n        defaultValue: getVar(\"encode-text\", \"\"),\n        type: \"textarea\",\n        onChange: 'putVar(\"encode-text\",input)'\n    },\n    url: submit(4),\n});\n\nd.push({\n    //title: \"解码\",\n    desc: \"结果输出\",\n    col_type: 'input',\n    extra: {\n        //height: -1,\n        height: 5,\n        titleVisible: false,\n        defaultValue: getVar(\"decode-text\", \"\"),\n        type: \"textarea\",\n        onChange: 'putVar(\"decode-text\",input)'\n    },\n\n});\n\nd.push({\n    title: '清空输入',\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\n    url: \"hiker://empty#noLoading#\" + \"@lazyRule=.js:putVar('encode-text', '');refreshPage();'toast://清空成功'\",\n    col_type: 'icon_2'\n});\n\nd.push({\n    title: '清空输出',\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\n    url: \"hiker://empty#noLoading#\" + \"@lazyRule=.js:putVar('decode-text', '');refreshPage();'toast://清空成功'\",\n    col_type: 'icon_2'\n});\n\nd.push({\n    title: '复制输入',\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\n    url: $(\"hiker://empty#noLoading#\").lazyRule(() => {\n        var dec = getVar(\"encode-text\");\n        if (dec) {\n            return \"copy://\" + dec;\n        } else {\n            return \"toast://内容为空！\"\n        }\n    }),\n    col_type: 'icon_2'\n});\n\nd.push({\n    title: '复制输出',\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\n    url: $(\"hiker://empty#noLoading#\").lazyRule(() => {\n        var enc = getVar(\"decode-text\");\n        if (enc) {\n            return \"copy://\" + enc;\n        } else {\n            return \"toast://内容为空！\"\n        }\n    }),\n    col_type: 'icon_2'\n});\n\nd.push({\n    title: '查看输出',\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\n    url: $(\"hiker://empty#noLoading#\").lazyRule(() => {\n        var enc = getVar(\"decode-text\");\n        var lspath='hiker://files/rules/dzHouse/js/V6/cache.js';\n        log(lspath);\n        writeFile(lspath,enc);\n        return 'editFile://'+lspath\n    }),\n    col_type: 'icon_2'\n});\n\nsetResult(d);","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"http://csstools.chinaz.com/tools/images/vipInfo.png"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"解析","path":"lazy","rule":"var lazy = $(\"\").lazyRule(() => {\n    //log(\"input:\"+input)\n    //eval(pdfh(request(input,{}),'.embead-responsive&&script&&Html'));\n    //let url = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url\n    //let playurl = decodeURIComponent(base64Decode(url));\n    var parses = \"https://1.m3u8.shop/m3u8.php?url=\";\n    function maoss(jxurl, ref, key) {\n        eval(getCryptoJS());\n        try {\n            var getVideoInfo = function(text) {\n                return CryptoJS.AES.decrypt(text, key, {\n                    iv: iv,\n                    padding: CryptoJS.pad.Pkcs7\n                }).toString(CryptoJS.enc.Utf8);\n            };\n            //log(getVideoInfo)\n            var token_key = key == undefined ? 'dvyYRQlnPRCMdQSe' : key;\n            if (ref) {\n                var html = request(jxurl, {\n                    headers: {\n                        'Referer': ref\n                    }\n                });\n            } else {\n                var html = request(jxurl);\n            }\n            if (html.indexOf('&btwaf=') != -1) {\n                html = request(jxurl + '&btwaf' + html.match(/&btwaf(.*?)\"/)[1], {\n                    headers: {\n                        'Referer': ref\n                    }\n                })\n            }\n            var token_iv = html.split('_token = \"')[1].split('\"')[0];\n            var key = CryptoJS.enc.Utf8.parse(token_key);\n            var iv = CryptoJS.enc.Utf8.parse(token_iv);\n            // log(\"iv:\"+iv);\n            //  log(html);\n            eval(html.match(/var config = {[\\s\\S]*?}/)[0] + '');\n            if (config.url.slice(0, 4) != 'http') {\n                //config.url = decodeURIComponent(AES(config.url, key, iv));\n                config.url = CryptoJS.AES.decrypt(config.url, key, {\n                    iv: iv,\n                    padding: CryptoJS.pad.Pkcs7\n                }).toString(CryptoJS.enc.Utf8)\n            }\n            //log(config.url)\n            return config.url+';{User-Agent@Mozilla/5.0&&Referer@https://www.juhaokan.cc/}';\n        } catch (e) {\n            return '';\n        }\n    }\n    return maoss(parses + input, \"https://www.juhaokan.cc/\", \"977D6DECA2E9C7E6\");\n\n})"}],"title":"剧好看.dr","author":"道长&爱佬","version":0,"type":"video","url":"hiker://empty##https://www.juhaokan.cc/vodtype/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\nlet parStr=\".myui-vodlist&&li;a&&title;a&&data-original;a&&Text;a&&href\";\nvar page = MY_URL.match(/(.*)-(.*?).html/)[2];\ntrue_url=获取正确链接();\nvar html=获取源码(true_url);\n//log(html);\nlet cates=打造动态分类([{\n  一级分类: '.dropdown-box&&.nav-list',\n        子分类: 'body&&li:not(:matches(首页))',\n},{\n        一级分类: 'body&&.myui-screen__list',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\nvar 一级处理={\n    描述:function(input){\n        return input.split(\"分\").slice(-1)[0]\n    }\n};\n一级(parStr,true,cates,false,html);","searchFind":"js:\n//MY_URL=MY_URL.split(\"##\")[1];\n//log(MY_URL);\nrequire(config.模板);\n//var html=fetch(MY_URL);\nvar html=fetch(MY_URL, {headers:{'Cookie':'searchneed=ok'},method:'GET'})\n//log(\"源码:\"+html);\n/*\nif(/搜索验证/.test(html)){\n    showLoading(\"验证码识别中，请稍等\");\n    let vcode=获取验证码('https://www.juhaokan.cc/verify/index.html');\n    let ret=提交验证码('https://www.juhaokan.cc/vodsearch/-------------.html?wd=%E6%88%91%E7%9A%84&submit='+vcode,false,false,{});\n    hideLoading();\n    if(/\"msg\"/.test(ret)&&/\"ok\"/.test(ret)){\n        html=获取源码(MY_URL);\n        if(/搜索时间间隔/.test(html)){\n            setResult([{\n                title:'搜索验证已自动跳过，等待3秒后下拉刷新',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n        }\n    }else{\n        setResult([{\n                title:'验证未通过，请尝试重新搜索',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n    }\n}\n*/\nlet parStr=\"#searchList&&li;.thumb&&a&&title;.thumb&&a&&data-original;.tag&&Text;.searchkey&&href;p.hidden-xs&&Text\";\n一级(parStr,true,null,null,html);","search_url":"https://www.juhaokan.cc/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: '.data&&Text;.data,1&&Text;#rating&&.branch&&Text',\n    img: '.myui-content__thumb&&a&&img&&data-original',\n    url: '.myui-content__thumb&&a&&href',\n    desc: '.data,2&&Text;.data,3&&Text',\n    content: '#desc&&span.data&&Text',\n    tabs: 'ul.nav-tabs&&li',\n    //lists:'.tab-content&&#id&&li',\n    lists: function(u) {\n        var d = [];\n        let playid = MY_URL.match(/(\\d+)/)[1];\n        //log(playid)\n        //let playurl = \"https://www.juhaokan.cc/api.php/provide/vod/?ac=detail&ids=\"+playid;\n        let playlist = JSON.parse(fetch(\"https://www.juhaokan.cc/api.php/provide/vod/?ac=detail&ids=\"+playid)).list[0].vod_play_url.split(\"#\");   \n        //log(playlist)\n        for (var i = 0; i < playlist.length; i++) {\n            var playtu = playlist[i].split(\"$\");\n            //log(playtu[0])\n            let listtu = \"<a href='\" + playtu[1] + \"'>\" + playtu[0] + \"</a>\";\n            d.push(listtu);\n        }\n        return d\n    },\n    tab_id: 'a&&href'\n};\neval(JSON.parse(request('hiker://page/lazy')).rule);\n//lazy=通免();\nvar 动态最新章节 = true;\nvar 倒序 = false;\n二级(parse, lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"var 验证码='https://www.juhaokan.cc/verify/index.html';\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[{\"col_type\":\"movie_3\",\"name\":\"解析\",\"path\":\"lazy\",\"rule\":\"var lazy = $(\\\"\\\").lazyRule(() => {\\n    //log(\\\"input:\\\"+input)\\n    //eval(pdfh(request(input,{}),'.embead-responsive&&script&&Html'));\\n    //let url = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url\\n    //let playurl = decodeURIComponent(base64Decode(url));\\n    var parses = \\\"https://1.m3u8.shop/m3u8.php?url=\\\";\\n    function maoss(jxurl, ref, key) {\\n        eval(getCryptoJS());\\n        try {\\n            var getVideoInfo = function(text) {\\n                return CryptoJS.AES.decrypt(text, key, {\\n                    iv: iv,\\n                    padding: CryptoJS.pad.Pkcs7\\n                }).toString(CryptoJS.enc.Utf8);\\n            };\\n            //log(getVideoInfo)\\n            var token_key = key == undefined ? 'dvyYRQlnPRCMdQSe' : key;\\n            if (ref) {\\n                var html = request(jxurl, {\\n                    headers: {\\n                        'Referer': ref\\n                    }\\n                });\\n            } else {\\n                var html = request(jxurl);\\n            }\\n            if (html.indexOf('&btwaf=') != -1) {\\n                html = request(jxurl + '&btwaf' + html.match(/&btwaf(.*?)\\\"/)[1], {\\n                    headers: {\\n                        'Referer': ref\\n                    }\\n                })\\n            }\\n            var token_iv = html.split('_token = \\\"')[1].split('\\\"')[0];\\n            var key = CryptoJS.enc.Utf8.parse(token_key);\\n            var iv = CryptoJS.enc.Utf8.parse(token_iv);\\n            // log(\\\"iv:\\\"+iv);\\n            //  log(html);\\n            eval(html.match(/var config = {[\\\\s\\\\S]*?}/)[0] + '');\\n            if (config.url.slice(0, 4) != 'http') {\\n                //config.url = decodeURIComponent(AES(config.url, key, iv));\\n                config.url = CryptoJS.AES.decrypt(config.url, key, {\\n                    iv: iv,\\n                    padding: CryptoJS.pad.Pkcs7\\n                }).toString(CryptoJS.enc.Utf8)\\n            }\\n            //log(config.url)\\n            return config.url+';{User-Agent@Mozilla/5.0&&Referer@https://www.juhaokan.cc/}';\\n        } catch (e) {\\n            return '';\\n        }\\n    }\\n    return maoss(parses + input, \\\"https://www.juhaokan.cc/\\\", \\\"977D6DECA2E9C7E6\\\");\\n\\n})\"}]","icon":"https://www.juhaokan.cc/template/mytheme/statics/img/favicon.ico"},{"firstHeader":"class","last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"解析","path":"lazy","rule":"var lazy = $('').lazyRule((v) => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    var playurl = decodeURIComponent(base64Decode(html.url));\n    log(playurl);\n    \n    function maoss(jxurl, ref, key) {\n        eval(getCryptoJS());\n        try {\n            var getVideoInfo = function(text) {\n                return CryptoJS.AES.decrypt(text, key, {\n                    iv: iv,\n                    padding: CryptoJS.pad.Pkcs7\n                }).toString(CryptoJS.enc.Utf8);\n            };\n            var token_key = key == undefined ? 'dvyYRQlnPRCMdQSe' : key;\n            if (ref) {\n                var html = request(jxurl, {\n                    headers: {\n                        'Referer': ref\n                    }\n                });\n            } else {\n                var html = request(jxurl);\n            }\n            if (html.indexOf('&btwaf=') != -1) {\n                html = request(jxurl + '&btwaf' + html.match(/&btwaf(.*?)\"/)[1], {\n                    headers: {\n                        'Referer': ref\n                    }\n                })\n            }\n            var token_iv = html.split('_token = \"')[1].split('\"')[0];\n            var key = CryptoJS.enc.Utf8.parse(token_key);\n            var iv = CryptoJS.enc.Utf8.parse(token_iv);\n            // log(\"iv:\"+iv);\n            //  log(html);\n            eval(html.match(/var config = {[\\s\\S]*?}/)[0] + '');\n            if (config.url.slice(0, 4) != 'http') {\n                //config.url = decodeURIComponent(AES(config.url, key, iv));\n                config.url = CryptoJS.AES.decrypt(config.url, key, {\n                    iv: iv,\n                    padding: CryptoJS.pad.Pkcs7\n                }).toString(CryptoJS.enc.Utf8)\n            }\n            return config.url;\n        } catch (e) {\n            return '';\n        }\n    }\n\n    function suoyo(vipUrl) {\n        var url = JSON.parse(fetch(\"https://bo.dd520.cc/xplay/api.php\", {\n            body: \"url=\" + vipUrl,\n            method: \"POST\"\n        })).url;\n        eval(getCryptoJS());\n        function getVideoInfo(data) {\n            var key = CryptoJS.MD5(\"rXjWvXl6\");\n            key = CryptoJS.enc.Utf8.parse(key);\n            var iv = CryptoJS.enc.Utf8.parse(\"NXbHoWJbpsEOin8b\");\n            var decrypted = CryptoJS.AES.decrypt(data, key, {\n                iv: iv,\n                mode: CryptoJS.mode.CBC,\n                padding: CryptoJS.pad.Pkcs7\n            });\n            return decrypted.toString(CryptoJS.enc.Utf8);\n        }\n        return getVideoInfo(url);\n    }\n    \n    if (/suoyo/.test(playurl)) {\n        return suoyo(playurl)\n    } else if (/\\.m3u8|\\.mp4/.test(playurl)) {\n        return cacheM3u8(playurl)\n    } else {\n        return maoss(\"https://player.suoyou.live/m3u8.php?url=\" + playurl, false, \"BFB93C60CB531D1F\")\n    }\n});"}],"title":"动漫星球.dr","author":"道长","version":1,"type":"video","url":"hiker://empty##https://www.dmxq.fun/vodshow/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"动漫","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nlet parStr=\".module-items&&.module-item;a&&title;.lazyloaded&&data-src;.module-item-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/\\/(.*)--------(.*?)---.html/)[2];\ntrue_url = 获取正确链接();\nlog(true_url)\nlet cates=打造动态分类([{\n        一级分类: 'body&&.library-box',\n        子分类: 'body&&a:not(:matches(下载专栏片库))'\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\"body&&.module-search-item;h3&&Text;.lazyload&&data-src;.video-info-header&&a&&Text;a&&href;.video-info-item,-1&&Text\";\n一级(parStr,true);","search_url":"https://www.dmxq.fun/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: '.video-info-aux&&Text;.video-info-items&&Text;.video-info-items,1&&Text',\n    img: '.lazyload&&data-src',\n    url: '.lazyload&&data-src',\n    desc: '.video-info-items,2&&Text;.video-info-items,3&&Text;.video-info-items,4&&Text',\n    content: '#main&&.video-info-content&&Text',\n    tabs: '.module-tab-content&&.module-tab-item',\n    lists: 'body&&.module-blocklist,#id&&a',\n    tab_id: '',\n};\neval(JSON.parse(request('hiker://page/lazy')).rule);\nvar 动态最新章节 = true;\nvar 倒序 = false;\n二级(parse, lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[{\"col_type\":\"movie_3\",\"name\":\"解析\",\"path\":\"lazy\",\"rule\":\"var lazy = $('').lazyRule((v) => {\\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\\n    var playurl = decodeURIComponent(base64Decode(html.url));\\n    log(playurl);\\n    \\n    function maoss(jxurl, ref, key) {\\n        eval(getCryptoJS());\\n        try {\\n            var getVideoInfo = function(text) {\\n                return CryptoJS.AES.decrypt(text, key, {\\n                    iv: iv,\\n                    padding: CryptoJS.pad.Pkcs7\\n                }).toString(CryptoJS.enc.Utf8);\\n            };\\n            var token_key = key == undefined ? 'dvyYRQlnPRCMdQSe' : key;\\n            if (ref) {\\n                var html = request(jxurl, {\\n                    headers: {\\n                        'Referer': ref\\n                    }\\n                });\\n            } else {\\n                var html = request(jxurl);\\n            }\\n            if (html.indexOf('&btwaf=') != -1) {\\n                html = request(jxurl + '&btwaf' + html.match(/&btwaf(.*?)\\\"/)[1], {\\n                    headers: {\\n                        'Referer': ref\\n                    }\\n                })\\n            }\\n            var token_iv = html.split('_token = \\\"')[1].split('\\\"')[0];\\n            var key = CryptoJS.enc.Utf8.parse(token_key);\\n            var iv = CryptoJS.enc.Utf8.parse(token_iv);\\n            // log(\\\"iv:\\\"+iv);\\n            //  log(html);\\n            eval(html.match(/var config = {[\\\\s\\\\S]*?}/)[0] + '');\\n            if (config.url.slice(0, 4) != 'http') {\\n                //config.url = decodeURIComponent(AES(config.url, key, iv));\\n                config.url = CryptoJS.AES.decrypt(config.url, key, {\\n                    iv: iv,\\n                    padding: CryptoJS.pad.Pkcs7\\n                }).toString(CryptoJS.enc.Utf8)\\n            }\\n            return config.url;\\n        } catch (e) {\\n            return '';\\n        }\\n    }\\n\\n    function suoyo(vipUrl) {\\n        var url = JSON.parse(fetch(\\\"https://bo.dd520.cc/xplay/api.php\\\", {\\n            body: \\\"url=\\\" + vipUrl,\\n            method: \\\"POST\\\"\\n        })).url;\\n        eval(getCryptoJS());\\n        function getVideoInfo(data) {\\n            var key = CryptoJS.MD5(\\\"rXjWvXl6\\\");\\n            key = CryptoJS.enc.Utf8.parse(key);\\n            var iv = CryptoJS.enc.Utf8.parse(\\\"NXbHoWJbpsEOin8b\\\");\\n            var decrypted = CryptoJS.AES.decrypt(data, key, {\\n                iv: iv,\\n                mode: CryptoJS.mode.CBC,\\n                padding: CryptoJS.pad.Pkcs7\\n            });\\n            return decrypted.toString(CryptoJS.enc.Utf8);\\n        }\\n        return getVideoInfo(url);\\n    }\\n    \\n    if (/suoyo/.test(playurl)) {\\n        return suoyo(playurl)\\n    } else if (/\\\\.m3u8|\\\\.mp4/.test(playurl)) {\\n        return cacheM3u8(playurl)\\n    } else {\\n        return maoss(\\\"https://player.suoyou.live/m3u8.php?url=\\\" + playurl, false, \\\"BFB93C60CB531D1F\\\")\\n    }\\n});\"}]","icon":"https://s.pc.qq.com/tousu/img/20210909/9507131_1631179945.jpg"},{"last_chapter_rule":"","pageList":[],"title":"批哩啪哩.dr","author":"道长&壹隅","version":1,"type":"video","url":"hiker://empty##http://pilipali.cc/vod/type/id/2/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr = \".video-film-list&&li;h2&&Text;._item-pic&&data-echo;.video-duration&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_PAGE;\nif(page>1){\n    if (!/page/.test(true_url)) {\n    true_url = true_url.replace(/\\.html/, '/page/' + page + '.html')\n} else {\n    true_url = true_url.replace('/page\\/(\\d+)\\.html/', 'page/' + page + '.html')\n}\n}\n//log(true_url);\nvar html=获取源码(true_url,MOBILE_UA);\n//log(html);\nvar cates = 打造动态分类([{\n    一级分类: '#header-nav&&ul',\n    子分类: 'body&&li:not(:matches(首页|vip视频解析))',\n    分类链接: {\n        二次处理(url) { \n        //log('分类链接:'+url);\n        //return url;\n        return url.replace(/type/, 'show')\n        }\n    }\n}, {\n    一级分类: '.box&&ul',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}, {\n    一级分类: '.list-order',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr, true, cates, false, html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\nvar html=获取源码(MY_URL,MOBILE_UA);\nlet parStr = \".detail-search&&.detail-wrap;a&&title;._item-pic&&data-echo;.desc&&li&&Text;a&&href;.ellipsis-2,-1&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##http://pilipali.cc/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.desc&&li&&Text;.desc&&li,1&&Text;.desc&&li,2&&Text',\n img:'.detail-cover&&data-echo',\n url:'.detail-cover&&data-echo',\n desc:'',\n content:'meta[name=description]&&content',\n tabs:'#playPathlist-1&&li',\n lists:'#tabs-container-1&&ul,#id&&li',\n tab_id:'',\n};\nvar lazy=$('').lazyRule((解析)=>{\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    var playurl = decodeURIComponent(base64Decode(html.url));\n    //log(playurl);\n    if(/\\.m3u8/.test(playurl)){\n        return 解析.是否视频(playurl)\n    }else{\n        return 解析.纯通免(input)\n    }\n},解析);\nvar 指定ua=MOBILE_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy,true);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/142.png"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"规则","path":"ruleGen","rule":"$.exports.rule={\"last_chapter_rule\":\"\",\"title\":\"奇飞\",\"author\":\"道长\",\"url\":\"hiker://empty##http://mkk.gotka.top/api.php/v1.vod#pg=fypage\",\"version\":1,\"col_type\":\"movie_3_marquee\",\"class_name\":\"\",\"type\":\"video\",\"class_url\":\"\",\"area_name\":\"\",\"area_url\":\"\",\"sort_name\":\"\",\"year_name\":\"\",\"sort_url\":\"影视\",\"year_url\":\"\",\"find_rule\":\"js:\\nrequire(config.模板);\\n一级();\",\"search_url\":\"hiker://empty##?wd=**&pg=fypage&ac=videolist\",\"group\":\"#️⃣道长资源\",\"searchFind\":\"js:\\nrequire(config.模板);\\n搜索一级();\",\"detail_col_type\":\"text_5\",\"detail_find_rule\":\"js:\\nrequire(config.模板);\\n二级();\",\"sdetail_col_type\":\"text_5\",\"sdetail_find_rule\":\"*\",\"ua\":\"mobile\",\"preRule\":\"var ua='$ua';\\nrequire('https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/资源网预处理.js');\",\"pages\":\"[]\",\"icon\":\"https://lanmeiguojiang.com/tubiao/ke/4.png\"}"}],"title":"CMS模板","author":"道长","version":10,"type":"tool","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"模板","year_url":"","find_rule":"js:\n//eval(JSON.parse(fetch('hiker://page/homeIndex')).rule);\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/cms.js');","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"规则\",\"path\":\"ruleGen\",\"rule\":\"$.exports.rule={\\\"last_chapter_rule\\\":\\\"\\\",\\\"title\\\":\\\"奇飞\\\",\\\"author\\\":\\\"道长\\\",\\\"url\\\":\\\"hiker://empty##http://mkk.gotka.top/api.php/v1.vod#pg=fypage\\\",\\\"version\\\":1,\\\"col_type\\\":\\\"movie_3_marquee\\\",\\\"class_name\\\":\\\"\\\",\\\"type\\\":\\\"video\\\",\\\"class_url\\\":\\\"\\\",\\\"area_name\\\":\\\"\\\",\\\"area_url\\\":\\\"\\\",\\\"sort_name\\\":\\\"\\\",\\\"year_name\\\":\\\"\\\",\\\"sort_url\\\":\\\"影视\\\",\\\"year_url\\\":\\\"\\\",\\\"find_rule\\\":\\\"js:\\\\nrequire(config.模板);\\\\n一级();\\\",\\\"search_url\\\":\\\"hiker://empty##?wd=**&pg=fypage&ac=videolist\\\",\\\"group\\\":\\\"#️⃣道长资源\\\",\\\"searchFind\\\":\\\"js:\\\\nrequire(config.模板);\\\\n搜索一级();\\\",\\\"detail_col_type\\\":\\\"text_5\\\",\\\"detail_find_rule\\\":\\\"js:\\\\nrequire(config.模板);\\\\n二级();\\\",\\\"sdetail_col_type\\\":\\\"text_5\\\",\\\"sdetail_find_rule\\\":\\\"*\\\",\\\"ua\\\":\\\"mobile\\\",\\\"preRule\\\":\\\"var ua='$ua';\\\\nrequire('https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/资源网预处理.js');\\\",\\\"pages\\\":\\\"[]\\\",\\\"icon\\\":\\\"https://lanmeiguojiang.com/tubiao/ke/4.png\\\"}\"}]","proxy":"https://hjdhnx.coding.net/p/hiker/d/dr/git/raw/master/js/=>https://gitcode.net/qq_32394351/dr/-/raw/master/js/","icon":"https://lanmeiguojiang.com/tubiao/more/328.png"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"规则","path":"ruleGen","rule":"$.exports.rule={\"firstHeader\":\"class\",\"last_chapter_rule\":\"\",\"title\":\"蓝莓影视B\",\"author\":\"道长\",\"url\":\"hiker://empty##https://lanmeiguojiang.com/ys\",\"version\":1,\"col_type\":\"movie_3_marquee\",\"class_name\":\"\",\"type\":\"video\",\"class_url\":\"\",\"area_name\":\"\",\"area_url\":\"\",\"sort_name\":\"\",\"year_name\":\"\",\"sort_url\":\"影视\",\"year_url\":\"\",\"find_rule\":\"js:\\nrequire(config.模板);\\n依赖检测();\\n一级书签('$detailUrl','$system');\\n//一级书签('$detailUrl',true);\",\"search_url\":\"/ys/index.php/vod/search/page/fypage/wd/**.html\",\"group\":\"#️⃣道长DR\",\"searchFind\":\"js:\\nrequire(config.自动匹配);\\n自动搜索('$sflag');\",\"detail_col_type\":\"movie_1\",\"detail_find_rule\":\"js:\\nrequire(config.自动匹配);\\nrequireCache('https://lanmeiguojiang.com/lmysdm/lazy.js',24); \\n自动二级(lazy);\\n//自动二级();\",\"sdetail_col_type\":\"movie_1\",\"sdetail_find_rule\":\"*\",\"ua\":\"mobile\",\"preRule\":\"var ua='$ua';\\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\",\"pages\":\"[]\",\"icon\":\"https://lanmeiguojiang.com/tubiao/ke/94.png\"}"}],"title":"DR模板","author":"道长","version":16,"type":"tool","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"模板","year_url":"","find_rule":"js:\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/dr模板.js');","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_3","detail_find_rule":"js:\nrequire(config.自动匹配);\n//香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_3","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[{\"col_type\":\"movie_3\",\"name\":\"规则\",\"path\":\"ruleGen\",\"rule\":\"$.exports.rule={\\\"firstHeader\\\":\\\"class\\\",\\\"last_chapter_rule\\\":\\\"\\\",\\\"title\\\":\\\"蓝莓影视B\\\",\\\"author\\\":\\\"道长\\\",\\\"url\\\":\\\"hiker://empty##https://lanmeiguojiang.com/ys\\\",\\\"version\\\":1,\\\"col_type\\\":\\\"movie_3_marquee\\\",\\\"class_name\\\":\\\"\\\",\\\"type\\\":\\\"video\\\",\\\"class_url\\\":\\\"\\\",\\\"area_name\\\":\\\"\\\",\\\"area_url\\\":\\\"\\\",\\\"sort_name\\\":\\\"\\\",\\\"year_name\\\":\\\"\\\",\\\"sort_url\\\":\\\"影视\\\",\\\"year_url\\\":\\\"\\\",\\\"find_rule\\\":\\\"js:\\\\nrequire(config.模板);\\\\n依赖检测();\\\\n一级书签('$detailUrl','$system');\\\\n//一级书签('$detailUrl',true);\\\",\\\"search_url\\\":\\\"/ys/index.php/vod/search/page/fypage/wd/**.html\\\",\\\"group\\\":\\\"#️⃣道长DR\\\",\\\"searchFind\\\":\\\"js:\\\\nrequire(config.自动匹配);\\\\n自动搜索('$sflag');\\\",\\\"detail_col_type\\\":\\\"movie_1\\\",\\\"detail_find_rule\\\":\\\"js:\\\\nrequire(config.自动匹配);\\\\nrequireCache('https://lanmeiguojiang.com/lmysdm/lazy.js',24); \\\\n自动二级(lazy);\\\\n//自动二级();\\\",\\\"sdetail_col_type\\\":\\\"movie_1\\\",\\\"sdetail_find_rule\\\":\\\"*\\\",\\\"ua\\\":\\\"mobile\\\",\\\"preRule\\\":\\\"var ua='$ua';\\\\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\\\",\\\"pages\\\":\\\"[]\\\",\\\"icon\\\":\\\"https://lanmeiguojiang.com/tubiao/ke/94.png\\\"}\"}]","proxy":"https://hjdhnx.coding.net/p/hiker/d/dr/git/raw/master/js/=>https://gitcode.net/qq_32394351/dr/-/raw/master/js/","icon":"https://lanmeiguojiang.com/tubiao/more/328.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"解析","path":"lazy","rule":"var lazy = $('').lazyRule((v) => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    //var playurl = decodeURIComponent(base64Decode(html.url));\n    var playurl = html.url;\n    log(\"输入链接:\" + playurl);\n\n    if (/\\.m3u8|\\.mp4/.test(playurl) && /cat\\.wkfile/.test(playurl)) {\n        let url = playurl + \";{Referer@https://fantuan.tv}\";\n        return url\n    } else if (/\\.m3u8|\\.mp4/.test(playurl)) {\n        return cacheM3u8(playurl)\n    } else if (/id_/.test(playurl)) {\n        return maoss(\"https://api.xkvideo.design/m3u8.php?url=\" + playurl, false, \"zsdrf880203ghurd\")\n\n    } else if (/LT-/.test(playurl)) {\n        try {\n            let play = JSON.parse(request('http://app.nfuxs.com/lt/json.php?url=' + playurl)).url;\n            let jiexi_key = JSON.parse(request(\"http://iapp.nfuxs.club/application/api/controller/v1/mogai_ad.php\")).data.jiexi_key;\n            let deurl = rc4.decode(play, jiexi_key);\n            return deurl + \"#isVideo=true#\"\n        } catch (e) {\n            let play = JSON.parse(request('https://app.nfuxs.com/jx/json.php?url=' + playurl)).url;\n            let jiexi_key = JSON.parse(request(\"http://iapp.nfuxs.club/application/api/controller/v1/mogai_ad.php\")).data.jiexi_key;\n            let deurl = rc4.decode(play, jiexi_key);\n            return deurl + \"#isVideo=true#\"\n        }\n    } else if (/xfy-/.test(playurl) || /fen\\.laodi/.test(playurl)) {\n\n        let play = JSON.parse(request('http://app.nfuxs.com/lt/json.php?url=' + playurl)).url;\n        let jiexi_key = JSON.parse(request(\"http://iapp.nfuxs.club/application/api/controller/v1/mogai_ad.php\")).data.jiexi_key;\n        let deurl = rc4.decode(play, jiexi_key);\n        return deurl + \"#isVideo=true#\"\n    } else {\n        try {\n            let play = JSON.parse(request('https://app.nfuxs.com/jx/json.php?url=' + playurl)).url;\n            let jiexi_key = JSON.parse(request(\"http://iapp.nfuxs.club/application/api/controller/v1/mogai_ad.php\")).data.jiexi_key;\n            let deurl = rc4.decode(play, jiexi_key);\n            return deurl + \"#isVideo=true#\"\n        } catch (e) {\n            //web嗅探代码搬自香佬\n            //var jiexi = jiek + urll;\n            showLoading(\"正在进行日志检索，请稍候...\");\n            var video = 'webRule://' + playurl + '@' + $.toString(() => {\n                //fba.log(fba.getUrls());\n                var urls = _getUrls();\n                if (urls.length > 0) {\n                    for (var i in urls) {\n                        if (urls[i].match(/\\.m3u8|\\.mp4|obj\\/tos|\\.flv/) && !urls[i].match(/html|m3u8\\.tv|\\&next|ac\\=dm|\\=http/)) {\n                            //fy_bridge_app.log(urls[i])\n                            if (urls[i].indexOf('bilivideo') != -1) {\n                                return urls[i] + ';{Referer@https://www.bilibili.com&&User-Agent@Mozilla/5.0}';\n                            } else if (urls[i].indexOf('titan.mgtv.com') != -1) {\n                                return urls[i] + '#isVideo=true#' + ';{Referer@www.mgtv.com&&User-Agent@Mozilla/5.0}';\n                            } else {\n                                return urls[i]\n                            }\n                        }\n                    }\n                } else {\n                    fba.hideLoading();\n                    return 'toast://嗅探失败，可能链接无法访问。'\n                }\n            });\n            return video\n        }\n    }\n\n    function maoss(jxurl, ref, key) {\n        eval(getCryptoJS());\n        try {\n            var getVideoInfo = function(text) {\n                return CryptoJS.AES.decrypt(text, key, {\n                    iv: iv,\n                    padding: CryptoJS.pad.Pkcs7\n                }).toString(CryptoJS.enc.Utf8);\n            };\n            var token_key = key == undefined ? 'dvyYRQlnPRCMdQSe' : key;\n            if (ref) {\n                var html = request(jxurl, {\n                    headers: {\n                        'Referer': ref\n                    }\n                });\n            } else {\n                var html = request(jxurl);\n            }\n            if (html.indexOf('&btwaf=') != -1) {\n                html = request(jxurl + '&btwaf' + html.match(/&btwaf(.*?)\"/)[1], {\n                    headers: {\n                        'Referer': ref\n                    }\n                })\n            }\n            var token_iv = html.split('_token = \"')[1].split('\"')[0];\n            var key = CryptoJS.enc.Utf8.parse(token_key);\n            var iv = CryptoJS.enc.Utf8.parse(token_iv);\n            // log(\"iv:\"+iv);\n            //  log(html);\n            eval(html.match(/var config = {[\\s\\S]*?}/)[0] + '');\n            if (config.url.slice(0, 4) != 'http') {\n                //config.url = decodeURIComponent(AES(config.url, key, iv));\n                config.url = CryptoJS.AES.decrypt(config.url, key, {\n                    iv: iv,\n                    padding: CryptoJS.pad.Pkcs7\n                }).toString(CryptoJS.enc.Utf8)\n            }\n            return config.url + \"#isVideo=true#\";\n        } catch (e) {\n            return '';\n        }\n    }\n\n});"}],"title":"南府.dr","author":"道长","version":1,"type":"video","url":"hiker://empty##https://www.nfuxs.com/vodshow/1--------fypage---/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nlet parStr=\".module-items&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href\";\ntrue_url = 获取正确链接();\nvar page = MY_PAGE;\nvar html = 获取源码(true_url,MOBILE_UA)\n//log(true_url)\nlet cates=打造动态分类([{\n        一级分类: '.box&&.scroll-content',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nvar html = 获取源码(MY_URL,MOBILE_UA)\nlet parStr=\".module-items&&.module-search-item;h3&&Text;img&&data-src;.video-info-header&&a&&Text;.video-info&&a&&href;.video-info-items,-1&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.nfuxs.com/vodsearch/**----------fypage---/","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.video-info-header&&h2&&Text;.video-info-aux&&Text;.video-info-items&&Text',\n img:'#main&&img&&data-src',\n url:'#main&&img&&data-src',\n desc:'.video-info-items,1&&Text;.video-info-items,2&&Text;.video-info-items,3&&Text',\n content:'.video-info-content&&Text.js:input.replace(\"收起\",\"\")',\n tabs:'.module-tab-content&&.tab-item',\n lists:'body&&.sort-item,#id&&a',\n tab_id:'',\n};\neval(JSON.parse(request('hiker://page/lazy')).rule);\nvar 指定ua=MOBILE_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[{\"col_type\":\"movie_3\",\"name\":\"解析\",\"path\":\"lazy\",\"rule\":\"var lazy = $('').lazyRule((v) => {\\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\\n    //var playurl = decodeURIComponent(base64Decode(html.url));\\n    var playurl = html.url;\\n    log(\\\"输入链接:\\\" + playurl);\\n\\n    if (/\\\\.m3u8|\\\\.mp4/.test(playurl) && /cat\\\\.wkfile/.test(playurl)) {\\n        let url = playurl + \\\";{Referer@https://fantuan.tv}\\\";\\n        return url\\n    } else if (/\\\\.m3u8|\\\\.mp4/.test(playurl)) {\\n        return cacheM3u8(playurl)\\n    } else if (/id_/.test(playurl)) {\\n        return maoss(\\\"https://api.xkvideo.design/m3u8.php?url=\\\" + playurl, false, \\\"zsdrf880203ghurd\\\")\\n\\n    } else if (/LT-/.test(playurl)) {\\n        try {\\n            let play = JSON.parse(request('http://app.nfuxs.com/lt/json.php?url=' + playurl)).url;\\n            let jiexi_key = JSON.parse(request(\\\"http://iapp.nfuxs.club/application/api/controller/v1/mogai_ad.php\\\")).data.jiexi_key;\\n            let deurl = rc4.decode(play, jiexi_key);\\n            return deurl + \\\"#isVideo=true#\\\"\\n        } catch (e) {\\n            let play = JSON.parse(request('https://app.nfuxs.com/jx/json.php?url=' + playurl)).url;\\n            let jiexi_key = JSON.parse(request(\\\"http://iapp.nfuxs.club/application/api/controller/v1/mogai_ad.php\\\")).data.jiexi_key;\\n            let deurl = rc4.decode(play, jiexi_key);\\n            return deurl + \\\"#isVideo=true#\\\"\\n        }\\n    } else if (/xfy-/.test(playurl) || /fen\\\\.laodi/.test(playurl)) {\\n\\n        let play = JSON.parse(request('http://app.nfuxs.com/lt/json.php?url=' + playurl)).url;\\n        let jiexi_key = JSON.parse(request(\\\"http://iapp.nfuxs.club/application/api/controller/v1/mogai_ad.php\\\")).data.jiexi_key;\\n        let deurl = rc4.decode(play, jiexi_key);\\n        return deurl + \\\"#isVideo=true#\\\"\\n    } else {\\n        try {\\n            let play = JSON.parse(request('https://app.nfuxs.com/jx/json.php?url=' + playurl)).url;\\n            let jiexi_key = JSON.parse(request(\\\"http://iapp.nfuxs.club/application/api/controller/v1/mogai_ad.php\\\")).data.jiexi_key;\\n            let deurl = rc4.decode(play, jiexi_key);\\n            return deurl + \\\"#isVideo=true#\\\"\\n        } catch (e) {\\n            //web嗅探代码搬自香佬\\n            //var jiexi = jiek + urll;\\n            showLoading(\\\"正在进行日志检索，请稍候...\\\");\\n            var video = 'webRule://' + playurl + '@' + $.toString(() => {\\n                //fba.log(fba.getUrls());\\n                var urls = _getUrls();\\n                if (urls.length > 0) {\\n                    for (var i in urls) {\\n                        if (urls[i].match(/\\\\.m3u8|\\\\.mp4|obj\\\\/tos|\\\\.flv/) && !urls[i].match(/html|m3u8\\\\.tv|\\\\&next|ac\\\\=dm|\\\\=http/)) {\\n                            //fy_bridge_app.log(urls[i])\\n                            if (urls[i].indexOf('bilivideo') != -1) {\\n                                return urls[i] + ';{Referer@https://www.bilibili.com&&User-Agent@Mozilla/5.0}';\\n                            } else if (urls[i].indexOf('titan.mgtv.com') != -1) {\\n                                return urls[i] + '#isVideo=true#' + ';{Referer@www.mgtv.com&&User-Agent@Mozilla/5.0}';\\n                            } else {\\n                                return urls[i]\\n                            }\\n                        }\\n                    }\\n                } else {\\n                    fba.hideLoading();\\n                    return 'toast://嗅探失败，可能链接无法访问。'\\n                }\\n            });\\n            return video\\n        }\\n    }\\n\\n    function maoss(jxurl, ref, key) {\\n        eval(getCryptoJS());\\n        try {\\n            var getVideoInfo = function(text) {\\n                return CryptoJS.AES.decrypt(text, key, {\\n                    iv: iv,\\n                    padding: CryptoJS.pad.Pkcs7\\n                }).toString(CryptoJS.enc.Utf8);\\n            };\\n            var token_key = key == undefined ? 'dvyYRQlnPRCMdQSe' : key;\\n            if (ref) {\\n                var html = request(jxurl, {\\n                    headers: {\\n                        'Referer': ref\\n                    }\\n                });\\n            } else {\\n                var html = request(jxurl);\\n            }\\n            if (html.indexOf('&btwaf=') != -1) {\\n                html = request(jxurl + '&btwaf' + html.match(/&btwaf(.*?)\\\"/)[1], {\\n                    headers: {\\n                        'Referer': ref\\n                    }\\n                })\\n            }\\n            var token_iv = html.split('_token = \\\"')[1].split('\\\"')[0];\\n            var key = CryptoJS.enc.Utf8.parse(token_key);\\n            var iv = CryptoJS.enc.Utf8.parse(token_iv);\\n            // log(\\\"iv:\\\"+iv);\\n            //  log(html);\\n            eval(html.match(/var config = {[\\\\s\\\\S]*?}/)[0] + '');\\n            if (config.url.slice(0, 4) != 'http') {\\n                //config.url = decodeURIComponent(AES(config.url, key, iv));\\n                config.url = CryptoJS.AES.decrypt(config.url, key, {\\n                    iv: iv,\\n                    padding: CryptoJS.pad.Pkcs7\\n                }).toString(CryptoJS.enc.Utf8)\\n            }\\n            return config.url + \\\"#isVideo=true#\\\";\\n        } catch (e) {\\n            return '';\\n        }\\n    }\\n\\n});\"}]","icon":"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/南府影视.png"},{"last_chapter_rule":"","pageList":[],"title":"怀旧游戏","author":"道长","version":1,"type":"tool","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"资源","year_url":"","find_rule":"js:\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"http://mrpyx.cn\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true,\n        ua:MOBILE_UA\n    }\n}])","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/messy/91.svg"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"动态解析","path":"lazy","rule":"evalPrivateJS('vLrmLHEXDew5Wm2f/s4IJJbJIXdwuJFz/adduvbmQ2HsvjfA/N9EDZBFHlUhBbyl/l6Huyy/tmWg6OP8sp5FUfyaxntKKzMDRfCam5SG30EyPVXaSJ564LkQVAvW8pfqQe4hL8fa8JZKPGBrxZKzhqsr5cxcV0G3eN1cRnKAlBFAuR85cggRgKiZef7/dTCvWpQV7a9u7vt9jThA8ZPjrO+lczAbTyg9/MT+qka1tiJ5XNBWb9XZDkaL78cmupRcNw45eMkkBHqFmr9xqIs5/XfqcOyaPzkO7IlxrmChL9hdLp3S4tyfSVZCQjBEwn05pXXRSyZyqQKXTF72AbMK1oCThsrieF31IEJscQtgEUaURRWSbPFBVInYhcH0IahSYuM4s7daxqvNgMcrJEASHcjG7UEgE/uzpu7kr0gIJlmsMnIIaDUp/obwolvxLZtRoxxQTPEYek38mIE6uq3n42OZ2MyZhFHsiqJQU2xV5w8VK3pQIIDEmX0uKzCedxXbFpGkI6RSWQevyMDtw2edW1YNsT0dtMT8iuN97L7yLO/NERY1mbRY6Tip/J9Vg/SiUapJ7zUumztX5PQ9H/6suu2sm8SNQjuccaWUearAqfZUOG1Fc9yYpoCj3ddedhibdQT3CW9dDZIAGWBN5hTikHFDX4z/zB93EaKLcHUdnhDFklF3i5rNgsbT5TlYuVGtID3m14AGQrXoqCcL4OAYi0UmsVLejXhQI+uJ92yTMiHmGGsaPXsGukH9j9/tgcDLIDTGnTKYYM6Katj+qfi073RIoANJ4lgDEXouxIFql4b77MWUhsP7ENNB0VZBUe1iS8xb91gWCqg5ed7j5bZOBSHf1Z+/jw8cG7avSLZB1LjXP7XvEkn5sHKc/DBLjxXh+0uIBCztxI7v9Wa1FBKNHN0YYonndsLquqZog/raqkGWlYJmbKr8e4/FRXnbGC5hOHtYmNdo60hi7guRhrPESNICr7tmbkTE46oO7vtdRgYh5rQB4qml0qlnydSZrj8sI+9bKj5i2rLg5YUmIhULUjdyRSffLdd++wtasH7UECCyl5HZXBZnqzx/0vf8xQ0eZSWIbMhUVdWWyzRVIia4B4rNVWmiEVS+q8eF2XQiclAsVB/aqL1Y/2P+iEOy7jeifhmYKtIpbs4H64mSQbP3LR43vsFN+iiL0ByD2rGg+JFMRusODIGO4i4qUSdadmlLf0nqLe57sKEwbfIq1JbAkU33qV26/EKdcqkbwP1NkKWDqzmSfEapmGOG4IdZBYbH3LPu24KuLafb4jWSUQAgW3O8exXekLZDisaPngOBDmfN68A5tBW/IOQ+Pz2GPaCxfiOTE8LUJ+x+J2BI8hreuclhLzf+rz/cYCLnjNVpMKoQ7NsQitlYkw0bIwLiBY8Srx1eRGFVjETZNYfGOyk6cgmOEuZn7MQRboHjifvejlu8JZIq7vgHTTppFA0bFNLs1jhsCQXaLFjT/4J6e+MjQcD+icI/BJ52slLMsBvOhiTwf8Qrxhv7VmbdaBdAh8iMQvbyTA+qt5G368NwV5KU4qgnt5PA3VaHvD/n0OR1GSw=')"},{"col_type":"movie_3","name":"动态解析1","path":"lazy1","rule":"evalPrivateJS('vLrmLHEXDew5Wm2f/s4IJJbJIXdwuJFz/adduvbmQ2FnlqrIA5sMWnmRxD3BMHkAGUxKs2osorxqH6h8IHHjzrK/Jr7NEB0A0HLRxyACVxUeNp8WCQFkyAVYUE6156K68mZ/xI7NEB9sA6GS+UCtHVfSFjGIR2yd4FlajVy/WOBaWCr4hg/61NJ7Zom+IeJugrfHDrwgHsDrAJkUrn4TNT1EQIhCT3C6DAyJ/BG9h02b8mDsB01oNllvEodsCv0bHD7YmkXU4zwLC0Ouf51FYU4PZy/4cC1ucgKwg6EbyyMzkgcfxnMJYyJV0vZQAJNh8rfEiaviHC8O3UDv8rdXS13dTe7U8z7Cj7Vby7e8mJeDpsr8aiHHuO+s6N0ZLY+XGvfVDOSOWJXFyEYXEhQfmCYkm93S/lJPvBFX7VCgvm4OBx7EFBa2oE8AsA6nRKX2xnHmPz/mi78tROFM5qnoAHt4OBZBa78lE6jOmYiP9zM5V2wXUgIa+/Si9rHvztLFpV14CP2XFQKbVmoJ98bSiArg/mJby6Rj//zNu4mQ5IpMGtKP4nFBgYJrCttitE5URed8LHFdF5mVfYQcEVtGpXqd/p//HxQZWxb1H0AUmOnGNiZezRyUqV8G7tiQ8PCB0DnFsxrHJ2+a6xVT+PfKY3yzEstQcC4nCLliD0rmdwa+3bmHROn95+lhcSUC30vEQWYYkAIHNQJjMOYHtzjzjkNb6q7mAIG3EVxicYG/lMQbWEMCzE6Pc/mVOYaXF8mGLPrvF2IAguPhiS2BvBWS5WLB9QUHaJZEOpcf1Gn98jTAHSXT4HNbGz7tmoPnFBG8TsRAwaPOkvbmKVIV2YC+Y4vWfCxTL6MISxtrAHjWGBkxXKrNZ8Yi7g7VI1Ap6G9KonL2vyW/R8SUMy78wmW77/HWA4gu66lKw3zWf7Ap5x9wGdnjWmCM4Uu18bDJGu8Wb5asSXk1WSeQbwT8PCkUKSIqHT9fUfzlmCaJpraA6NhzqZ+SzDkz28StDVeRpYNtP11ksT3Uosh4eh+lKMBp9uh1Gt89Fj3BMJIgBrKkgmsv2NwkQPfi6dzbZNVPwnOKHjDEj7wbPRtBky9wmF9TqVahB8sloCeWcC0Ab8S3pIHf7Or8PG1ScuTrC0gaZj/MId/Vn7+PDxwbtq9ItkHUuBP8FRHoOwyEQGnlP0+Z9rXYNgD04PydschPp2Fop1GpToTFmqTuvawcLf16ExroluIC1OFJongniKMddyXU7n0ponMDMdxa0VraxdiFOCYg8PL/TyWoSeQKDyV+LY7+2hQ6ItSyoJPqDOky2wT+cfuMjWScKsz6eMRzBBSxHaqeYXUrJ/z/SA39bBMBXSB8OPsL+q576mO7xnRkl6nUPz+5Lo6Xd31sUuAO3fciq+/MFWqSrongqPMxngRBqDTgaombrr8ZUQuOKgvXFdjRyeaSO1KY+qliotJHT7pYocpBXUoyeHDz2oteSjcQkIsBQUEqE0KNVkf2LJRrKBZkFQmDqzmSfEapmGOG4IdZBYbH3LPu24KuLafb4jWSUQAgW9qtzVrYEFRDJN6GF31wcWPP/FRzytsKnA9Cm1sLD5cPlW2epAYf3pytZchwt3EGgXQHhtjkOli+tcOnRljAa31V9WRE9gYRUkq1LP1YkdZoKOg2CUIW1nvfK5iE4tf/E+Fu3CtfeoNT/guWpM3jjho=')"}],"title":"小强迷D♔","author":"道长&蓝莓果酱UX","version":3,"type":"video","url":"hiker://empty##https://www.xqmi.top/index.php/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\nMY_URL=MY_URL.split('##')[1];\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\n//var page = MY_URL.match(/(.*)\\/(.*?).html/)[2];\nvar page=MY_PAGE;\ntrue_url = 获取正确链接();\nlet cates=打造动态分类([{\n    一级分类: '.stui-header__menu',\n    子分类: 'ul&&li:gt(0):lt(8):not(:matches(首页|明星|资讯|敏感|专题|留言|下载))',\n    分类链接: {\n            二次处理(url) {\n                return url.replace(\"/type/\", \"/show/\")\n            }\n        }\n},{\n    一级分类: 'body&&.stui-screen__list',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n},{\n    一级分类: '.nav-tabs',\n    子分类: 'ul&&li:not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nvar html=获取源码(MY_URL);\nparStr=\".stui-vodlist&&li;a&&title;.stui-vodlist__thumb&&data-original;.pic-text&&Text;a&&href;p&&Text\";\n一级(parStr,true,null,null,html);","search_url":"https://www.xqmi.top/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.data&&Text;.data,1&&Text;',\n img:'.lazyload&&data-original',\n url:'.lazyload&&data-original',\n desc:'.desc&&Text',\n tabs:'body&&h2[class!=title]',\n lists:'body&&.stui-content__playlist,#id&&ul&&li',\n tab_id:'',\n};\n\nvar 二级处理={\n    重定向:function(url,html){\n    url=pd(html,'.playbtn&&a&&href');    \n  log(url);          \n  html= 获取源码(url,PC_UA,url);\n  return html;\n}\n};\n\n//eval(JSON.parse(request('hiker://page/lazy1')).rule);\n\nvar 指定ua=MOBILE_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n//二级(parse,lazy);\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[{\"col_type\":\"movie_3\",\"name\":\"动态解析\",\"path\":\"lazy\",\"rule\":\"evalPrivateJS('vLrmLHEXDew5Wm2f/s4IJJbJIXdwuJFz/adduvbmQ2HsvjfA/N9EDZBFHlUhBbyl/l6Huyy/tmWg6OP8sp5FUfyaxntKKzMDRfCam5SG30EyPVXaSJ564LkQVAvW8pfqQe4hL8fa8JZKPGBrxZKzhqsr5cxcV0G3eN1cRnKAlBFAuR85cggRgKiZef7/dTCvWpQV7a9u7vt9jThA8ZPjrO+lczAbTyg9/MT+qka1tiJ5XNBWb9XZDkaL78cmupRcNw45eMkkBHqFmr9xqIs5/XfqcOyaPzkO7IlxrmChL9hdLp3S4tyfSVZCQjBEwn05pXXRSyZyqQKXTF72AbMK1oCThsrieF31IEJscQtgEUaURRWSbPFBVInYhcH0IahSYuM4s7daxqvNgMcrJEASHcjG7UEgE/uzpu7kr0gIJlmsMnIIaDUp/obwolvxLZtRoxxQTPEYek38mIE6uq3n42OZ2MyZhFHsiqJQU2xV5w8VK3pQIIDEmX0uKzCedxXbFpGkI6RSWQevyMDtw2edW1YNsT0dtMT8iuN97L7yLO/NERY1mbRY6Tip/J9Vg/SiUapJ7zUumztX5PQ9H/6suu2sm8SNQjuccaWUearAqfZUOG1Fc9yYpoCj3ddedhibdQT3CW9dDZIAGWBN5hTikHFDX4z/zB93EaKLcHUdnhDFklF3i5rNgsbT5TlYuVGtID3m14AGQrXoqCcL4OAYi0UmsVLejXhQI+uJ92yTMiHmGGsaPXsGukH9j9/tgcDLIDTGnTKYYM6Katj+qfi073RIoANJ4lgDEXouxIFql4b77MWUhsP7ENNB0VZBUe1iS8xb91gWCqg5ed7j5bZOBSHf1Z+/jw8cG7avSLZB1LjXP7XvEkn5sHKc/DBLjxXh+0uIBCztxI7v9Wa1FBKNHN0YYonndsLquqZog/raqkGWlYJmbKr8e4/FRXnbGC5hOHtYmNdo60hi7guRhrPESNICr7tmbkTE46oO7vtdRgYh5rQB4qml0qlnydSZrj8sI+9bKj5i2rLg5YUmIhULUjdyRSffLdd++wtasH7UECCyl5HZXBZnqzx/0vf8xQ0eZSWIbMhUVdWWyzRVIia4B4rNVWmiEVS+q8eF2XQiclAsVB/aqL1Y/2P+iEOy7jeifhmYKtIpbs4H64mSQbP3LR43vsFN+iiL0ByD2rGg+JFMRusODIGO4i4qUSdadmlLf0nqLe57sKEwbfIq1JbAkU33qV26/EKdcqkbwP1NkKWDqzmSfEapmGOG4IdZBYbH3LPu24KuLafb4jWSUQAgW3O8exXekLZDisaPngOBDmfN68A5tBW/IOQ+Pz2GPaCxfiOTE8LUJ+x+J2BI8hreuclhLzf+rz/cYCLnjNVpMKoQ7NsQitlYkw0bIwLiBY8Srx1eRGFVjETZNYfGOyk6cgmOEuZn7MQRboHjifvejlu8JZIq7vgHTTppFA0bFNLs1jhsCQXaLFjT/4J6e+MjQcD+icI/BJ52slLMsBvOhiTwf8Qrxhv7VmbdaBdAh8iMQvbyTA+qt5G368NwV5KU4qgnt5PA3VaHvD/n0OR1GSw=')\"},{\"col_type\":\"movie_3\",\"name\":\"动态解析1\",\"path\":\"lazy1\",\"rule\":\"evalPrivateJS('vLrmLHEXDew5Wm2f/s4IJJbJIXdwuJFz/adduvbmQ2FnlqrIA5sMWnmRxD3BMHkAGUxKs2osorxqH6h8IHHjzrK/Jr7NEB0A0HLRxyACVxUeNp8WCQFkyAVYUE6156K68mZ/xI7NEB9sA6GS+UCtHVfSFjGIR2yd4FlajVy/WOBaWCr4hg/61NJ7Zom+IeJugrfHDrwgHsDrAJkUrn4TNT1EQIhCT3C6DAyJ/BG9h02b8mDsB01oNllvEodsCv0bHD7YmkXU4zwLC0Ouf51FYU4PZy/4cC1ucgKwg6EbyyMzkgcfxnMJYyJV0vZQAJNh8rfEiaviHC8O3UDv8rdXS13dTe7U8z7Cj7Vby7e8mJeDpsr8aiHHuO+s6N0ZLY+XGvfVDOSOWJXFyEYXEhQfmCYkm93S/lJPvBFX7VCgvm4OBx7EFBa2oE8AsA6nRKX2xnHmPz/mi78tROFM5qnoAHt4OBZBa78lE6jOmYiP9zM5V2wXUgIa+/Si9rHvztLFpV14CP2XFQKbVmoJ98bSiArg/mJby6Rj//zNu4mQ5IpMGtKP4nFBgYJrCttitE5URed8LHFdF5mVfYQcEVtGpXqd/p//HxQZWxb1H0AUmOnGNiZezRyUqV8G7tiQ8PCB0DnFsxrHJ2+a6xVT+PfKY3yzEstQcC4nCLliD0rmdwa+3bmHROn95+lhcSUC30vEQWYYkAIHNQJjMOYHtzjzjkNb6q7mAIG3EVxicYG/lMQbWEMCzE6Pc/mVOYaXF8mGLPrvF2IAguPhiS2BvBWS5WLB9QUHaJZEOpcf1Gn98jTAHSXT4HNbGz7tmoPnFBG8TsRAwaPOkvbmKVIV2YC+Y4vWfCxTL6MISxtrAHjWGBkxXKrNZ8Yi7g7VI1Ap6G9KonL2vyW/R8SUMy78wmW77/HWA4gu66lKw3zWf7Ap5x9wGdnjWmCM4Uu18bDJGu8Wb5asSXk1WSeQbwT8PCkUKSIqHT9fUfzlmCaJpraA6NhzqZ+SzDkz28StDVeRpYNtP11ksT3Uosh4eh+lKMBp9uh1Gt89Fj3BMJIgBrKkgmsv2NwkQPfi6dzbZNVPwnOKHjDEj7wbPRtBky9wmF9TqVahB8sloCeWcC0Ab8S3pIHf7Or8PG1ScuTrC0gaZj/MId/Vn7+PDxwbtq9ItkHUuBP8FRHoOwyEQGnlP0+Z9rXYNgD04PydschPp2Fop1GpToTFmqTuvawcLf16ExroluIC1OFJongniKMddyXU7n0ponMDMdxa0VraxdiFOCYg8PL/TyWoSeQKDyV+LY7+2hQ6ItSyoJPqDOky2wT+cfuMjWScKsz6eMRzBBSxHaqeYXUrJ/z/SA39bBMBXSB8OPsL+q576mO7xnRkl6nUPz+5Lo6Xd31sUuAO3fciq+/MFWqSrongqPMxngRBqDTgaombrr8ZUQuOKgvXFdjRyeaSO1KY+qliotJHT7pYocpBXUoyeHDz2oteSjcQkIsBQUEqE0KNVkf2LJRrKBZkFQmDqzmSfEapmGOG4IdZBYbH3LPu24KuLafb4jWSUQAgW9qtzVrYEFRDJN6GF31wcWPP/FRzytsKnA9Cm1sLD5cPlW2epAYf3pytZchwt3EGgXQHhtjkOli+tcOnRljAa31V9WRE9gYRUkq1LP1YkdZoKOg2CUIW1nvfK5iE4tf/E+Fu3CtfeoNT/guWpM3jjho=')\"}]","icon":"https://www.xqmi.top/template/xqmi/img/favicon.ico"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"解析","path":"lazy","rule":"var lazy = $('').lazyRule((playInfo) => {\n    //see@https://player.novipnoad.com/js/jquery.min.js?v=3.3.1_0814\n    function atob(str) {\n        var table = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        str = String(str).replace(/=+$/, '');\n        for (var i = 0x0, i1, i2, i3 = 0x0, ret = ''; i2 = str.charAt(i3++); ~i2 && (i1 = i % 0x4 ? i1 * 0x40 + i2 : i2, i++ % 0x4) ? ret += String.fromCharCode(0xff & i1 >> (-0x2 * i & 0x6)) : 0x0) {\n            i2 = table.indexOf(i2);\n        }\n        return ret;\n    }\n    var document = {\n        domain: 'player.novipnoad.com'\n    };\n\n    //自动执行函数 等价于 (function(){}())\n    ! function() {\n        var n = \"hallo.sc2yun.com\" == document.domain || \"player.novipnoad.com\" == document.domain ? \"5f3651b7\" : \"403\";\n        Object.defineProperty(JSON, \"decrypt\", {\n            value: function(o) {\n                var r = function _0x390ab0(o, r) {\n                    for (var n, e = atob(o), t = [], a = 0, c = \"\", d = 0; d < 256; d++) t[d] = d;\n                    for (d = 0; d < 256; d++) a = (a + t[d] + r.charCodeAt(d % r.length)) % 256, n = t[d],\n                        t[d] = t[a], t[a] = n;\n                    for (b = a = d = 0; b < e.length; b++) a = (a + t[d = (d + 1) % 256]) % 256, n = t[d],\n                        t[d] = t[a], t[a] = n, c += String.fromCharCode(e.charCodeAt(b) ^ t[(t[d] + t[a]) % 256]);\n                    return c;\n                }(o, n);\n                return this.parse(r);\n            }\n        });\n    }();\n\n\n    function novipJiexi(url, vid, pkey) {\n        //see@play.js\n        let ref = url.match(/\\.[^\\/]+(.*)/)[1];\n        let host = \"https://\" + document.domain;;\n        let furl = \"\";\n        //条件不完全确定\n        if (vid.substring(0, 1) != 'X' && vid.indexOf('/') == -1 && vid.indexOf('-') == -1 && vid.indexOf('type') == -1) {\n            //v2\n            furl = host + \"/v2/?url=\" + vid + \"&pkey=\" + pkey + \"&ref=\" + ref;\n        } else {\n            //v1\n            furl = host + \"/v1/?url=\" + vid + \"&pkey=\" + pkey + \"&ref=\" + ref;\n        }\n        //log(\"furl: \"+furl)\n        let html = fetch(furl, {\n            timeout: 10000,\n            headers: {\n                \"User-Agent\": PC_UA,\n                \"Referer\": url\n            }\n        });\n\n        //get vkey json\n        eval(\"let vkey=\" + eval(html.match(/var _0x(.*)/)[0].replace(\"eval\", \"\") + \".match(/{.*?}/)[0];\"));\n        //get page player.php?id=\n        eval(html.match(/请求参数([\\s\\S]*?)加载播放/)[1].replace(\"const url\", \"const purl\"));\n        furl = host + purl;\n        html = fetch(furl, {\n            timeout: 10000,\n            headers: {\n                \"User-Agent\": PC_UA,\n                \"Referer\": url\n            }\n        });\n\n        //get page\n        eval(html.match(/(var ckey[\\s\\S]+?)}/)[1].replace(/document.*?\\+/, \"furl=\").replace(/\\+.'\".*/, \"\"));\n        html = fetch(furl, {\n            timeout: 10000,\n            headers: {\n                \"User-Agent\": PC_UA,\n                \"Referer\": url\n            }\n        });\n        eval(html);\n        return videoUrl.quality[0].url;\n    }\n\n    //log(input)\n    try {\n        if (/movie/.test(input)) {\n            var url = input;\n            var vid = playInfo.vid;\n        } else {\n            var url = input.split(\"#\")[0];\n            var vid = input.split(\"#\")[1].match(/play\\('(.*?)',/)[1];\n        }\n        //let vid = playInfo.vid.replace(/&#038;/g, \"&\");                \n        log(vid)\n        var pkey = playInfo.pkey;\n        return novipJiexi(url, vid, pkey) + \"#isVideo=true#;{Referer@https://player.novipnoad.com/vod/hls/&&Accept@*/*}\";\n    } catch (e) {\n        return \"\"\n    }\n\n}, playInfo);"}],"title":"NOVIP.dr","author":"道长&壹隅","version":1,"type":"video","url":"hiker://empty##https://www.novipnoad.com/tv/hongkong/page/fypage/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL = MY_URL.split('##')[1];\nrequire(config.模板);\nlet parStr = \".video-listing-content&&.col-md-3;h3&&Text;img&&data-original;h3&&Text.js:input.match(/【(.*?)】(.*?)【(.*?)】/)[2];a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_PAGE;\n//true_url = 获取正确链接();\nif (parseInt(page) > 1) {\n    if(/page/.test(true_url)){\n        true_url = true_url;\n    }else if(/\\?/.test(true_url)) {\n        true_url = true_url.replace(\"?\", \"page/\" + page + \"/?\")\n    } else {\n        true_url = true_url + \"page/\" + page + \"/\";\n    }\n}\n//log(true_url);\nlet cates = 打造动态分类([{\n    一级分类: '.main-menu&&.nav-ul-menu',\n    子分类: 'body&&li:not(:matches(首页|剧集|捐助|游戏))',\n}, {\n    一级分类: '#content&&.dropdown-menu',\n    子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n}]);\n设置(cates);\n一级(parStr, true, cates, false, html);","searchFind":"js:\nrequire(config.模板);\nMY_URL=MY_URL.split('##')[1];\n//log(MY_URL)\nvar html=request(MY_URL, {\n    headers:{\n        \"User-Agent\": PC_UA,\n        \"upgrade-insecure-requests\":\"1\"\n    },\n    method: \"get\"\n});\n//log(html)\nparStr=\"#content&&.video-item;h3&&Text;img&&data-original;h3&&Text.js:input.match(/【(.*?)】(.*?)【(.*?)】/)[2];a&&href;p&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.novipnoad.com/page/fypage/?s=**","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\n//log(MY_URL)\nMY_URL = MY_URL.split('##')[1].split('#')[0];\nlet html = request(MY_URL, {\n    headers: {\n        'User-Agent': PC_UA,\n        'Referer': 'https://www.novipnoad.com/'\n    },\n    method: 'GET'\n});\nvar desc = pdfh(html, '.abstract&&Text')\nd.push({\n    title: pdfh(html, 'h1&&Text') + \"\\n浏览量: \" + pdfh(html, '.toolbar-views-number&&Text'),\n    url: MY_URL,\n    col_type: \"movie_1_vertical_pic_blur\",\n    desc: pdfh(html, '.item-info&&Text') + \"\\n\" + pdfh(html, '.item-tax-list&&div&&Text'),\n    pic_url: pd(html, 'html&&meta,3&&content') + \"@Referer=\"\n});\nlet contents = pdfh(html, '#content&&.item-content&&Text');\nd.push({\n    title: '‘‘’’<font color=\"#098AC1\">剧情简介</font>',\n    desc: '‘‘’’<font color=\"\">' + contents.substr(0, 70) + '</font>' + '<small><font color=\"red\">详情</font></small>',\n    col_type: 'text_1',\n    extra: {\n        //lineVisible: false\n    },\n    url: $().rule((text) => {\n        setResult([{\n            title: text,\n            col_type: 'long_text',\n        }])\n    }, contents)\n});\n\nif (/movie/.test(MY_URL)) {\n    var lists = [\"<a href=''>在线播放</a>\"]\n} else {\n    var lists = pdfa(html, \"tbody&&a\");\n}\n\n//log(lists)\n//传递参数\n//log(html.match(/playInfo=(.*?);/)[1]);\n//eval(\"var playInfo = \" + html.match(/playInfo=(.*?);/)[1]);\neval(html.match(/playInfo={[\\s\\S]*?};/)[0] + '');\n//log(playInfo);\neval(JSON.parse(request('hiker://page/lazy')).rule)\n//图标来自顺佬小程序\nvar icon_s = 'http://82.156.222.77/weisyr/icon/';\nif (getMyVar('顺序', '正序') == '正序') {\n    var avatar = icon_s + '正序.svg';\n    var ordtext = \"★正序↓\";\n} else {\n    var avatar = icon_s + '反序.svg';\n    var ordtext = \"☆逆序↑\";\n}\n\nfunction setLists(lists) {\n    d.push({\n        title: '‘‘’’<span style=\"color:#098AC1\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + ordtext + '</small>',\n        url: $('#noLoading#').lazyRule(() => {\n            if (getMyVar('顺序', '正序') == '逆序') {\n                putMyVar('顺序', '正序');\n            } else {\n                putMyVar('顺序', '逆序');\n            }\n            refreshPage(true);\n            return 'toast://已切换顺序为:' + getMyVar('顺序', '正序')\n        }),\n        col_type: 'text_center_1'\n    })\n\n    if (getMyVar('顺序', '正序') == '正序') {\n        try {\n            for (let it of lists) {\n                if(/movie/.test(MY_URL)){\n                    var playurl = MY_URL;\n                }else{\n                    var playurl = MY_URL + \"#\" + pdfh(it, 'a&&onclick');\n                }\n                //log(playurl)\n                d.push({\n                    title: pdfh(it, 'a&&Text'),\n                    url: playurl + lazy,\n                    //url: MY_URL + lazy,\n                    extra: {\n                        id: MY_URL                       \n                    },\n                    col_type: 'text_3'\n                });\n\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        lists = lists.reverse();\n        try {\n            for (let it of lists) {\n                if(/movie/.test(MY_URL)){\n                    var playurl = MY_URL;\n                }else{\n                    var playurl = MY_URL + \"#\" + pdfh(it, 'a&&onclick');\n                }\n                d.push({\n                    title: pdfh(it, 'a&&Text'),\n                    url: playurl + lazy,\n                    extra: {\n                        id: MY_URL\n                    },\n                    col_type: 'text_3'\n                });\n\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetLists(lists);\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[{\"col_type\":\"movie_3\",\"name\":\"解析\",\"path\":\"lazy\",\"rule\":\"var lazy = $('').lazyRule((playInfo) => {\\n    //see@https://player.novipnoad.com/js/jquery.min.js?v=3.3.1_0814\\n    function atob(str) {\\n        var table = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\\n        str = String(str).replace(/=+$/, '');\\n        for (var i = 0x0, i1, i2, i3 = 0x0, ret = ''; i2 = str.charAt(i3++); ~i2 && (i1 = i % 0x4 ? i1 * 0x40 + i2 : i2, i++ % 0x4) ? ret += String.fromCharCode(0xff & i1 >> (-0x2 * i & 0x6)) : 0x0) {\\n            i2 = table.indexOf(i2);\\n        }\\n        return ret;\\n    }\\n    var document = {\\n        domain: 'player.novipnoad.com'\\n    };\\n\\n    //自动执行函数 等价于 (function(){}())\\n    ! function() {\\n        var n = \\\"hallo.sc2yun.com\\\" == document.domain || \\\"player.novipnoad.com\\\" == document.domain ? \\\"5f3651b7\\\" : \\\"403\\\";\\n        Object.defineProperty(JSON, \\\"decrypt\\\", {\\n            value: function(o) {\\n                var r = function _0x390ab0(o, r) {\\n                    for (var n, e = atob(o), t = [], a = 0, c = \\\"\\\", d = 0; d < 256; d++) t[d] = d;\\n                    for (d = 0; d < 256; d++) a = (a + t[d] + r.charCodeAt(d % r.length)) % 256, n = t[d],\\n                        t[d] = t[a], t[a] = n;\\n                    for (b = a = d = 0; b < e.length; b++) a = (a + t[d = (d + 1) % 256]) % 256, n = t[d],\\n                        t[d] = t[a], t[a] = n, c += String.fromCharCode(e.charCodeAt(b) ^ t[(t[d] + t[a]) % 256]);\\n                    return c;\\n                }(o, n);\\n                return this.parse(r);\\n            }\\n        });\\n    }();\\n\\n\\n    function novipJiexi(url, vid, pkey) {\\n        //see@play.js\\n        let ref = url.match(/\\\\.[^\\\\/]+(.*)/)[1];\\n        let host = \\\"https://\\\" + document.domain;;\\n        let furl = \\\"\\\";\\n        //条件不完全确定\\n        if (vid.substring(0, 1) != 'X' && vid.indexOf('/') == -1 && vid.indexOf('-') == -1 && vid.indexOf('type') == -1) {\\n            //v2\\n            furl = host + \\\"/v2/?url=\\\" + vid + \\\"&pkey=\\\" + pkey + \\\"&ref=\\\" + ref;\\n        } else {\\n            //v1\\n            furl = host + \\\"/v1/?url=\\\" + vid + \\\"&pkey=\\\" + pkey + \\\"&ref=\\\" + ref;\\n        }\\n        //log(\\\"furl: \\\"+furl)\\n        let html = fetch(furl, {\\n            timeout: 10000,\\n            headers: {\\n                \\\"User-Agent\\\": PC_UA,\\n                \\\"Referer\\\": url\\n            }\\n        });\\n\\n        //get vkey json\\n        eval(\\\"let vkey=\\\" + eval(html.match(/var _0x(.*)/)[0].replace(\\\"eval\\\", \\\"\\\") + \\\".match(/{.*?}/)[0];\\\"));\\n        //get page player.php?id=\\n        eval(html.match(/请求参数([\\\\s\\\\S]*?)加载播放/)[1].replace(\\\"const url\\\", \\\"const purl\\\"));\\n        furl = host + purl;\\n        html = fetch(furl, {\\n            timeout: 10000,\\n            headers: {\\n                \\\"User-Agent\\\": PC_UA,\\n                \\\"Referer\\\": url\\n            }\\n        });\\n\\n        //get page\\n        eval(html.match(/(var ckey[\\\\s\\\\S]+?)}/)[1].replace(/document.*?\\\\+/, \\\"furl=\\\").replace(/\\\\+.'\\\".*/, \\\"\\\"));\\n        html = fetch(furl, {\\n            timeout: 10000,\\n            headers: {\\n                \\\"User-Agent\\\": PC_UA,\\n                \\\"Referer\\\": url\\n            }\\n        });\\n        eval(html);\\n        return videoUrl.quality[0].url;\\n    }\\n\\n    //log(input)\\n    try {\\n        if (/movie/.test(input)) {\\n            var url = input;\\n            var vid = playInfo.vid;\\n        } else {\\n            var url = input.split(\\\"#\\\")[0];\\n            var vid = input.split(\\\"#\\\")[1].match(/play\\\\('(.*?)',/)[1];\\n        }\\n        //let vid = playInfo.vid.replace(/&#038;/g, \\\"&\\\");                \\n        log(vid)\\n        var pkey = playInfo.pkey;\\n        return novipJiexi(url, vid, pkey) + \\\"#isVideo=true#;{Referer@https://player.novipnoad.com/vod/hls/&&Accept@*/*}\\\";\\n    } catch (e) {\\n        return \\\"\\\"\\n    }\\n\\n}, playInfo);\"}]","icon":"https://lanmeiguojiang.com/tubiao/movie/39.svg"},{"last_chapter_rule":"","pageList":[],"title":"奇优影院.dr","author":"道长","version":1,"type":"video","url":"hiker://empty##http://taoju.tv/list/1_fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nlet parStr=\".stui-pannel_bd&&li;.title&&Text;.lazyload&&data-original;.text-right&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_PAGE;\nif(parseInt(page) > 1){\n    if(!/_/.test(true_url)){\n    true_url = true_url.replace('.html', '_' + page + '.html');\n    }else{\n        true_url = true_url.replace(/_(\\d+)/, '_' + page);\n    }\n}\nlog(getMyVar('cookie'));\n//var html = 获取源码(true_url,MOBILE_UA)\n//log(true_url);\nlet cates=打造动态分类([{\n        一级分类: '.stui-header__menu&&ul',\n        子分类: 'body&&li:not(:matches(首页))',        \n    },{\n        一级分类: 'ul.nav',\n        子分类: 'body&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nlet key=MY_URL.match(/searchword=(.*)/)[1];\nrequire(config.模板);\n//var html=获取源码(MY_URL);\nvar html=request(MY_URL,{\n    cookie:getMyVar('cookie',''),\n    body:'searchword='+key,\n    method:'POST'\n});\n//log(html);\nif(/输入验证码/.test(html)){\n    showLoading(\"验证码识别中，请稍等\");\n    var t = new Date().getTime().toString();\n    let vcode=获取验证码('http://taoju.tv/scode.php?t='+t);\n    let ret=提交验证码('http://taoju.tv/search.php',false,false,'verify='+vcode+'&searchword='+key);\n    hideLoading();\n    //log('验证码提交结果:'+ret);  \n    if(/的结果/.test(ret))\n    {\n       // html=获取源码(MY_URL);\n        html=ret;\n        if(/搜索时间间隔/.test(html)){\n            setResult([{\n                title:'搜索验证已自动跳过，等待3秒后下拉刷新',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n        }\n    }else{\n        setResult([{\n                title:'验证未通过，请尝试重新搜索',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n            \n    }\n}\n\nlet parStr = \".stui-vodlist__media&&li;h3&&Text;.lazyload&&data-original;p&&Text;a&&href;p,2&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##http://taoju.tv/v_search.php?searchword=**","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: 'p.data,1&&Text;p.data,2&&Text',\n    img: '.lazyload&&data-original',\n    url: '.lazyload&&data-original',\n    desc: 'p.data&&Text;p.data,3&&Text',\n    content: 'p.desc&&Text',\n    tabs: '.nav-tabs&&li',\n    lists: 'body&&.stui-content__playlist,#id&&li',\n    tab_id: '',\n}\nvar lazy = $('').lazyRule(() => {\n    let url = pdfh(request(input), 'iframe&&src');\n    let playurl = request(url).match(/loadSource\\(\"(.*?)\"\\);/)[1];\n    return playurl + '#isVideo=true#'\n});\nvar 动态最新章节 = true;\nvar 倒序 = false;\n二级(parse, lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var t = new Date();\nvar 验证码='http://taoju.tv/scode.php?' + t;\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/20.png"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"动态分类","path":"dt","rule":"const empty = \"hiker://empty\"\nvar fhtml = request(\"https://www.subaibaiys.com/movie_bt/\", {\n    headers: {\n        'User-Agent': PC_UA,\n        'Referer': 'https://www.subaibaiys.com/',\n        'Cookie': getMyVar('sbb$cookie','')\n    },\n    method: \"get\"\n})\ntry {\n    var categories = pdfa(fhtml, 大类定位).concat(pdfa(fhtml, 拼接分类))\n} catch (e) {\n    var categories = pdfa(fhtml, 大类定位)\n}\n\nlet init_cate = []\n\nfor (let i = 0; i < 20; i++) {\n    init_cate.push(\"0\")\n}\n\nconst fold = getMyVar(MY_RULE.group, \"0\")\n\nif (parseInt(page) === 1) {\n    /*\n    d.push({\n        title: \"🔍\",\n        url: $.toString(() => {\n            putVar(\"Mykey\", input);\n            refreshPage(true)\n        }),\n           desc: \"搜你想看的影视、剧集、动漫等...\",\n           col_type: \"input\",\n        extra: {\n            defaultValue: getVar(\"Mykey\")\n        }\n    });\n    */\n\n    d.push({\n        title: fold === '1' ? '““””<b><span style=\"color: #19B89D\">: (</span></b>' : '““””<b><span style=\"color: #910113\">: )</span></b>',\n        url: $().lazyRule((fold) => {\n            putMyVar(MY_RULE.group, fold === '1' ? '0' : '1');\n            refreshPage(false);\n            return \"hiker://empty\"\n        }, fold),\n        col_type: 'scroll_button',\n    })\n\n    categories.forEach((category, index) => {\n        let sub_categories = pdfa(category, 小类定位);\n        if (index === 0) {\n            sub_categories.forEach((item, key) => {\n                let title = pdfh(item, 分类标题)\n                if (title === \"全部\") {\n                    let url = pd(item, \"a&&href\");                    \n                    d.push({\n                        title: true_url === url ? '““””<b><span style=\"color: ' + 分类颜色 + '\">' + title + '</span></b>' : title,\n                        url: $(pd(item, 'a&&href') + '#noLoading#').lazyRule(() => {                                                       \n                            putMyVar(MY_RULE.url, input)\n                            refreshPage(true)\n                            return \"hiker://empty\"\n                        }),\n                        col_type: 'scroll_button',\n                    })\n                } else { \n                let url = pd(item, 'a&&cat-url');                   \n                    d.push({\n                        title: true_url === url ? '““””<b><span style=\"color: ' + 分类颜色 + '\">' + title + '</span></b>' : title,\n                        url: $(pd(item, 'a&&cat-url') + '#noLoading#').lazyRule(() => {                            \n                            putMyVar(MY_RULE.url, input)\n                            refreshPage(true)\n                            return \"hiker://empty\"\n                        }),\n                        col_type: 'scroll_button',\n                    })\n                }\n            })\n            d.push({\n                col_type: \"blank_block\"\n            });\n        } else if (fold === '1') {\n            sub_categories.forEach((item, key) => {\n                let title = pdfh(item, 分类标题)\n\n                if (title === \"全部\") {\n                    let url = pd(item, \"a&&href\");                    \n                    d.push({\n                        title: true_url === url ? '““””<b><span style=\"color: ' + 分类颜色 + '\">' + title + '</span></b>' : title,\n                        url: $(pd(item, 'a&&href') + '#noLoading#').lazyRule(() => {\n                                                       \n                            putMyVar(MY_RULE.url, input)\n                            refreshPage(true)\n                            return \"hiker://empty\"\n                        }),\n                        col_type: 'scroll_button',\n                    })\n                } else { \n                let url = pd(item, 'a&&cat-url');                   \n                    d.push({\n                        title: true_url === url ? '““””<b><span style=\"color: ' + 分类颜色 + '\">' + title + '</span></b>' : title,\n                        url: $(pd(item, 'a&&cat-url') + '#noLoading#').lazyRule(() => {                            \n                            putMyVar(MY_RULE.url, input)\n                            refreshPage(true)\n                            return \"hiker://empty\"\n                        }),\n                        col_type: 'scroll_button',\n                    })\n                }\n            })\n            d.push({\n                col_type: \"blank_block\"\n            });\n        }\n    })\n}"},{"col_type":"movie_3","name":"解析","path":"lazy","rule":"var lazy = $('').lazyRule(() => {\n    var html = request(input, {\n        headers: {\n            'User-Agent': PC_UA,           \n            'Referer': 'https://www.subaibaiys.com/',\n            'Cookie': getMyVar('sbb$cookie', '')\n        },\n        method: 'get'\n    });\n    eval(JSON.parse(request('hiker://page/btyz')).rule);\n    let js = pdfh(html, \"body&&script:not([src]),2&&Html\");\n    eval(getCryptoJS());\n    let data = js.match(/var[\\s\\S]*?\\)\\);/)[0];\n    //log(data)\n    eval(data.replace(/md5\\./g, 'CryptoJS\\.').replace('eval', 'var datas = '));\n    //log(datas)\n    let url = datas.split('url: \"')[1].split('\"')[0];\n    //log(url)\n    let playurl = request(url, {\n        headers: {\n            'User-Agent': PC_UA,\n            'Referer': 'https://api.wangchuanxin.top/'\n        },\n        withHeaders: true\n    })\n    let playurll = JSON.parse(playurl).url;\n    return playurll + '#isVideo=true#;{Referer@' + playurll + '}'\n    //return playurl + '#isVideo=true#;{Referer@https://www.subaibaiys.com}'\n});"},{"col_type":"movie_3","name":"滑动验证","path":"yz","rule":"//滑动验证(来自墙佬)\nfunction stringtoHex(acSTR) {\n    var val = \"\";\n    for (var i = 0; i <= acSTR.length - 1; i++) {\n        var str = acSTR.charAt(i);\n        var code = str.charCodeAt();\n        val += parseInt(code) + 1\n    };\n    return val\n};\n\nfunction md5encode(word) {\n    eval(getCryptoJS());\n    return CryptoJS.MD5(word).toString()\n};\n\nfunction bypass(html) {\n    if (html.indexOf('滑动验证') > -1) {\n        let jsp = parseDom(html, 'script&&src');\n        let jsf = request(jsp);\n        eval(jsf.match(/key=\"[^\\\"]+\",value=\"[^\\\"]+\"/)[0]);\n        eval(\"let url='https://www.subaibaiys.com'+\" + jsf.match(/\"complete\",function\\(\\)\\{c\\.get\\(([^,]+),/)[1]);\n        putMyVar('subaibai$cookie', JSON.parse(fetchCookie(url, {\n            headers: {\n                'User-Agent': PC_UA\n            }\n        })).join(';'));\n        return true;\n    }\n    return false;\n\n}"},{"col_type":"movie_3","name":"宝塔验证","path":"btyz","rule":"if (/人机验证/.test(html)) {\n    var codeurl = 'https://www.subaibaiys.com' + pdfh(html, 'script&&src');\n    //log(codeurl)\n    let codehtml = request(codeurl, {\n        headers: {\n            'User-Agent': PC_UA,\n            'Referer': 'https://www.subaibaiys.com/',\n        },\n        method: 'GET'\n    });\n    //log(codehtml)\n    function stringtoHex(acSTR) {\n        var val = \"\";\n        for (var i = 0; i <= acSTR.length - 1; i++) {\n            var str = acSTR.charAt(i);\n            var code = str.charCodeAt();\n            val += code\n        };\n        return val\n    };\n\n    function md5encode(word) {\n        return md5(word).toString()\n    };\n    //md5encode(stringtoHex(value))\n    var key = codehtml.match(/var key=\"(.*?)\"/)[1];\n    //log(key)\n    var value = codehtml.match(/value=\"(.*?)\"/)[1];\n    //log(value)\n    //var phpurl = codehtml.match(/c\\.get\\(\"(.*?)\\+\"\",/)[1];\n    var phpurl = 'https://www.subaibaiys.com' + codehtml.match(/c\\.get\\(\"(.*?)\"/)[1] + key + '&value=' + md5encode(stringtoHex(value)) + '';\n    //log(phpurl)\n    /*\n    let ckhtml = request(phpurl, {\n        headers: {\n            'User-Agent': PC_UA,\n            'Referer': 'https://www.subaibaiys.com/',\n        },\n        method: 'GET',\n        withHeaders: true\n    });\n    var Cookie = JSON.parse(ckhtml).headers[\"set-cookie\"].join(';') + 'myannoun=1';       \n    */\n    let ckhtml = fetchCookie(phpurl, {\n        headers: {\n            'User-Agent': PC_UA,\n            'Referer': 'https://www.subaibaiys.com/',\n        },\n        method: 'GET',\n        withHeaders: true\n    });\n    //log(ckhtml) \n    var Cookie = JSON.parse(ckhtml).join(';');\n    if (Cookie != getMyVar('sbb$cookie', '')) {\n        putMyVar('sbb$cookie', Cookie);\n        log('Cookie已更新: ' + Cookie);\n        refreshPage()\n    }\n    \n}"}],"title":"素白白.dr","author":"道长&壹隅","version":1,"type":"video","url":"hiker://empty##https://www.subaibaiys.com/movie_bt/page/fypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\n//const host = getMyVar('realUrl');\n//MY_URL=MY_URL.split('##')[1].replace('host',getMyVar('realUrl'));\nMY_URL = MY_URL.split('##')[1];\nvar d = [];\nvar getRangeColors = function() {       \n    return '#' + ('00000' + (Math.random() * 0x1000000 << 0).toString(16)).substr(-6);     \n}\nconst 分类颜色 = getRangeColors()\nconst 大类定位 = 'body&&.beautiful-taxonomy-filters-tax'\nconst 小类定位 = 'body&&a'\nconst 拼接分类 = ''\nconst 拼接定位 = ''\nconst 分类标题 = 'a&&Text'\nconst 分类链接 = 'a&&cat-url'\n\nlet true_url = getMyVar(MY_RULE.url, MY_URL)\nconst page = MY_PAGE\nif (parseInt(page) > 1) {\n    true_url = true_url + \"/page/\" + page;\n}\n//log(true_url)\n//var sbb$cookie = fetch('hiker://files/cache/sbb$cookie.txt');\n//log(\"sbb$cookie: \" + sbb$cookie)\nvar html = fetch(true_url, {\n    headers: {\n        'User-Agent': PC_UA,\n        'Referer': 'https://www.subaibaiys.com/',\n        'Cookie': getMyVar('sbb$cookie', '')\n    },\n    method: 'get'\n});\n//log(html)\neval(JSON.parse(request('hiker://page/btyz')).rule);\n//拼接静态首页分类\nif (parseInt(page) === 1) {\n    let jtsub = pdfa(html, '.navlist&&li:not(:matches(首页|公告|官方))');\n    jtsub.forEach((item) => {\n        let title = pdfh(item, \"a&&Text\");\n        let url = pd(item, \"a&&href\");\n        d.push({\n            title: true_url === url ? '♥' + '““””<b><span style=\"color: ' + 分类颜色 + '\">' + title + '</span></b>' : title,\n            url: $(url + '#noLoading#').lazyRule(() => {\n                clearMyVar(MY_RULE.title)\n                putMyVar(MY_RULE.url, input)\n                refreshPage(true)\n                return \"hiker://empty\"\n            }),\n            col_type: 'scroll_button',\n        })\n    })\n    d.push({\n        col_type: \"blank_block\"\n    });\n}\n//动态分类\neval(JSON.parse(request('hiker://page/dt')).rule);\n\nconst list = pdfa(html, '.bt_img&&ul&&li')\nlist.forEach(item => {  \n    var desc = pdfh(item, '.jidi||.qb||.rating&&Text');    \n    d.push({\n        title: pdfh(item, 'h3&&Text'),\n        desc: desc,\n        img: pd(item, 'img&&data-original') + \"@Referer=\",\n        url: pd(item, 'a&&href') + '#immersiveTheme#',\n        col_type: 'movie_3_marquee',\n    })\n})\nsetResult(d);","searchFind":"js:\nvar d = [];\nMY_URL = MY_URL.split('##')[1];\nvar html = request(MY_URL, {\n    headers: {\n        'User-Agent': PC_UA,\n        //'Referer': MY_URL,\n        'Cookie': getMyVar('sbb$cookie','')\n    },\n    method: 'get'\n});\neval(JSON.parse(request('hiker://page/btyz')).rule);\nvar list = pdfa(html, '.search_list&&ul&&li');\nfor (let i in list) {\n    let desc = pdfh(list[i], '.jidi||.qb||.rating||.nostag&&Text');\n    d.push({\n        title: pdfh(list[i], 'h3&&Text'),\n        url: pd(list[i], 'a&&href'),        \n        content: pdfh(list[i], '.inzhuy&&Text'),\n        desc: desc,\n        pic_url: pd(list[i], 'img&&data-original'),\n        col_type: \"movie_3\"\n    });\n}\nsetResult(d);","search_url":"hiker://empty##https://www.subaibaiys.com/grabble?q=**&f=_all&p=fypage","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nMY_URL = MY_URL.split('#')[0]\nvar html = request(MY_URL, {\n    headers: {\n        'User-Agent': PC_UA,\n        'Referer': MY_URL,\n        'Cookie': getMyVar('sbb$cookie')\n    },\n    method: 'get'\n});\neval(JSON.parse(request('hiker://page/btyz')).rule);\n\nd.push({\n    title: pdfh(html, '.moviedteail_list&&li,3&&Text') + \"\\n\" + pdfh(html, '.moviedteail_list&&li&&Text') + \"\\n\" + pdfh(html, '.moviedteail_list&&li,5&&Text'),\n    url: MY_URL,\n    col_type: \"movie_1_vertical_pic_blur\",\n    desc: pdfh(html, '.moviedteail_list&&li,1&&Text') + \"\\n\" + pdfh(html, '.moviedteail_list&&li,2&&Text') + \"\\n\" + pdfh(html, '.moviedteail_list&&li,7&&Text'),\n    pic_url: pd(html, '.dyxingq&&img&&src') + \"@Referer=\"\n});\nlet contents = pdfh(html, '.yp_context&&Html');\nd.push({\n    title: '‘‘’’<font color=\"#098AC1\">剧情简介</font>',\n    desc: '‘‘’’<font color=\"\">' + contents.substr(0, 100) + '</font>' + '<small><font color=\"red\">详情</font></small>',\n    col_type: 'text_1',\n    extra: {\n        //lineVisible: false\n    },\n    url: $().rule((text) => {\n        setResult([{\n            title: text,\n            col_type: 'long_text',\n        }])\n    }, contents)\n});\n\nvar playlist = pdfa(html, \".paly_list_btn&&a\");\n\nvar icon_s = 'http://82.156.222.77/weisyr/icon/';\nif (getMyVar('顺序', '正序') == '正序') {\n    var avatar = icon_s + '正序.svg';\n    var ordtext = \"★正序↓\";\n} else {\n    var avatar = icon_s + '反序.svg';\n    var ordtext = \"☆逆序↑\";\n}\n\neval(JSON.parse(request('hiker://page/lazy')).rule);\n\nfunction setLists(list) {\n    d.push({\n        title: '‘‘’’<span style=\"color:#098AC1\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + ordtext + '</small>',\n        url: $('#noLoading#').lazyRule(() => {\n            if (getMyVar('顺序', '正序') == '逆序') {\n                putMyVar('顺序', '正序');\n            } else {\n                putMyVar('顺序', '逆序');\n            }\n            refreshPage(true);\n            return 'toast://已切换顺序为:' + getMyVar('顺序', '正序')\n        }),\n        col_type: 'text_center_1'\n    })\n\n    if (getMyVar('顺序', '正序') == '正序') {\n        try {\n            for (let it of list) {\n                d.push({\n                    title: pdfh(it, 'a&&Text'),\n                    url: pd(it, 'a&&href') + lazy,\n                    col_type: 'text_3'\n                });\n\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        list = list.reverse();\n        try {\n            for (let it of list) {\n                d.push({\n                    title: pdfh(it, 'a&&Text') + lazy,\n                    url: pd(it, 'a&&href'),\n                    col_type: 'text_3'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetLists(playlist);\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"/*\nlet url = pdfh(request(\"https://subaibai.vip/\"),\"ul&&li&&a&&href\");\n//log(nhost)\nputMyVar('realUrl',url);\n*/","pages":"[{\"col_type\":\"movie_3\",\"name\":\"动态分类\",\"path\":\"dt\",\"rule\":\"const empty = \\\"hiker://empty\\\"\\nvar fhtml = request(\\\"https://www.subaibaiys.com/movie_bt/\\\", {\\n    headers: {\\n        'User-Agent': PC_UA,\\n        'Referer': 'https://www.subaibaiys.com/',\\n        'Cookie': getMyVar('sbb$cookie','')\\n    },\\n    method: \\\"get\\\"\\n})\\ntry {\\n    var categories = pdfa(fhtml, 大类定位).concat(pdfa(fhtml, 拼接分类))\\n} catch (e) {\\n    var categories = pdfa(fhtml, 大类定位)\\n}\\n\\nlet init_cate = []\\n\\nfor (let i = 0; i < 20; i++) {\\n    init_cate.push(\\\"0\\\")\\n}\\n\\nconst fold = getMyVar(MY_RULE.group, \\\"0\\\")\\n\\nif (parseInt(page) === 1) {\\n    /*\\n    d.push({\\n        title: \\\"🔍\\\",\\n        url: $.toString(() => {\\n            putVar(\\\"Mykey\\\", input);\\n            refreshPage(true)\\n        }),\\n           desc: \\\"搜你想看的影视、剧集、动漫等...\\\",\\n           col_type: \\\"input\\\",\\n        extra: {\\n            defaultValue: getVar(\\\"Mykey\\\")\\n        }\\n    });\\n    */\\n\\n    d.push({\\n        title: fold === '1' ? '““””<b><span style=\\\"color: #19B89D\\\">: (</span></b>' : '““””<b><span style=\\\"color: #910113\\\">: )</span></b>',\\n        url: $().lazyRule((fold) => {\\n            putMyVar(MY_RULE.group, fold === '1' ? '0' : '1');\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\"\\n        }, fold),\\n        col_type: 'scroll_button',\\n    })\\n\\n    categories.forEach((category, index) => {\\n        let sub_categories = pdfa(category, 小类定位);\\n        if (index === 0) {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                if (title === \\\"全部\\\") {\\n                    let url = pd(item, \\\"a&&href\\\");                    \\n                    d.push({\\n                        title: true_url === url ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                        url: $(pd(item, 'a&&href') + '#noLoading#').lazyRule(() => {                                                       \\n                            putMyVar(MY_RULE.url, input)\\n                            refreshPage(true)\\n                            return \\\"hiker://empty\\\"\\n                        }),\\n                        col_type: 'scroll_button',\\n                    })\\n                } else { \\n                let url = pd(item, 'a&&cat-url');                   \\n                    d.push({\\n                        title: true_url === url ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                        url: $(pd(item, 'a&&cat-url') + '#noLoading#').lazyRule(() => {                            \\n                            putMyVar(MY_RULE.url, input)\\n                            refreshPage(true)\\n                            return \\\"hiker://empty\\\"\\n                        }),\\n                        col_type: 'scroll_button',\\n                    })\\n                }\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        } else if (fold === '1') {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n\\n                if (title === \\\"全部\\\") {\\n                    let url = pd(item, \\\"a&&href\\\");                    \\n                    d.push({\\n                        title: true_url === url ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                        url: $(pd(item, 'a&&href') + '#noLoading#').lazyRule(() => {\\n                                                       \\n                            putMyVar(MY_RULE.url, input)\\n                            refreshPage(true)\\n                            return \\\"hiker://empty\\\"\\n                        }),\\n                        col_type: 'scroll_button',\\n                    })\\n                } else { \\n                let url = pd(item, 'a&&cat-url');                   \\n                    d.push({\\n                        title: true_url === url ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                        url: $(pd(item, 'a&&cat-url') + '#noLoading#').lazyRule(() => {                            \\n                            putMyVar(MY_RULE.url, input)\\n                            refreshPage(true)\\n                            return \\\"hiker://empty\\\"\\n                        }),\\n                        col_type: 'scroll_button',\\n                    })\\n                }\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        }\\n    })\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"解析\",\"path\":\"lazy\",\"rule\":\"var lazy = $('').lazyRule(() => {\\n    var html = request(input, {\\n        headers: {\\n            'User-Agent': PC_UA,           \\n            'Referer': 'https://www.subaibaiys.com/',\\n            'Cookie': getMyVar('sbb$cookie', '')\\n        },\\n        method: 'get'\\n    });\\n    eval(JSON.parse(request('hiker://page/btyz')).rule);\\n    let js = pdfh(html, \\\"body&&script:not([src]),2&&Html\\\");\\n    eval(getCryptoJS());\\n    let data = js.match(/var[\\\\s\\\\S]*?\\\\)\\\\);/)[0];\\n    //log(data)\\n    eval(data.replace(/md5\\\\./g, 'CryptoJS\\\\.').replace('eval', 'var datas = '));\\n    //log(datas)\\n    let url = datas.split('url: \\\"')[1].split('\\\"')[0];\\n    //log(url)\\n    let playurl = request(url, {\\n        headers: {\\n            'User-Agent': PC_UA,\\n            'Referer': 'https://api.wangchuanxin.top/'\\n        },\\n        withHeaders: true\\n    })\\n    let playurll = JSON.parse(playurl).url;\\n    return playurll + '#isVideo=true#;{Referer@' + playurll + '}'\\n    //return playurl + '#isVideo=true#;{Referer@https://www.subaibaiys.com}'\\n});\"},{\"col_type\":\"movie_3\",\"name\":\"滑动验证\",\"path\":\"yz\",\"rule\":\"//滑动验证(来自墙佬)\\nfunction stringtoHex(acSTR) {\\n    var val = \\\"\\\";\\n    for (var i = 0; i <= acSTR.length - 1; i++) {\\n        var str = acSTR.charAt(i);\\n        var code = str.charCodeAt();\\n        val += parseInt(code) + 1\\n    };\\n    return val\\n};\\n\\nfunction md5encode(word) {\\n    eval(getCryptoJS());\\n    return CryptoJS.MD5(word).toString()\\n};\\n\\nfunction bypass(html) {\\n    if (html.indexOf('滑动验证') > -1) {\\n        let jsp = parseDom(html, 'script&&src');\\n        let jsf = request(jsp);\\n        eval(jsf.match(/key=\\\"[^\\\\\\\"]+\\\",value=\\\"[^\\\\\\\"]+\\\"/)[0]);\\n        eval(\\\"let url='https://www.subaibaiys.com'+\\\" + jsf.match(/\\\"complete\\\",function\\\\(\\\\)\\\\{c\\\\.get\\\\(([^,]+),/)[1]);\\n        putMyVar('subaibai$cookie', JSON.parse(fetchCookie(url, {\\n            headers: {\\n                'User-Agent': PC_UA\\n            }\\n        })).join(';'));\\n        return true;\\n    }\\n    return false;\\n\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"宝塔验证\",\"path\":\"btyz\",\"rule\":\"if (/人机验证/.test(html)) {\\n    var codeurl = 'https://www.subaibaiys.com' + pdfh(html, 'script&&src');\\n    //log(codeurl)\\n    let codehtml = request(codeurl, {\\n        headers: {\\n            'User-Agent': PC_UA,\\n            'Referer': 'https://www.subaibaiys.com/',\\n        },\\n        method: 'GET'\\n    });\\n    //log(codehtml)\\n    function stringtoHex(acSTR) {\\n        var val = \\\"\\\";\\n        for (var i = 0; i <= acSTR.length - 1; i++) {\\n            var str = acSTR.charAt(i);\\n            var code = str.charCodeAt();\\n            val += code\\n        };\\n        return val\\n    };\\n\\n    function md5encode(word) {\\n        return md5(word).toString()\\n    };\\n    //md5encode(stringtoHex(value))\\n    var key = codehtml.match(/var key=\\\"(.*?)\\\"/)[1];\\n    //log(key)\\n    var value = codehtml.match(/value=\\\"(.*?)\\\"/)[1];\\n    //log(value)\\n    //var phpurl = codehtml.match(/c\\\\.get\\\\(\\\"(.*?)\\\\+\\\"\\\",/)[1];\\n    var phpurl = 'https://www.subaibaiys.com' + codehtml.match(/c\\\\.get\\\\(\\\"(.*?)\\\"/)[1] + key + '&value=' + md5encode(stringtoHex(value)) + '';\\n    //log(phpurl)\\n    /*\\n    let ckhtml = request(phpurl, {\\n        headers: {\\n            'User-Agent': PC_UA,\\n            'Referer': 'https://www.subaibaiys.com/',\\n        },\\n        method: 'GET',\\n        withHeaders: true\\n    });\\n    var Cookie = JSON.parse(ckhtml).headers[\\\"set-cookie\\\"].join(';') + 'myannoun=1';       \\n    */\\n    let ckhtml = fetchCookie(phpurl, {\\n        headers: {\\n            'User-Agent': PC_UA,\\n            'Referer': 'https://www.subaibaiys.com/',\\n        },\\n        method: 'GET',\\n        withHeaders: true\\n    });\\n    //log(ckhtml) \\n    var Cookie = JSON.parse(ckhtml).join(';');\\n    if (Cookie != getMyVar('sbb$cookie', '')) {\\n        putMyVar('sbb$cookie', Cookie);\\n        log('Cookie已更新: ' + Cookie);\\n        refreshPage()\\n    }\\n    \\n}\"}]","icon":"https://www.subaibaiys.com/wp-content/uploads/2019/07/8486f5ef0a1060.ico"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"小熊影视.dr","author":"道长&情້໌ᮨ","version":1,"type":"video","url":"hiker://empty##https://www.xxys520.com/vodshow/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nevalPrivateJS('4ZFai6WdmDyH6oz/nhtVRLmKvoUg5wsLHMYcQURS3FcFSnRsh1drySmlUaq9i+3wo+Jg4/0WltZSeEhk515pl8ugSp/sJ0bZBw6cihfXZOTm6bWDcENtECiauhBo5b3DVfanahs/y0iZxcSL0PJAcQ==');\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nlet parStr=\".module-list&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/\\/(.*)--------(.*?)---.html/)[2];\ntrue_url = 获取正确链接();\nlog(true_url);\nlet cates=打造动态分类([{ \n        一级分类: 'body&&.library-box',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\nvar html=获取源码(MY_URL);\nif(/输入验证码/.test(html)){\n    showLoading(\"验证码识别中，请稍等\");\n    let vcode=获取验证码('https://www.xxys520.com/index.php/verify/index.html?');\n    let ret=提交验证码('https://www.xxys520.com/index.php/ajax/verify_check?type=search&verify='+vcode,false,false,{});\n    hideLoading();\n    if(/\"msg\"/.test(ret)&&/\"ok\"/.test(ret)){\n        html=获取源码(MY_URL);\n        if(/搜索时间间隔/.test(html)){\n            setResult([{\n                title:'搜索验证已自动跳过，等待3秒后下拉刷新',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n        }\n    }else{\n        setResult([{\n                title:'验证未通过，请尝试重新搜索',\n                col_type:'text_1',\n                url:'toast://疼！别点！'\n            }]);\n    }\n}\nlet parStr=\"body&&.module-search-item;.video-info&&h3&&Text;.lazyload&&data-src;a.video-serial&&Text;.video-info-header&&a.video-serial&&href;.video-info-item,-1&&Text\";\n一级(parStr,true,null,null,html);","search_url":"hiker://empty##https://www.xxys520.com/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={ title:'.video-info-header&&h1&&Text;.scroll-box&&Text;.video-info-items,2&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src', \n desc:'.video-info-main&&Text;.video-info-items,1&&Text;.video-info-items,2&&Text', \n content:'.video-info-content&&Text.js:input.replace(\"收起\",\"\")',\n tabs:'body&&.tab-item',\n lists:'body&&.sort-item,#id&&a',\n tab_id:'',\n};\nvar lazy=X5($.toString((PC_UA)=>{\n    eval(fy_bridge_app.getInternalJs());\n    try{\n    var urls = _getUrls();\n    //fy_bridge_app.log(JSON.stringify(urls));\n    let text=document.querySelector(\"body\").innerText;\n    //fba.log(text);\n    for(let i in urls){\n        if(urls[i].match(/(.*)\\.zip$|danmu\\/pic\\.php\\?url=|\\.m3u8|\\.mp4/)){\n            //return urls[i]+';{User-Agent@'+PC_UA+'}#isVideo=true#' \n            return urls[i]+'#isVideo=true#'\n        }\n    }\n    //return location.href\n    }catch(e){\n        fy_bridge_app.log('发生错误'+e.message);\n    }\n    try {\n   document.querySelector(\"a:contains(继续观看)\").click()\n    } catch (e) {}\n},PC_UA));\nvar 指定ua=PC_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var 验证码='https://www.xxys520.com/index.php/verify/index.html?';\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","icon":"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-03ee1f89-f0d4-49aa-a2b3-50e203514d8a/fd1f66d5-df77-43ea-8a1b-5b93f225a047.png"},{"last_chapter_rule":"","pageList":[],"title":"爱影视.dr","author":"道长&情້໌ᮨ","version":1,"type":"video","url":"hiker://empty##https://aiyingshis.com/vodshow/id/37/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL = MY_URL.split(\"##\")[1];\nrequire(config.模板);\nlet parStr=\"body&&.module-item;.lazyloaded&&alt;.lazyloaded&&data-src;.module-item-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(.*?).html/)[1];\ntrue_url = 获取正确链接(null,null,false).replace(\"/type/\", \"/show/\");\nlet cates=打造动态分类([{\n        一级分类: 'body&&.library-box',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\"body&&.module-search-item;h3&&Text;.lazyload&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true);","search_url":"https://aiyingshis.com/vodsearch/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.page-title&&Text;.video-info-items,3&&Text;.video-info-items,2&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src',\n desc:'.video-info-items,0&&Text;.video-info-items,1&&Text',\n content:'.video-info-item,5&&Text',\n tabs:'body&&.module-tab-item',\n lists:'body&&.module-blocklist,#id&&a',\n tab_id:'',\n};\nvar lazy=X5($.toString((PC_UA)=>{\n    eval(fy_bridge_app.getInternalJs());\n    try{\n    var urls = _getUrls();\n    //fy_bridge_app.log(JSON.stringify(urls));\n    let text=document.querySelector(\"body\").innerText;\n    //fba.log(text);\n    for(let i in urls){\n        if(urls[i].match(/(.*)\\.zip$|danmu\\/pic\\.php\\?url=|\\.m3u8|\\.mp4/)){\n            //return urls[i]+';{User-Agent@'+PC_UA+'}#isVideo=true#' \n            return urls[i]+'#isVideo=true#'\n        }\n    }\n    //return location.href\n    }catch(e){\n        fy_bridge_app.log('发生错误'+e.message);\n    }\n    try {\n   document.querySelector(\"a:contains(继续观看)\").click()\n    } catch (e) {}\n},PC_UA));\nvar 指定ua=PC_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","proxy":"","icon":"http://i-3.yiwan.com/2021/9/24/ef099fcf-abda-455d-b4ae-a7da1e73725a.png?width=192&height=192"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"友播TV.dr","author":"道长&情້໌ᮨ","version":1,"type":"video","url":"hiker://empty##https://www.youbotv.cn/vodshow/1--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".module-list&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/\\/(.*)--------(.*?)---.html/)[2];\ntrue_url = 获取正确链接();\nlog(true_url);\nlet cates=打造动态分类([{ \n        一级分类: 'body&&.library-box',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-search-item;.video-info&&h3&&Text;.lazyload&&data-src;a.video-serial&&Text;.video-info-header&&a.video-serial&&href;.video-info-item,-1&&Text\";\n一级(parStr,true);","search_url":"https://www.youbotv.cn/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={ title:'.video-info-header&&h1&&Text;.scroll-box&&Text;.video-info-items,2&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src', \n desc:'.video-info-main&&Text;.video-info-items,1&&Text;.video-info-items,2&&Text', \n content:'.video-info-content&&Text.js:input.replace(\"收起\",\"\")',\n tabs:'body&&.tab-item',\n lists:'body&&.sort-item,#id&&a',\n tab_id:'',\n};\nvar lazy=X5($.toString((PC_UA)=>{\n    eval(fy_bridge_app.getInternalJs());\n    try{\n    var urls = _getUrls();\n    //fy_bridge_app.log(JSON.stringify(urls));\n    let text=document.querySelector(\"body\").innerText;\n    //fba.log(text);\n    for(let i in urls){\n        if(urls[i].match(/(.*)\\.zip$|danmu\\/pic\\.php\\?url=|\\.m3u8|\\.mp4/)){\n            //return urls[i]+';{User-Agent@'+PC_UA+'}#isVideo=true#' \n            return urls[i]+'#isVideo=true#'\n        }\n    }\n    //return location.href\n    }catch(e){\n        fy_bridge_app.log('发生错误'+e.message);\n    }\n    try {\n   document.querySelector(\"a:contains(继续观看)\").click()\n    } catch (e) {}\n},PC_UA));\nvar 指定ua=PC_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","proxy":"","icon":"https://www.youbotv.cn/upload/mxcms/20220218-1/572c640ad257b564a1e9a2042379e120.png"},{"last_chapter_rule":"","pageList":[],"title":"神马电影网.dr","author":"道长&情້໌ᮨ","version":1,"type":"video","url":"hiker://empty##https://www.6080x.cc/list/1-fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href\";\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/-(.*?).html/)[1];\n//log('页码' +page)\ntrue_url = 获取正确链接();\n//log(true_url)\nlet cates=打造动态分类([{\n        一级分类: '.stui-header__menu',\n        子分类: 'body&&a:not(:matches(首页))',\n        \n    },{\n        一级分类: 'body&&#screenbox&&.clearfix',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nMY_URL=MY_URL.split('##')[1];\n//log(MY_URL);\nrequire(config.模板);\nlet yzm_id='cookie.555';\nif(getVar(yzm_id,'')&&!getMyVar('cookie','')){\n putMyVar('cookie',getVar(yzm_id));\n//clearVar(yzm_id);\n}\nlet cookie=getVar(yzm_id,'')||getMyVar('cookie');\nvar html=获取源码(MY_URL,'','',cookie);\n//log('555影视cookie:'+cookie);\n//log(html);\nif(/验证后查看搜索结果/.test(html)){\n    道长验证码(null,MY_URL,'',yzm_id);\n}else{\n    parStr=\".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href;\";\n一级(parStr,true,null,null,html);\n}","search_url":"hiker://empty##https://www.6080x.cc/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: '.h1.title&&Text;p.data,4&&Text',\n    img: '.lazyload&&data-src',\n    url: '.lazyload&&data-src',\n    desc:'p.data,0&&Text;p.data,1&&Text;p.data,2&&Text',\n    content: '.detail-content&&Text.js:input.replace(\"收起\",\"\")',\n    tabs: 'body&&.stui-pannel__head',\n    lists: 'body&&.stui-content__playlist,#id&&a',\n    tab_id: '',\n};\nvar lazy=X5($.toString((PC_UA)=>{\n    eval(fy_bridge_app.getInternalJs());\n    try{\n    var urls = _getUrls();\n    //fy_bridge_app.log(JSON.stringify(urls));\n    let text=document.querySelector(\"body\").innerText;\n    //fba.log(text);\n    for(let i in urls){\n        if(urls[i].match(/(.*)\\.zip$|danmu\\/pic\\.php\\?url=|\\.m3u8|\\.mp4/)){\n            //return urls[i]+';{User-Agent@'+PC_UA+'}#isVideo=true#' \n            return urls[i]+'#isVideo=true#'\n        }\n    }\n    //return location.href\n    }catch(e){\n        fy_bridge_app.log('发生错误'+e.message);\n    }\n    try {\n   document.querySelector(\"a:contains(继续观看)\").click()\n    } catch (e) {}\n},PC_UA));\nvar 指定ua=PC_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","proxy":"","icon":"https://www.6080x.cc/favicon.ico"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"融兴影视.dr","author":"道长&情້໌ᮨ","version":1,"type":"video","url":"hiker://empty##https://www.rongxingvr.cn/vodshow/38--------fypage---.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\n依赖检测();\nlet parStr=\".module-list&&.module-item;a&&title;img&&data-src;.module-item-text&&Text;a&&href\";\nvar page = MY_PAGE;\ntrue_url = 获取正确链接();\n//log(true_url);\nlet cates=打造动态分类([{ \n        一级分类: 'body&&.library-box',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-search-item;.video-info&&h3&&Text;.lazyload&&data-src;a.video-serial&&Text;.video-info-header&&a.video-serial&&href;.video-info-item,-1&&Text\";\n一级(parStr,true);","search_url":"https://www.rongxingvr.cn/vodsearch/**----------fypage---.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.video-info-header&&h1&&Text;.video-info-items,3&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src',\n desc:'.video-info-items,0&&Text;.video-info-items,1&&Text;.video-info-items,2&&Text',\n content:'.vod_content&&Text.js:input.replace(\"收起\",\"\")',\n tabs:'body&&.tab-item',\n lists:'body&&.sort-item,#id&&a',\n tab_id:'',\n};\nvar lazy=X5($.toString((PC_UA)=>{\n    eval(fy_bridge_app.getInternalJs());\n    try{\n    var urls = _getUrls();\n    //fy_bridge_app.log(JSON.stringify(urls));\n    let text=document.querySelector(\"body\").innerText;\n    //fba.log(text);\n    for(let i in urls){\n        if(urls[i].match(/(.*)\\.zip$|danmu\\/pic\\.php\\?url=|\\.m3u8|\\.mp4/)){\n            //return urls[i]+';{User-Agent@'+PC_UA+'}#isVideo=true#' \n            return urls[i]+'#isVideo=true#'\n        }\n    }\n    //return location.href\n    }catch(e){\n        fy_bridge_app.log('发生错误'+e.message);\n    }\n    try {\n   document.querySelector(\"a:contains(继续观看)\").click()\n    } catch (e) {}\n},PC_UA));\nvar 指定ua=PC_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","proxy":"","icon":"https://www.rongxingvr.cn/upload/mxcms/20220120-1/3f67f0861676de57d959a45c4dcfa777.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"奈菲影院.dr","author":"道长&情້໌ᮨ","version":1,"type":"video","url":"hiker://empty##https://www.1985.one/vodshow/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL = MY_URL.split(\"##\")[1];\nrequire(config.模板);\nlet parStr=\"body&&.module-item;.lazyloaded&&alt;.lazyloaded&&data-src;.module-item-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(.*?).html/)[1];\ntrue_url = 获取正确链接(null,null,false).replace(\"/type/\", \"/show/\");\nlet cates=打造动态分类([{\n        一级分类: 'body&&.library-box',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\"body&&.module-search-item;h3&&Text;.lazyload&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true);","search_url":"https://www.1985.one/vodsearch/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.page-title&&Text;.video-info-items,3&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src',\n desc:'.video-info-items,0&&Text;.video-info-items,1&&Text;.video-info-items,2&&Text',\n content:'.video-info-item,5&&Text',\n tabs:'body&&.module-tab-item',\n lists:'body&&.module-blocklist,#id&&a',\n tab_id:'',\n};\nvar lazy=X5($.toString((PC_UA)=>{\n    eval(fy_bridge_app.getInternalJs());\n    try{\n    var urls = _getUrls();\n    //fy_bridge_app.log(JSON.stringify(urls));\n    let text=document.querySelector(\"body\").innerText;\n    //fba.log(text);\n    for(let i in urls){\n        if(urls[i].match(/(.*)\\.zip$|danmu\\/pic\\.php\\?url=|\\.m3u8|\\.mp4/)){\n            //return urls[i]+';{User-Agent@'+PC_UA+'}#isVideo=true#' \n            return urls[i]+'#isVideo=true#'\n        }\n    }\n    //return location.href\n    }catch(e){\n        fy_bridge_app.log('发生错误'+e.message);\n    }\n    try {\n   document.querySelector(\"a:contains(继续观看)\").click()\n    } catch (e) {}\n},PC_UA));\nvar 指定ua=PC_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","proxy":"","icon":"https://img1.ali213.net/shouyou/cover/f/10375321.jpg?1642295938"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"奈落影院.dr","author":"道长&情້໌ᮨ","version":1,"type":"video","url":"hiker://empty##https://newfii.com/index.php/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL = MY_URL.split(\"##\")[1];\nrequire(config.模板);\nlet parStr=\"body&&.module-item;.lazyloaded&&alt;.lazyloaded&&data-src;.module-item-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(.*?).html/)[1];\ntrue_url = 获取正确链接(null,null,false).replace(\"/type/\", \"/show/\");\nlet cates=打造动态分类([{\n        一级分类: 'body&&.library-box',\n        子分类: 'body&&a:not(:matches(4K专区片库))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nparStr=\"body&&.module-search-item;.video-info&&h3&&Text;.lazyload&&data-src;a.video-serial&&Text;.video-info-header&&a.video-serial&&href;.video-info-item,-1&&Text\";\n一级(parStr,true);","search_url":"https://newfii.com/index.php/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.video-info-header&&h1&&Text;.video-info-items,3&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src',\n desc:'.video-info-items,0&&Text;.video-info-items,1&&Text;.video-info-items,2&&Text',\n content:'p&&Text.js:input.replace(\"收起\",\"\")',\n tabs:'body&&.tab-item',\n lists:'body&&.sort-item,#id&&a',\n tab_id:'',\n};\nvar lazy=X5($.toString((PC_UA)=>{\n    eval(fy_bridge_app.getInternalJs());\n    try{\n    var urls = _getUrls();\n    //fy_bridge_app.log(JSON.stringify(urls));\n    let text=document.querySelector(\"body\").innerText;\n    //fba.log(text);\n    for(let i in urls){\n        if(urls[i].match(/(.*)\\.zip$|danmu\\/pic\\.php\\?url=|\\.m3u8|\\.mp4/)){\n            //return urls[i]+';{User-Agent@'+PC_UA+'}#isVideo=true#' \n            return urls[i]+'#isVideo=true#'\n        }\n    }\n    //return location.href\n    }catch(e){\n        fy_bridge_app.log('发生错误'+e.message);\n    }\n    try {\n   document.querySelector(\"a:contains(继续观看)\").click()\n    } catch (e) {}\n},PC_UA));\nvar 指定ua=PC_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","proxy":"","icon":"https://img.youxi369.com/down/logo/202110/1634190897zdf7.jpg"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"hwj影视.dr","author":"道长&情້໌ᮨ","version":1,"type":"video","url":"hiker://empty##https://hwjyingshi.xyz/vod/show/id/1/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nMY_URL = MY_URL.split(\"##\")[1];\nrequire(config.模板);\nlet parStr=\"body&&.module-item;.lazyloaded&&alt;.lazyloaded&&data-src;.module-item-text&&Text;a&&href\";\n//var true_url = getMyVar('header.url', MY_URL);\nvar page = MY_URL.match(/page\\/(.*?).html/)[1];\ntrue_url = 获取正确链接(null,null,false).replace(\"/type/\", \"/show/\");\nlet cates=打造动态分类([{\n        一级分类: 'body&&.library-box',\n        子分类: 'body&&a:not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\"body&&.module-search-item;h3&&Text;.lazyload&&data-src;.video-info&&a&&Text;a,1&&href;.video-info-main&&.video-info-item,2&&Text\";\n一级(parStr,true);","search_url":"https://hwjyingshi.xyz/vod/search/page/fypage/wd/**.html","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'.page-title&&Text;.video-info-items,3&&Text;.video-info-items,4&&Text',\n img:'.lazyload&&data-src',\n url:'.lazyload&&data-src',\n desc:'.video-info-items,0&&Text;.video-info-items,1&&Text;.video-info-items,2&&Text',\n content:'.video-info-item,5&&Text',\n tabs:'body&&.module-tab-item',\n lists:'body&&.module-blocklist,#id&&a',\n tab_id:'',\n};\nvar lazy=X5($.toString((PC_UA)=>{\n    eval(fy_bridge_app.getInternalJs());\n    try{\n    var urls = _getUrls();\n    //fy_bridge_app.log(JSON.stringify(urls));\n    let text=document.querySelector(\"body\").innerText;\n    //fba.log(text);\n    for(let i in urls){\n        if(urls[i].match(/(.*)\\.zip$|danmu\\/pic\\.php\\?url=|\\.m3u8|\\.mp4/)){\n            //return urls[i]+';{User-Agent@'+PC_UA+'}#isVideo=true#' \n            return urls[i]+'#isVideo=true#'\n        }\n    }\n    //return location.href\n    }catch(e){\n        fy_bridge_app.log('发生错误'+e.message);\n    }\n    try {\n   document.querySelector(\"a:contains(继续观看)\").click()\n    } catch (e) {}\n},PC_UA));\nvar 指定ua=PC_UA;\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","proxy":"","icon":"https://imgo.hackhome.com/img2021/11/29/9/314597352_APP.png"},{"last_chapter_rule":"","pageList":[],"title":"证书查询","author":"道长","version":2,"type":"tool","url":"hiker://empty##","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d=[];\nlet seachApi = 'http://webdata.cqccms.com.cn/webdata/query/ZYCerti.do';\nlet imgApi = 'http://webdata.cqccms.com.cn/webdata/ImagepassController/imagePass.do';\nlet ocr_api = 'http://ocr.nokia.press/dz/api/ocr';\nlet hex_api = 'http://ocr.nokia.press/dz/api/hex2img';\nif(!getMyVar('cookie','')) {//\n    let cookie = JSON.parse(fetchCookie(seachApi, {headers: {\"User-Agent\": PC_UA}}))[0].split(';')[0];\n    putMyVar('cookie',cookie);\n    log('获得初始化cookie:'+cookie);\n}\nlet hex = fetch(imgApi,{\n    //withHeaders:true,\n    toHex:true,\n    headers:{\n        'User-Agent':PC_UA,\n        'Cookie':getMyVar('cookie',''),\n    }\n});\n//let bytes = hexToBytes(hex);\n//log(bytes);\nlet ret = request(ocr_api, {\n    headers: {\n        // 'content-type': 'application/json',\n        'content-type': 'application/x-www-form-urlencoded',\n    },\n    // body: JSON.stringify(data),\n    body: 'hex='+hex,\n    method: 'POST'\n});\nlet yzm = JSON.parse(ret).ret;\nputMyVar('yzm',yzm);\n// log('yzm:'+yzm);\nd.push({\n    title:'验证码图片:'+yzm,\n    col_type:'pic_1_full',\n    pic_url:hex_api+'?hex='+hex,\n    url:$('#noLoading#').lazyRule(()=>{\n        refreshPage(false);\n        return 'hiker://empty'\n    })\n});\nd.push({\n    title: 'cookie',\n    desc:getMyVar('cookie',''),\n    col_type:'text_1',\n    url:$(getMyVar('cookie',''),'填写网站的cookie|若清空下次刷新自动获取').input(()=>{\n        putMyVar('cookie',input);\n        refreshPage(false);\n        return 'hiker://empty'\n    })\n});\nd.push({\n    title: '验证码:'+yzm,\n    desc:ret,\n    col_type:'text_1',\n    url:$(getMyVar('yzm',''),'填写网站的验证码').input(()=>{\n        putMyVar('yzm',input);\n        updateItem({title: '验证码:'+input, extra: {id: 'yzm'}});\n        // refreshPage(false);\n        return 'hiker://empty'\n    }),\n    extra: {\n        id:'yzm'\n    }\n});\nlet options = [{k:'证书编号',v:'certinum'},{k:'工厂编号',v:'faccode'},{k:'申请人',v:'appname'},{k:'制造商',v:'manuname'},{k:'生产厂',v:'facname'},\n    {k:'产品名称',v:'product'},{k:'产品型号',v:'model'},{k:'模糊查询',v:'all'}\n];\nlet ops = options.map(it=>it.k===getMyVar('soption','产品名称')?'👉'+it.k:it.k);\nd.push({\n    title:'查询条件:'+getMyVar('soption','产品名称'),\n    url:$(ops,2,'请选择查询条件').select(()=>{\n        input = input.replace(/👉/g,'');\n        log(input);\n        putMyVar('soption',input);\n        refreshPage(false);\n        return 'hiker://empty'\n    }),\n    col_type:'text_1'\n});\nd.push({\n    title:'页数:'+getMyVar('page','1'),\n    col_type:'text_3',\n    url:$(getMyVar('page','1'),'请输入').input(()=>{\n        putMyVar('page',input);\n        updateItem({title: '页数:'+input, extra: {id: 'page'}});\n        return 'hiker://empty'\n    }),\n    extra:{\n        id:\"page\"\n    }\n});\nd.push({\n    title:'上一页',\n    col_type:'text_3',\n    url:$('#noLoading#').lazyRule(()=>{\n        let now = parseInt(getMyVar('page','1'));\n        if(now>1){\n            now -= 1;\n            putMyVar('page',''+now);\n            updateItem({title: '页数:'+now, extra: {id: 'page'}});\n            return 'hiker://empty'\n        }else{\n            return 'toast://没有上一页了'\n        }\n    }),\n});\nd.push({\n    title:'下一页',\n    col_type:'text_3',\n    url:$('#noLoading#').lazyRule(()=>{\n        let now = parseInt(getMyVar('page','1'));\n        now += 1;\n        putMyVar('page',''+now);\n        updateItem({title: '页数:'+now, extra: {id: 'page'}});\n        return 'hiker://empty'\n    }),\n});\nd.push({\n    title: '查询',\n    url: $.toString((seachApi,options)=>{\n        let skey = encodeStr(getMyVar('searchKey','道路灯具'), 'GBK');\n        let type_idex = options.findIndex(it=>it.k===getMyVar('soption','产品名称'));\n        let type = type_idex>-1?options[type_idex].v:'product';\n        log(`${getMyVar('searchKey','')}搜索关键字编码结果:${skey}`);\n        let data = {\n            // keyword:skey,\n            keyword: getMyVar('searchKey','道路灯具'),\n            _h_select_chaxuntype: type,\n            chaxuntype: type,\n            imagePassword: getMyVar('yzm',''),\n            pageNumber: getMyVar('page','1'),\n            pageSize: 100,\n            sortColumns: null\n        };\n        log(data);\n        let formData = [];\n        for(let k in data){\n            formData.push(`${k}=${data[k]}`)\n        }\n        formData = formData.join('&');\n        log(formData);\n        let html = fetch(seachApi,{\n            body:formData,\n            headers:{\n                'User-Agent': PC_UA,\n                'Referer':'http://webdata.cqccms.com.cn',\n                'content-type': 'application/x-www-form-urlencoded;charset=GBK',\n                'Cookie':getMyVar('cookie'),\n            },\n            method: 'POST'\n        });\n        // log(html);\n        return $('hiker://empty').rule((html)=>{\n            let d = [];\n            addListener('onClose', $.toString(()=>{\n                refreshPage(false);//返回自动刷新\n            }));\n            if(/请输入验证码|验证码输入有误/.test(html)){\n                d.push({\n                    title:'验证码验证失败,请重试',\n                    col_type:'text_1'\n                });\n            }else if(/没有查询到数据/.test(html)){\n                d.push({\n                    title:'没有查询到数据,请重试.是否搜索关键词有误?',\n                    col_type:'text_1'\n                });\n            }else {\n                writeFile('hiker://files/cache/证书查询结果.html',html);\n                // d.push({\n                //     title: html,\n                //     col_type: 'rich_text'\n                // });\n                let trs = pdfa(html,'body&&.gridBody&&tbody&&tr');\n                let data = [];\n                for(let i in trs){\n                    let tr = trs[i];\n                    tr = '<table>'+tr+'</table>';\n                    if(i===0){\n                        log(tr);\n                    }\n                    data.push({\n                        '序号':pdfh(tr,'td,0&&Text'),\n                        '证书编号':pdfh(tr,'td,1&&Text'),\n                        '申请人':pdfh(tr,'td,2&&Text'),\n                        '制造商':pdfh(tr,'td,3&&Text'),\n                        '生产厂':pdfh(tr,'td,4&&Text'),\n                        '工厂编号':pdfh(tr,'td,5&&Text'),\n                        '产品':pdfh(tr,'td,6&&Text'),\n                        '型号':pdfh(tr,'td,7&&Text'),\n                        '标准':pdfh(tr,'td,8&&Text'),\n                        '发证日期':pdfh(tr,'td,9&&Text'),\n                        '证书截止日期':pdfh(tr,'td,10&&Text'),\n                        '证书状态':pdfh(tr,'td,11&&Text'),\n                        '证书状态变化时间':pdfh(tr,'td,12&&Text'),\n                        '原因':pdfh(tr,'td,13&&Text'),\n                        '附件':pdfh(tr,'td,14&&Text'),\n                    });\n                }\n                let name = pdfh(html,'.buttonLabel&&Text').trim()+'_'+getMyVar('searchKey','道路灯具');\n                d.push({\n                    title:'当前查询:'+name,\n                    desc:'查看结果',\n                    url:$('hiker://empty').rule((data)=>{\n                        let d=[];\n                        setPageTitle('本页结果');\n                        d.push({\n                            title: JSON.stringify(data),\n                            col_type: 'rich_text'\n                        });\n                        setResult(d);\n                    },data),\n                    col_type:'text_1',\n                });\n                d.push({\n                    title:'保存文件',\n                    col_type:\"text_3\",\n                    url:$('#noLoading#').lazyRule((data,name)=>{\n                        let path = `hiker://files/rules/dzHouse/tmp/${name}.json`;\n                        writeFile(path,JSON.stringify(data));\n                        return 'toast://已保存到:'+path\n                    },data,name)\n                });\n\n                d.push({\n                    title:'编辑文件',\n                    col_type:\"text_3\",\n                    url:$('#noLoading#').lazyRule((data,name)=>{\n                        let path = `hiker://files/rules/dzHouse/tmp/${name}.json`;\n                        if(!fileExist(path)) {\n                            writeFile(path, JSON.stringify(data));\n                        }\n                        return 'editFile://'+path\n                    },data,name)\n                });\n\n                d.push({\n                    title:'分享文件',\n                    col_type:\"text_3\",\n                    url:$('#noLoading#').lazyRule((data,name)=>{\n                        let path = `hiker://files/rules/dzHouse/tmp/${name}.json`;\n                        if(!fileExist(path)) {\n                            writeFile(path, JSON.stringify(data));\n                        }\n                        return 'openFile://'+path\n                    },data,name)\n                });\n            }\n            setResult(d);\n        },html)\n    },seachApi,options),\n    col_type: \"input\",\n    desc: \"输入需要查询的关键词\",\n    pic_url: \"\",\n    extra:{\n        defaultValue:getMyVar('searchKey','道路灯具'),\n        onChange:\"putMyVar('searchKey',input)\",\n        titleVisible: true,\n        textSize: 13,\n        type: \"textarea\",\n        height:2,\n    }\n});\nd.push({\n    title:'在线转换',\n    col_type:'text_2',\n    url:'https://uutool.cn/json2excel/'\n});\nd.push({\n    title:'复制MT路径',\n    col_type:'text_2',\n    url:$('#noLoading#').lazyRule(()=>{\n        copy(getPath('hiker://files/rules/dzHouse/tmp/').replace('file://',''));\n        return 'hiker://empty'\n    })\n});\nsetResult(d);","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/messy/22.svg"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"主页","path":"homeIndex","rule":"js:\nlet d=[];\nconst {color,small} = $.require(\"hiker://page/utiliy?rule=道长仓库Pro\");\nlet ver=MY_RULE.version;\nlet tver=ver?',版本:'+color(ver,\"#ff7000\"):'';\nd.push({\n    title:'小程序批量修改工具by道长'+tver,\n    col_type:'text_1',\n    desc:'输入小程序名称进行模糊搜索\\n点击可来个栗子,比如.dr',\n    url:$(\"#noLoading\").lazyRule(()=>{\n        putMyVar('searchName','.dr');\n        refreshPage(false);\n        return 'toast://栗子已经给你了,请点击搜索吧'\n    }),\n    extra:{\n        lineVisible:false\n    }\n});\nlet tips=\"道长出品,核心逻辑基于任务仓库。刷新按钮会重置已选并刷新规则列表。导入按钮等同于视界原生本地导入,千万记得导入要选择保留原规则。\";\nd.push({\n    title:\"🍱菜单\",\n    col_type:\"scroll_button\",\n    url:$(tips).confirm(()=>{})\n});\nd.push({\n    title:\"🔄刷新\",\n    col_type:\"scroll_button\",\n    url:$(\"#noLoading\").lazyRule(()=>{\n        initConfig({});\n        refreshPage(false);\n        return \"toast://已重新获取小程序，响应您的实时改动\"\n    })\n});\nd.push({\n    title:\"♻清除\",\n    col_type:\"scroll_button\",\n    url:$(\"#noLoading\").lazyRule(()=>{\n        clearItem(\"searchName\");\n        clearMyVar('searchName');\n        refreshPage(false);\n        return \"toast://已清除搜索记录\"\n    })\n});\nd.push({\n    title:\"📝修改\",\n    col_type:\"scroll_button\",\n    url:$().lazyRule(()=>{\n        let sel = storage0.getMyVar('rule_selected', []);\n        if(sel.length < 1){\n            return 'toast://啥都没选，修改个鸡毛~'\n        }\n        let rule = sel[0];\n        let allAttr = Object.keys(rule).filter((v) => (typeof(rule[v]) == 'string'));\n        if(!allAttr.includes('type')){\n            allAttr.unshift('type');\n        }\n        const {attrMap} = $.require(\"hiker://page/attr\");\n        allAttr=allAttr.filter(it=>!['firstHeader','pages','url','title'].includes(it));\n        allAttr=allAttr.map(it=>attrMap[it]||it);\n        return $(allAttr,2,'请选择要修改的属性').select(()=>{\n            const {attrMap2} = $.require(\"hiker://page/attr\");\n            let sel = storage0.getMyVar('rule_selected', []);\n            let rule = sel[0];\n            return $(rule[attrMap2[input]||input]||'','将已选小程序的属性【'+input+'】修改为(支持function):').input((attr)=>{\n                let sel = storage0.getMyVar('rule_selected', []);\n                let sel_titles = sel.map(it=>it.title);\n                let rules = config.rules;\n                if(/^function/.test(input.trim())){\n                    let js='var ff='+input.trim();\n                    //log(js);\n                    eval(js);// 定义功能 function(u){return u.replace('','')}\n                }\n                rules = rules.map((it)=>{\n                    if(sel_titles.includes(it.title)){//被选择了\n                        log(it.title+'属性'+attr+':'+it[attr]);\n                        if(typeof(ff)=='function'){\n                            it[attr]=ff(it[attr]);\n                        }else{\n                            it[attr]=input\n                        }\n                        return it\n                    }else{\n                        return it\n                    }\n                });\n                initConfig({\n                    rules:rules\n                });\n                refreshPage(false);\n                return 'toast://已将选中项目属性【'+attr+'】值修改为:'+input\n            },attrMap2[input])\n        })\n    })\n});\nd.push({\n    title:'📥导入',\n    col_type:\"scroll_button\",\n    url:$('#noLoading#').lazyRule(()=>{\n        let sel = storage0.getMyVar('rule_selected', []);\n        let sel_titles = sel.map(it=>it.title);\n        let rules = config.rules.filter(it=>sel_titles.includes(it.title));\n        if(rules.length<1){\n            return 'toast://没有已选择项目，无法导入'\n        }\n        let ruleHead = '海阔视界首页频道规则【道长仓库Pro】￥home_rule_url￥';\n        let rules_text = JSON.stringify(rules);\n        let url = 'hiker://files/rules/dzHouse/json/批处理.json';\n        writeFile(url,rules_text);\n        return 'rule://'+base64Encode(ruleHead+url)\n    })\n});\n/*\nd.push({\n    title:\"📥识别口令\",\n    col_type:\"scroll_button\",\n    url:$(\"{{clipboard}}\",\"自动识别剪切板内容或手动输入口令\").input(()=>{\n        let importUrl = 'rule://' + base64Encode(input);\n        return importUrl\n        //return \"toast://你输入的口令为\"+input\n    })\n});\n */\nd.push({\n    title: '搜索',\n    desc: \"小程序模糊名称,不区分大小写,或 首页链接|搜索链接|一级|搜索一级|二级|搜索二级|预处理,区分大小写\",\n    extra: {\n        onChange: \"putMyVar('searchName',input)\",\n        titleVisible: true,\n        type: \"textarea\",\n        height:2,\n        defaultValue:getItem('searchName','')||getMyVar('searchName')\n    },\n    url:$.toString(() => {\n        // 定义字符串替换全部函数\n        if(!getMyVar('searchName'))\n        {\n            return \"toast://你还没有输入名称呢\\n要想清空搜索记录请点击上方清除按钮\"\n        }\n        setItem(\"searchName\",getMyVar('searchName'));\n        clearMyVar(\"gp\");\n        refreshPage(false);\n        return \"hiker://empty\"\n    }),\n    col_type: \"input\",\n});\nfunction unique2(array){\n    return Array.from(new Set(array));\n}\nfunction strDeal(str){\n    str = str.split('');\n    str = str.filter(e => (e >= 0 && e <= 9) || (e >= 'a' && e <= 'z') || (e >= 'A' && e <= 'Z') || (e >= '\\u4e00' && e <= '\\u9fa5'));\n    str = str.join('');\n    return str\n}\n\nlet dl=[]; // 定义一个空数据列表用来装后面的数据\n// 由于涉及批量修改，需要本地有完整的小程序缓存，只留标题是不行的,要不然批量修改的时候要一堆fetch hiker://home@小程序名称\nlet rules=config.rules||JSON.parse(fetch(\"hiker://home\"));//获取海阔视界所有小程序\nif(!config.rules){//最好还是缓存一下,要不然每次请求太耗时了;\n    initConfig({\n        rules:rules\n    })\n}\nlet filterName=getItem('searchName','');// 搜索筛选名称\nlet groups=rules.map(it=>it.group||\"无分组\");\ngroups.unshift('全部');//把全部分组加上\ngroups=unique2(groups);//获取所有规则的分组列表自动去重\nlet nowGp = getMyVar(\"gp\",\"全部\");//获取当前分组\nlet groupbtn=groups.map((it)=>{//渲染分组筛选按钮\n    return {\n        title:it===nowGp?color(it,\"#5FB878\"):it,\n        col_type:\"scroll_button\",\n        url:$('#noLoading#').lazyRule((it)=>{\n            putMyVar(\"gp\",it);\n            refreshPage(false);\n            return \"hiker://empty\"\n        },it)\n    }\n});\nvar rule_filter = function (it){\n    let has_title = it.title.toLowerCase().includes(filterName.toLowerCase());\n    if(has_title){\n        return true\n    }\n    for(let k of ['url','search_url','find_rule','searchFind','detail_find_rule','sdetail_find_rule','preRule']){\n        if(it[k]&&it[k].includes(filterName)){\n            return true\n        }\n    }\n    return false\n}\nif(filterName){ // 搜索名称筛选\n    rules=rules.filter(rule_filter);\n}\n// 分组筛选\nif(nowGp===\"无分组\"){\n    rules=rules.filter(it=>!it.group);\n} else if(nowGp!==\"全部\"){\n    rules=rules.filter(it=>it.group===nowGp);\n}\n// 是否选中筛选\nlet data = storage0.getMyVar('rule_selected')||[];//获取已选择的规则\nlet data_title = data.map(it=>it.title); // 获取已选择规则的名称\nlet dx_filter = getItem('dx_filter','全部');\n// 筛选过滤\nif(dx_filter === '已选'){\n    rules = rules.filter(it=>data_title.includes(it.title));\n}else if(dx_filter=== '未选'){\n    rules = rules.filter(it=>!data_title.includes(it.title));\n}\nstorage0.putMyVar('rules_tmp_text',rules);//设置缓存变量\ndl=rules.map((it)=>{\n    // let text = JSON.stringify(it);\n    // text=base64Encode(text);\n    storage0.putMyVar(it.title,it);//设置缓存变量\n    return {\n         title:(Array.isArray(data_title)&&data_title.includes(it.title))?color(it.title,'#12b668'):it.title,\n       // title:(Array.isArray(data_title)&&data_title.includes(it.title))?'🟢'+it.title:it.title,\n        // url:'toast://功能开发中',\n        url:$('#noLoading#').lazyRule((title,color,dx_filter)=>{\n            // let it = JSON.parse(base64Decode(text));\n            let it = storage0.getMyVar(title);\n            let data = storage0.getMyVar('rule_selected')||[];//获取已选择的规则\n            let data_title = data.map(it=>it.title); // 获取已选择规则的名称\n            let sel = false;\n            let id = it.title; // 动态元素id\n            let selCnt = 0;\n            if(Array.isArray(data_title)){\n                if(data_title.includes(id)){\n                    // log('包含:'+id);\n                    data.splice(data_title.indexOf(id),1);\n                }else{\n                    data.push(it);\n                    sel = true;\n                }\n                selCnt = data.length;\n                storage0.putMyVar('rule_selected', data)\n            }else{\n                sel = true;\n                selCnt = 1;\n                storage0.putMyVar('rule_selected', [it])\n            }\n            let newTitle = sel?color(id,'#12b668'):id;\n            //let newTitle = sel?'🟢'+id:id;\n            updateItem(id,{\n                title:newTitle\n            });\n            updateItem('checked',{title: (dx_filter==='已选'?color('已选','#12b668'):'已选')+color(selCnt,'#ff7000')});\n            return 'hiker://empty'\n        },it.title,color,dx_filter),\n        group:it.group,\n        col_type:\"icon_4\",\n        desc:\"作者:\"+it.author+\",版本:\"+it.version,\n        pic_url:it.icon||\"https://cf-ipfs.com/ipfs/QmXxgDVAZLWhFxikrAFVPRZQuJ2uFae7syXhFubPwMwUiU\",\n        extra:{\n            id:it.title\n        }\n    }\n});\nlet op=[]; // 操作|筛选数组\nop.push({\n    title:'全选',\n    url:$('#noLoading#').lazyRule((color,dx_filter)=>{\n        let rules = storage0.getMyVar('rules_tmp_text');\n        storage0.putMyVar('rule_selected', rules);\n        rules.forEach(it=>{\n            let id = it.title;\n            updateItem({title: color(id,'#12b668'), extra: {id: id}});\n            //updateItem({title: '🟢'+it.title, extra: {id: id}});\n        });\n        updateItem('checked',{title: (dx_filter==='已选'?color('已选','#12b668'):'已选')+color(rules.length,'#ff7000')});\n        return 'hiker://empty'\n    },color,dx_filter),\n    col_type:'scroll_button'\n});\nop.push({\n    title:'全不选',\n    url:$('#noLoading#').lazyRule((color,dx_filter)=>{\n        // let rules = JSON.parse(getMyVar('rules_tmp_text'));\n        let rules = storage0.getMyVar('rules_tmp_text');\n        storage0.putMyVar('rule_selected', []);\n        rules.forEach(it=>{\n            let id = it.title;\n            updateItem({title: id, extra: {id: id}});\n        });\n        updateItem('checked',{title: (dx_filter==='已选'?color('已选','#12b668'):'已选')+color(0,'#ff7000')});\n        return 'hiker://empty'\n    },color,dx_filter),\n    col_type:'scroll_button'\n});\nop.push({\n    title:'反选',\n    url:$('#noLoading#').lazyRule((color,dx_filter)=>{\n        let rules = storage0.getMyVar('rules_tmp_text');\n        let oldSel = storage0.getMyVar('rule_selected', []);\n        function getDifferentData(arrA, arrB) {\n            return arrA.concat(arrB).filter(function (v, i, arr) {\n                let arr_titles = arr.map(it=>it.title);\n                // return arr.indexOf(v) === arr.lastIndexOf(v);\n                return arr_titles.indexOf(v.title) === arr_titles.lastIndexOf(v.title);\n            });\n        }\n        let newSel = getDifferentData(rules,oldSel);\n        storage0.putMyVar('rule_selected', newSel);\n        oldSel.forEach(it=>{\n            let id = it.title;\n            updateItem({title: id, extra: {id: id}});\n        });\n        newSel.forEach(it=>{\n            let id = it.title;\n            updateItem({title: color(id,'#12b668'), extra: {id: id}});\n            //updateItem({title: '🟢'+it.title, extra: {id: id}});\n        });\n        updateItem('checked',{title: (dx_filter==='已选'?color('已选','#12b668'):'已选')+color(newSel.length,'#ff7000')});\n        return 'hiker://empty'\n    },color,dx_filter),\n    col_type:'scroll_button'\n});\nop.push({\n    title:'🗑️删除',\n    url:$('#noLoading#').lazyRule(()=>{\n        let sel = storage0.getMyVar('rule_selected', []);\n        if(sel.length < 1){\n            return 'toast://啥都没选，删除个鸡毛~'\n        }\n        return $('确认删除已选择的:'+sel[0].title+'等'+sel.length+'条规则?').confirm(()=>{\n            let sel = storage0.getMyVar('rule_selected', []);\n            let rules=config.rules||JSON.parse(fetch(\"hiker://home\"));//获取海阔视界所有小程序\n            let sel_title = sel.map(it=>it.title); // 获取已选规则的标题\n            // 执行删除逻辑\n            rules = rules.filter(it=>!sel_title.includes(it.title)); // 筛选没有被删除的规则\n            // 保存规则\n            storage0.putMyVar('rule_selected', []);//删除完了清空选中项目\n            refreshPage(false);\n            return \"toast://已将〖\" + sel[0].title + \"〗等\"+sel.length+\"条规则删除\\n骗你的,视界没提供删除接口，删不了!\";\n        })\n    }),\n    col_type:'scroll_button'\n});\nop.push({\n    title:'📲分享',\n    url:$('#noLoading#').lazyRule(()=>{\n        let sel = storage0.getMyVar('rule_selected', []);\n        if(sel.length < 1){\n            return 'toast://啥都没选，分享个鸡毛~'\n        }\n        return $('确认分享已选择的:'+sel[0].title+'等'+sel.length+'条规则?').confirm(()=>{\n            let sel = storage0.getMyVar('rule_selected', []);\n            let rules=config.rules||JSON.parse(fetch(\"hiker://home\"));//获取海阔视界所有小程序\n            let sel_title = sel.map(it=>it.title); // 获取已选规则的标题\n            // 执行分享逻辑\n            rules = rules.filter(it=>sel_title.includes(it.title)); // 筛选选中的规则\n            // 保存规则\n            // storage0.putMyVar('rule_selected', []);//分享完了清空选中项目，先不清空，留着吧\n            let name = \"〖\"+sel_title[0]+'〗等'+sel_title.length+'个小程序';\n            let import_code=\"海阔视界规则分享，当前分享的是：小程序，无根树，花正清，不断荤腥不戒淫￥home_rule_v2￥base64://@\"+name+\"@\"+base64Encode(JSON.stringify(rules));\n            let pastes = getPastes();\n            let url = sharePaste(import_code,pastes.slice(-1)[0]);\n            let import_rule= url+\"\\n\\n小程序合集：\"+name;\n            copy(import_rule);\n            refreshPage(false);\n            writeFile('hiker://files/rules/dzHouse/ruleCache/批处理.json',JSON.stringify(rules));\n            return \"toast://已将\"+name+\"分享到剪切板口令!\\n并在道德经订阅目录生成了批处理.json文件\";\n        })\n    }),\n    col_type:'scroll_button'\n});\nop.push({\n    title:'筛选 '+color(rules.length,'#ff7000'),\n    url:'toast://前面按钮是操作，后面按钮是筛选',\n    col_type:'text_4'\n});\nop.push({\n    title:dx_filter==='全部'?color('全部','#12b668'):'全部',\n    url:$('#noLoading#').lazyRule(()=>{\n        setItem('dx_filter','全部');\n        refreshPage(false);\n        return 'hiker://empty'\n    }),\n    col_type:'text_4'\n});\nop.push({\n    title:(dx_filter==='已选'?color('已选','#12b668'):'已选')+color(data_title.length,'#ff7000'),\n    url:$('#noLoading#').lazyRule(()=>{\n        setItem('dx_filter','已选');\n        refreshPage(false);\n        return 'hiker://empty'\n    }),\n    col_type:'text_4',\n    extra:{\n        id:'checked'\n    }\n});\nop.push({\n    title:dx_filter==='未选'?color('未选','#12b668'):'未选',\n    url:$('#noLoading#').lazyRule(()=>{\n        setItem('dx_filter','未选');\n        refreshPage(false);\n        return 'hiker://empty'\n    }),\n    col_type:'text_4'\n});\nop.push({\n    col_type:\"blank_block\",\n});\nop = op.concat(groupbtn); // 连接分组滚动按钮\ndl=op.concat(dl); // 操作筛选+ 分组筛选 + 元素点击按钮\nd = d.concat(dl); // 连接上部分搜索等按钮\nsetResult(d);"},{"col_type":"movie_3","name":"属性字典","path":"attr","rule":"js:\nvar attrMap={\nfirstHeader:'',\nlast_chapter_rule:'最新章节解析',\ntitle:'小程序名称',\nauthor:'作者',\ntype:'小程序类别',\nurl:'小程序链接',\ncol_type:'显示样式',\nclass_name:'分类名称',\nclass_url:'分类替换词',\narea_name:'地区名称',\narea_url:'地区替换词',\nsort_name:'排序名称',\nsort_url:'排序替换词',\nyear_name:'年代名称',\nyear_url:'年代替换词',\nfind_rule:'解析规则',\nsearchFind:'搜索解析规则',\nsearch_url:'搜索链接',\ngroup:'小程序分组',\ndetail_col_type:'二级列表显示样式',\ndetail_find_rule:'二级列表解析规则',\nsdetail_col_type:'搜索二级列表显示样式',\nsdetail_find_rule:'搜索二级列表解析规则',\nua:'全局UA设备标志',\npreRule:'JS预处理',\npages:'子页面',\nicon:'图标'\n};\n//键值对反转\nfunction objReverse(obj){\n    var keys = Object.keys(obj);\n    var res = {};\n    keys.forEach((val) => {\n            res[obj[val]] = val;\n    });\n    return res\n}\n$.exports.attrMap=attrMap;\n$.exports.attrMap2=objReverse(attrMap);"}],"title":"批处理","author":"道长","version":11,"type":"tool","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"工具","year_url":"","find_rule":"js:\neval(JSON.parse(fetch('hiker://page/homeIndex')).rule);","searchFind":"","search_url":"","group":"#️⃣道长dr","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"主页\",\"path\":\"homeIndex\",\"rule\":\"js:\\nlet d=[];\\nconst {color,small} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\nlet ver=MY_RULE.version;\\nlet tver=ver?',版本:'+color(ver,\\\"#ff7000\\\"):'';\\nd.push({\\n    title:'小程序批量修改工具by道长'+tver,\\n    col_type:'text_1',\\n    desc:'输入小程序名称进行模糊搜索\\\\n点击可来个栗子,比如.dr',\\n    url:$(\\\"#noLoading\\\").lazyRule(()=>{\\n        putMyVar('searchName','.dr');\\n        refreshPage(false);\\n        return 'toast://栗子已经给你了,请点击搜索吧'\\n    }),\\n    extra:{\\n        lineVisible:false\\n    }\\n});\\nlet tips=\\\"道长出品,核心逻辑基于任务仓库。刷新按钮会重置已选并刷新规则列表。导入按钮等同于视界原生本地导入,千万记得导入要选择保留原规则。\\\";\\nd.push({\\n    title:\\\"🍱菜单\\\",\\n    col_type:\\\"scroll_button\\\",\\n    url:$(tips).confirm(()=>{})\\n});\\nd.push({\\n    title:\\\"🔄刷新\\\",\\n    col_type:\\\"scroll_button\\\",\\n    url:$(\\\"#noLoading\\\").lazyRule(()=>{\\n        initConfig({});\\n        refreshPage(false);\\n        return \\\"toast://已重新获取小程序，响应您的实时改动\\\"\\n    })\\n});\\nd.push({\\n    title:\\\"♻清除\\\",\\n    col_type:\\\"scroll_button\\\",\\n    url:$(\\\"#noLoading\\\").lazyRule(()=>{\\n        clearItem(\\\"searchName\\\");\\n        clearMyVar('searchName');\\n        refreshPage(false);\\n        return \\\"toast://已清除搜索记录\\\"\\n    })\\n});\\nd.push({\\n    title:\\\"📝修改\\\",\\n    col_type:\\\"scroll_button\\\",\\n    url:$().lazyRule(()=>{\\n        let sel = storage0.getMyVar('rule_selected', []);\\n        if(sel.length < 1){\\n            return 'toast://啥都没选，修改个鸡毛~'\\n        }\\n        let rule = sel[0];\\n        let allAttr = Object.keys(rule).filter((v) => (typeof(rule[v]) == 'string'));\\n        if(!allAttr.includes('type')){\\n            allAttr.unshift('type');\\n        }\\n        const {attrMap} = $.require(\\\"hiker://page/attr\\\");\\n        allAttr=allAttr.filter(it=>!['firstHeader','pages','url','title'].includes(it));\\n        allAttr=allAttr.map(it=>attrMap[it]||it);\\n        return $(allAttr,2,'请选择要修改的属性').select(()=>{\\n            const {attrMap2} = $.require(\\\"hiker://page/attr\\\");\\n            let sel = storage0.getMyVar('rule_selected', []);\\n            let rule = sel[0];\\n            return $(rule[attrMap2[input]||input]||'','将已选小程序的属性【'+input+'】修改为(支持function):').input((attr)=>{\\n                let sel = storage0.getMyVar('rule_selected', []);\\n                let sel_titles = sel.map(it=>it.title);\\n                let rules = config.rules;\\n                if(/^function/.test(input.trim())){\\n                    let js='var ff='+input.trim();\\n                    //log(js);\\n                    eval(js);// 定义功能 function(u){return u.replace('','')}\\n                }\\n                rules = rules.map((it)=>{\\n                    if(sel_titles.includes(it.title)){//被选择了\\n                        log(it.title+'属性'+attr+':'+it[attr]);\\n                        if(typeof(ff)=='function'){\\n                            it[attr]=ff(it[attr]);\\n                        }else{\\n                            it[attr]=input\\n                        }\\n                        return it\\n                    }else{\\n                        return it\\n                    }\\n                });\\n                initConfig({\\n                    rules:rules\\n                });\\n                refreshPage(false);\\n                return 'toast://已将选中项目属性【'+attr+'】值修改为:'+input\\n            },attrMap2[input])\\n        })\\n    })\\n});\\nd.push({\\n    title:'📥导入',\\n    col_type:\\\"scroll_button\\\",\\n    url:$('#noLoading#').lazyRule(()=>{\\n        let sel = storage0.getMyVar('rule_selected', []);\\n        let sel_titles = sel.map(it=>it.title);\\n        let rules = config.rules.filter(it=>sel_titles.includes(it.title));\\n        if(rules.length<1){\\n            return 'toast://没有已选择项目，无法导入'\\n        }\\n        let ruleHead = '海阔视界首页频道规则【道长仓库Pro】￥home_rule_url￥';\\n        let rules_text = JSON.stringify(rules);\\n        let url = 'hiker://files/rules/dzHouse/json/批处理.json';\\n        writeFile(url,rules_text);\\n        return 'rule://'+base64Encode(ruleHead+url)\\n    })\\n});\\n/*\\nd.push({\\n    title:\\\"📥识别口令\\\",\\n    col_type:\\\"scroll_button\\\",\\n    url:$(\\\"{{clipboard}}\\\",\\\"自动识别剪切板内容或手动输入口令\\\").input(()=>{\\n        let importUrl = 'rule://' + base64Encode(input);\\n        return importUrl\\n        //return \\\"toast://你输入的口令为\\\"+input\\n    })\\n});\\n */\\nd.push({\\n    title: '搜索',\\n    desc: \\\"小程序模糊名称,不区分大小写,或 首页链接|搜索链接|一级|搜索一级|二级|搜索二级|预处理,区分大小写\\\",\\n    extra: {\\n        onChange: \\\"putMyVar('searchName',input)\\\",\\n        titleVisible: true,\\n        type: \\\"textarea\\\",\\n        height:2,\\n        defaultValue:getItem('searchName','')||getMyVar('searchName')\\n    },\\n    url:$.toString(() => {\\n        // 定义字符串替换全部函数\\n        if(!getMyVar('searchName'))\\n        {\\n            return \\\"toast://你还没有输入名称呢\\\\n要想清空搜索记录请点击上方清除按钮\\\"\\n        }\\n        setItem(\\\"searchName\\\",getMyVar('searchName'));\\n        clearMyVar(\\\"gp\\\");\\n        refreshPage(false);\\n        return \\\"hiker://empty\\\"\\n    }),\\n    col_type: \\\"input\\\",\\n});\\nfunction unique2(array){\\n    return Array.from(new Set(array));\\n}\\nfunction strDeal(str){\\n    str = str.split('');\\n    str = str.filter(e => (e >= 0 && e <= 9) || (e >= 'a' && e <= 'z') || (e >= 'A' && e <= 'Z') || (e >= '\\\\u4e00' && e <= '\\\\u9fa5'));\\n    str = str.join('');\\n    return str\\n}\\n\\nlet dl=[]; // 定义一个空数据列表用来装后面的数据\\n// 由于涉及批量修改，需要本地有完整的小程序缓存，只留标题是不行的,要不然批量修改的时候要一堆fetch hiker://home@小程序名称\\nlet rules=config.rules||JSON.parse(fetch(\\\"hiker://home\\\"));//获取海阔视界所有小程序\\nif(!config.rules){//最好还是缓存一下,要不然每次请求太耗时了;\\n    initConfig({\\n        rules:rules\\n    })\\n}\\nlet filterName=getItem('searchName','');// 搜索筛选名称\\nlet groups=rules.map(it=>it.group||\\\"无分组\\\");\\ngroups.unshift('全部');//把全部分组加上\\ngroups=unique2(groups);//获取所有规则的分组列表自动去重\\nlet nowGp = getMyVar(\\\"gp\\\",\\\"全部\\\");//获取当前分组\\nlet groupbtn=groups.map((it)=>{//渲染分组筛选按钮\\n    return {\\n        title:it===nowGp?color(it,\\\"#5FB878\\\"):it,\\n        col_type:\\\"scroll_button\\\",\\n        url:$('#noLoading#').lazyRule((it)=>{\\n            putMyVar(\\\"gp\\\",it);\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\"\\n        },it)\\n    }\\n});\\nvar rule_filter = function (it){\\n    let has_title = it.title.toLowerCase().includes(filterName.toLowerCase());\\n    if(has_title){\\n        return true\\n    }\\n    for(let k of ['url','search_url','find_rule','searchFind','detail_find_rule','sdetail_find_rule','preRule']){\\n        if(it[k]&&it[k].includes(filterName)){\\n            return true\\n        }\\n    }\\n    return false\\n}\\nif(filterName){ // 搜索名称筛选\\n    rules=rules.filter(rule_filter);\\n}\\n// 分组筛选\\nif(nowGp===\\\"无分组\\\"){\\n    rules=rules.filter(it=>!it.group);\\n} else if(nowGp!==\\\"全部\\\"){\\n    rules=rules.filter(it=>it.group===nowGp);\\n}\\n// 是否选中筛选\\nlet data = storage0.getMyVar('rule_selected')||[];//获取已选择的规则\\nlet data_title = data.map(it=>it.title); // 获取已选择规则的名称\\nlet dx_filter = getItem('dx_filter','全部');\\n// 筛选过滤\\nif(dx_filter === '已选'){\\n    rules = rules.filter(it=>data_title.includes(it.title));\\n}else if(dx_filter=== '未选'){\\n    rules = rules.filter(it=>!data_title.includes(it.title));\\n}\\nstorage0.putMyVar('rules_tmp_text',rules);//设置缓存变量\\ndl=rules.map((it)=>{\\n    // let text = JSON.stringify(it);\\n    // text=base64Encode(text);\\n    storage0.putMyVar(it.title,it);//设置缓存变量\\n    return {\\n         title:(Array.isArray(data_title)&&data_title.includes(it.title))?color(it.title,'#12b668'):it.title,\\n       // title:(Array.isArray(data_title)&&data_title.includes(it.title))?'🟢'+it.title:it.title,\\n        // url:'toast://功能开发中',\\n        url:$('#noLoading#').lazyRule((title,color,dx_filter)=>{\\n            // let it = JSON.parse(base64Decode(text));\\n            let it = storage0.getMyVar(title);\\n            let data = storage0.getMyVar('rule_selected')||[];//获取已选择的规则\\n            let data_title = data.map(it=>it.title); // 获取已选择规则的名称\\n            let sel = false;\\n            let id = it.title; // 动态元素id\\n            let selCnt = 0;\\n            if(Array.isArray(data_title)){\\n                if(data_title.includes(id)){\\n                    // log('包含:'+id);\\n                    data.splice(data_title.indexOf(id),1);\\n                }else{\\n                    data.push(it);\\n                    sel = true;\\n                }\\n                selCnt = data.length;\\n                storage0.putMyVar('rule_selected', data)\\n            }else{\\n                sel = true;\\n                selCnt = 1;\\n                storage0.putMyVar('rule_selected', [it])\\n            }\\n            let newTitle = sel?color(id,'#12b668'):id;\\n            //let newTitle = sel?'🟢'+id:id;\\n            updateItem(id,{\\n                title:newTitle\\n            });\\n            updateItem('checked',{title: (dx_filter==='已选'?color('已选','#12b668'):'已选')+color(selCnt,'#ff7000')});\\n            return 'hiker://empty'\\n        },it.title,color,dx_filter),\\n        group:it.group,\\n        col_type:\\\"icon_4\\\",\\n        desc:\\\"作者:\\\"+it.author+\\\",版本:\\\"+it.version,\\n        pic_url:it.icon||\\\"https://cf-ipfs.com/ipfs/QmXxgDVAZLWhFxikrAFVPRZQuJ2uFae7syXhFubPwMwUiU\\\",\\n        extra:{\\n            id:it.title\\n        }\\n    }\\n});\\nlet op=[]; // 操作|筛选数组\\nop.push({\\n    title:'全选',\\n    url:$('#noLoading#').lazyRule((color,dx_filter)=>{\\n        let rules = storage0.getMyVar('rules_tmp_text');\\n        storage0.putMyVar('rule_selected', rules);\\n        rules.forEach(it=>{\\n            let id = it.title;\\n            updateItem({title: color(id,'#12b668'), extra: {id: id}});\\n            //updateItem({title: '🟢'+it.title, extra: {id: id}});\\n        });\\n        updateItem('checked',{title: (dx_filter==='已选'?color('已选','#12b668'):'已选')+color(rules.length,'#ff7000')});\\n        return 'hiker://empty'\\n    },color,dx_filter),\\n    col_type:'scroll_button'\\n});\\nop.push({\\n    title:'全不选',\\n    url:$('#noLoading#').lazyRule((color,dx_filter)=>{\\n        // let rules = JSON.parse(getMyVar('rules_tmp_text'));\\n        let rules = storage0.getMyVar('rules_tmp_text');\\n        storage0.putMyVar('rule_selected', []);\\n        rules.forEach(it=>{\\n            let id = it.title;\\n            updateItem({title: id, extra: {id: id}});\\n        });\\n        updateItem('checked',{title: (dx_filter==='已选'?color('已选','#12b668'):'已选')+color(0,'#ff7000')});\\n        return 'hiker://empty'\\n    },color,dx_filter),\\n    col_type:'scroll_button'\\n});\\nop.push({\\n    title:'反选',\\n    url:$('#noLoading#').lazyRule((color,dx_filter)=>{\\n        let rules = storage0.getMyVar('rules_tmp_text');\\n        let oldSel = storage0.getMyVar('rule_selected', []);\\n        function getDifferentData(arrA, arrB) {\\n            return arrA.concat(arrB).filter(function (v, i, arr) {\\n                let arr_titles = arr.map(it=>it.title);\\n                // return arr.indexOf(v) === arr.lastIndexOf(v);\\n                return arr_titles.indexOf(v.title) === arr_titles.lastIndexOf(v.title);\\n            });\\n        }\\n        let newSel = getDifferentData(rules,oldSel);\\n        storage0.putMyVar('rule_selected', newSel);\\n        oldSel.forEach(it=>{\\n            let id = it.title;\\n            updateItem({title: id, extra: {id: id}});\\n        });\\n        newSel.forEach(it=>{\\n            let id = it.title;\\n            updateItem({title: color(id,'#12b668'), extra: {id: id}});\\n            //updateItem({title: '🟢'+it.title, extra: {id: id}});\\n        });\\n        updateItem('checked',{title: (dx_filter==='已选'?color('已选','#12b668'):'已选')+color(newSel.length,'#ff7000')});\\n        return 'hiker://empty'\\n    },color,dx_filter),\\n    col_type:'scroll_button'\\n});\\nop.push({\\n    title:'🗑️删除',\\n    url:$('#noLoading#').lazyRule(()=>{\\n        let sel = storage0.getMyVar('rule_selected', []);\\n        if(sel.length < 1){\\n            return 'toast://啥都没选，删除个鸡毛~'\\n        }\\n        return $('确认删除已选择的:'+sel[0].title+'等'+sel.length+'条规则?').confirm(()=>{\\n            let sel = storage0.getMyVar('rule_selected', []);\\n            let rules=config.rules||JSON.parse(fetch(\\\"hiker://home\\\"));//获取海阔视界所有小程序\\n            let sel_title = sel.map(it=>it.title); // 获取已选规则的标题\\n            // 执行删除逻辑\\n            rules = rules.filter(it=>!sel_title.includes(it.title)); // 筛选没有被删除的规则\\n            // 保存规则\\n            storage0.putMyVar('rule_selected', []);//删除完了清空选中项目\\n            refreshPage(false);\\n            return \\\"toast://已将〖\\\" + sel[0].title + \\\"〗等\\\"+sel.length+\\\"条规则删除\\\\n骗你的,视界没提供删除接口，删不了!\\\";\\n        })\\n    }),\\n    col_type:'scroll_button'\\n});\\nop.push({\\n    title:'📲分享',\\n    url:$('#noLoading#').lazyRule(()=>{\\n        let sel = storage0.getMyVar('rule_selected', []);\\n        if(sel.length < 1){\\n            return 'toast://啥都没选，分享个鸡毛~'\\n        }\\n        return $('确认分享已选择的:'+sel[0].title+'等'+sel.length+'条规则?').confirm(()=>{\\n            let sel = storage0.getMyVar('rule_selected', []);\\n            let rules=config.rules||JSON.parse(fetch(\\\"hiker://home\\\"));//获取海阔视界所有小程序\\n            let sel_title = sel.map(it=>it.title); // 获取已选规则的标题\\n            // 执行分享逻辑\\n            rules = rules.filter(it=>sel_title.includes(it.title)); // 筛选选中的规则\\n            // 保存规则\\n            // storage0.putMyVar('rule_selected', []);//分享完了清空选中项目，先不清空，留着吧\\n            let name = \\\"〖\\\"+sel_title[0]+'〗等'+sel_title.length+'个小程序';\\n            let import_code=\\\"海阔视界规则分享，当前分享的是：小程序，无根树，花正清，不断荤腥不戒淫￥home_rule_v2￥base64://@\\\"+name+\\\"@\\\"+base64Encode(JSON.stringify(rules));\\n            let pastes = getPastes();\\n            let url = sharePaste(import_code,pastes.slice(-1)[0]);\\n            let import_rule= url+\\\"\\\\n\\\\n小程序合集：\\\"+name;\\n            copy(import_rule);\\n            refreshPage(false);\\n            writeFile('hiker://files/rules/dzHouse/ruleCache/批处理.json',JSON.stringify(rules));\\n            return \\\"toast://已将\\\"+name+\\\"分享到剪切板口令!\\\\n并在道德经订阅目录生成了批处理.json文件\\\";\\n        })\\n    }),\\n    col_type:'scroll_button'\\n});\\nop.push({\\n    title:'筛选 '+color(rules.length,'#ff7000'),\\n    url:'toast://前面按钮是操作，后面按钮是筛选',\\n    col_type:'text_4'\\n});\\nop.push({\\n    title:dx_filter==='全部'?color('全部','#12b668'):'全部',\\n    url:$('#noLoading#').lazyRule(()=>{\\n        setItem('dx_filter','全部');\\n        refreshPage(false);\\n        return 'hiker://empty'\\n    }),\\n    col_type:'text_4'\\n});\\nop.push({\\n    title:(dx_filter==='已选'?color('已选','#12b668'):'已选')+color(data_title.length,'#ff7000'),\\n    url:$('#noLoading#').lazyRule(()=>{\\n        setItem('dx_filter','已选');\\n        refreshPage(false);\\n        return 'hiker://empty'\\n    }),\\n    col_type:'text_4',\\n    extra:{\\n        id:'checked'\\n    }\\n});\\nop.push({\\n    title:dx_filter==='未选'?color('未选','#12b668'):'未选',\\n    url:$('#noLoading#').lazyRule(()=>{\\n        setItem('dx_filter','未选');\\n        refreshPage(false);\\n        return 'hiker://empty'\\n    }),\\n    col_type:'text_4'\\n});\\nop.push({\\n    col_type:\\\"blank_block\\\",\\n});\\nop = op.concat(groupbtn); // 连接分组滚动按钮\\ndl=op.concat(dl); // 操作筛选+ 分组筛选 + 元素点击按钮\\nd = d.concat(dl); // 连接上部分搜索等按钮\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"属性字典\",\"path\":\"attr\",\"rule\":\"js:\\nvar attrMap={\\nfirstHeader:'',\\nlast_chapter_rule:'最新章节解析',\\ntitle:'小程序名称',\\nauthor:'作者',\\ntype:'小程序类别',\\nurl:'小程序链接',\\ncol_type:'显示样式',\\nclass_name:'分类名称',\\nclass_url:'分类替换词',\\narea_name:'地区名称',\\narea_url:'地区替换词',\\nsort_name:'排序名称',\\nsort_url:'排序替换词',\\nyear_name:'年代名称',\\nyear_url:'年代替换词',\\nfind_rule:'解析规则',\\nsearchFind:'搜索解析规则',\\nsearch_url:'搜索链接',\\ngroup:'小程序分组',\\ndetail_col_type:'二级列表显示样式',\\ndetail_find_rule:'二级列表解析规则',\\nsdetail_col_type:'搜索二级列表显示样式',\\nsdetail_find_rule:'搜索二级列表解析规则',\\nua:'全局UA设备标志',\\npreRule:'JS预处理',\\npages:'子页面',\\nicon:'图标'\\n};\\n//键值对反转\\nfunction objReverse(obj){\\n    var keys = Object.keys(obj);\\n    var res = {};\\n    keys.forEach((val) => {\\n            res[obj[val]] = val;\\n    });\\n    return res\\n}\\n$.exports.attrMap=attrMap;\\n$.exports.attrMap2=objReverse(attrMap);\"}]","proxy":"","icon":"https://img.icons8.com/?format=png&id=113572&size=64"},{"last_chapter_rule":"","pageList":[],"title":"飞瓜2.dr","author":"道长","version":10,"type":"video","url":"hiker://empty##https://video-api.czjsbo.com/videolibrary/v2/1/28/-1/-1/2/-1/-1/-1/fypage.json","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\nlet host = MY_HOME;\nlet cate_url = 'http://video-static.czjsbo.com/static/1/config/lib-new.json';\nvar cate_data = JSON.parse(request(cate_url)).data;\nvar d = [];\nvar page = MY_PAGE;\n//var html=getResCode();\nMY_URL = MY_URL.split('##')[1];\n//var pageSize=MY_URL.match(/pageSize=(\\d+)/)[1];\ntrue_url = getMyVar('header.url', MY_URL);\nif (page > 1) {\n    true_url = true_url.replace(/(\\d+)\\.json/, page + '.json');\n}\n//log(true_url);\n//var html=request(true_url);\nlet html = fetch(true_url, {\n    headers: {\n        versionnumber: '330',\n        versionname: '3.3.0',\n        device: 'c5e72f6ad591a24ebd6c33162d8a3c1a',\n        appid: '1',\n        platformid: '7',\n        'User-Agent': 'okhttp/3.14.7',\n    }\n});\n//log(html)\nlet data = JSON.parse(html).data.list;\nvar listdata = data.map((it) => {\n    return {\n        title: it.vodName,\n        pic_url: host + it.vodPicThumb,\n        //pic_url:host+it.vodPic,\n        desc: it.lastName,\n        url: 'hiker://empty##' + host + '/static/video/detail/' + it.id + '.json#immersiveTheme#'\n        //url: 'hiker://empty##' + host + '/api/v1/hisotryDetail?vodId=' + it.id + '#immersiveTheme#'\n    }\n\n});\n//let turl='https://video-api.czjsbo.com/videolibrary/v2/1/fyclass/fyarea/fytype/2/-1/fyyear/-1/'+page+'.json?pageSize='+pageSize;\nlet fyclass = true_url.match(/v2\\/(.*?)\\/(.*?)\\//)[2];\n//log(fyclass);\nvar sec = [];\nvar thi = [];\nif (fyclass == '28') {\n    sec = cate_data.types[0].children;\n    thi = cate_data.types[0].tags;\n} else if (fyclass == '60') {\n    sec = cate_data.types[1].children;\n    thi = cate_data.types[1].tags;\n} else if (fyclass == '34') {\n    sec = cate_data.types[2].children;\n    thi = cate_data.types[2].tags;\n} else if (fyclass == '33') {\n    sec = cate_data.types[3].children;\n    thi = cate_data.types[3].tags;\n}\n\nlet cates = 打造动态分类([{\n        一级分类: '@js:' + $.toString((fisrtCate) => {\n            return [cate_data]\n        }, cate_data),\n        子分类: '@js:' + $.toString(() => {\n            let ret = input.types;\n            /*\n            ret.unshift({\n                typeName:'全部',\n                typeId:-1\n            });\n            */\n            return ret\n        }),\n        分类标题: '@js:' + $.toString(() => {\n            return input.typeName\n        }),\n        分类链接: '@js:' + $.toString((MY_URL) => {\n            return MY_URL.replace(/v2\\/(.*?)\\/(.*?)\\//, 'v2/$1/' + input.typeId + '/');\n        }, MY_URL),\n    },\n    {\n        一级分类: '@js:' + $.toString((fisrtCate) => {\n            return [sec]\n        }, sec),\n        子分类: '@js:' + $.toString(() => {\n            input.unshift({\n                typeName: '全部',\n                typeId: -1\n            });\n            return input\n        }),\n        分类标题: '@js:' + $.toString(() => {\n            return input.typeName\n        }),\n        分类链接: '@js:' + $.toString((true_url) => {\n            true_url = true_url.replace(/v2\\/(.*?)\\/(.*?)\\/(.*?)\\//, 'v2/$1/$2/' + input.typeId + '/');\n            return true_url\n        }, true_url),\n    },\n    {\n        一级分类: '@js:' + $.toString((fisrtCate) => {\n            return [thi]\n        }, thi),\n        子分类: '@js:' + $.toString(() => {\n            input.unshift({\n                typeName: '全部',\n                typeId: -1\n            });\n            return input\n        }),\n        分类标题: '@js:' + $.toString(() => {\n            return input.typeName\n        }),\n        分类链接: '@js:' + $.toString((true_url) => {\n            true_url = true_url.replace(/v2\\/(.*?)\\/(.*?)\\/(.*?)\\/(.*?)\\//, 'v2/$1/$2/$3/' + input.typeId + '/');\n            return true_url\n        }, true_url),\n    },\n    {\n        一级分类: '@js:' + $.toString((cate_data) => {\n            return [cate_data]\n        }, cate_data),\n        子分类: '@js:' + $.toString(() => {\n            //log(input);\n            input = input.year;\n            input.unshift('-1');\n            return input\n        }),\n        分类标题: '@js:' + $.toString(() => {\n            return input.replace('-1', '全部')\n        }),\n        分类链接: '@js:' + $.toString((true_url) => {\n            true_url = true_url.replace(/v2\\/(.*?)\\/(.*?)\\/(.*?)\\/(.*?)\\/(.*?)\\/(.*?)\\/(.*?)\\//, 'v2/$1/$2/$3/$4/$5/$6/' + input + '/');\n            return true_url\n            //return turl.replace('fyyear',input)\n        }, true_url),\n    }\n]);\n设置(cates);\nd = d.concat(cates);\nd = d.concat(listdata);\nsetResult(d)","searchFind":"js:\n//log(MY_URL)\nMY_URL = MY_URL.split('##');\nlet seaword = MY_URL[1];\nlet page = MY_PAGE;\nlet html = fetch(\"https://video-api.czjsbo.com/api/v2/index/search?pageIndex=\"+page+\"&wd=\"+seaword+\"&limit=20&type=2\", {\n    headers: {\n        versionnumber: '330',\n        versionname: '3.3.0',\n        device: 'c5e72f6ad591a24ebd6c33162d8a3c1a',\n        appid: '1',\n        platformid: '7',\n        'User-Agent': 'okhttp/3.14.7',\n    }\n});\n//let html=getResCode();\n//log(html)\nlet host=\"https://video-api.czjsbo.com\";\nvar d=[];\nlet data=JSON.parse(html).data.list;\ndata=data.map((it)=>{\n    return {\n        title:it.vodName,\n        pic_url:host+it.vodPicThumb,\n        //pic_url:host+it.vodPic,\n        desc:it.lastName,\n        content:it.vodActor,\n        url: 'hiker://empty##' + host + '/static/video/detail/' + it.id + '.json#immersiveTheme#'\n        //url:'hiker://empty##'+host+'/api/v1/hisotryDetail?vodId='+it.id+'#immersiveTheme#'\n    }\n    \n});\nd=d.concat(data);\nsetResult(d)","search_url":"hiker://empty##**##fypage","group":"#️⃣道长dr","detail_col_type":"text_5","detail_find_rule":"js:\nMY_URL = MY_URL.split('##')[1];\nrequire(config.模板);\nlet host = MY_HOME;\naddListener(\"onClose\", $.toString(() => {\n    let s = loadJavaClass(\"hiker://files/cache/bidi.dex\", \"com.rule.M3U8HttpServer\");\n    //s.getM3U8Server(20000);\n    s.finish();\n}))\n\nvar vod_id = MY_URL.match(/(\\d+)/)[1];\nlet url = 'http://video-static.czjsbo.com/static/video/detail/' + vod_id + '.json';\nlet detail = JSON.parse(request(url)).data;\n//log(detail);\nvar d = [];\nd.push({\n    title: detail.vodName + '\\n' + detail.vodUpdateTip + '\\n' + detail.typeName,\n    desc: detail.vodPubdate + '\\n' + detail.vodYear + '\\n' + detail.vodArea,\n    url: host + detail.vodPic,\n    pic_url: host + detail.vodPic,\n    col_type: 'movie_1_vertical_pic_blur',\n});\n\ntry {\n    var info = detail.vodBlurb;\n} catch (e) {\n    var info = '暂无简介'\n}\nd.push({\n    title: color(\"剧情简介\", \"#098AC1\"),\n    desc: small(info),\n    col_type: \"text_1\",\n    extra: {\n        lineVisible: false\n    },\n    url: $('hiker://empty#noHistory##noRecordHistory#').rule((info) => {\n        let d = [];\n        d.push({\n            title: info,\n            col_type: \"long_text\"\n        });\n        setResult(d);\n    }, info)\n});\nif (detail.videoRoles) {\n    d.push({\n        title: '‘‘演员’’',\n        url: $('#noLoading#').lazyRule(() => {\n            if (getMyVar('折叠', '开') == '开') {\n                putMyVar('折叠', '关');\n            } else {\n                putMyVar('折叠', '开');\n            }\n            refreshPage(true);\n            return 'toast://已切换折叠为:' + getMyVar('折叠', '开')\n        }),\n        col_type: 'text_center_1'\n    })\n    if (getMyVar('折叠', '关') == '开') {\n\n        for (var i = 0; i < detail.videoRoles.length; i++) {\n            d.push({\n                title: detail.videoRoles[i].actorName,\n                img: 'https://video-api.czjsbo.com' + detail.videoRoles[i].pic,\n                col_type: 'icon_round_small_4'\n            });\n        }\n\n    }\n    d.push({\n        col_type: 'line'\n    })\n}\n\nlet vodPlayUrl = detail.vodPlayUrl;\nlet vodPlayNote = detail.vodPlayNote;\n\n//log(vodPlayUrl);\n\nif (vodPlayUrl.length >= 16) {\n    let s1 = vodPlayUrl.substring(0, 10);\n    let s2 = vodPlayUrl.substring(16);\n    vodPlayUrl = s1 + s2;\n}\nlet key = \"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3VLHgbkFN0ebMaR4e0Dz6Z2mFexPBFKGqK0tuRhzu7XOrG92nKWfnublf2p1i22UN81whBLINjMttOuqW6fM9DCnAPTelud1zCXWYWIsv5Z19inJSG8vytJ7xg1dnfuRSRUkx11IE7bm0T/sM0sI4GgcktQJNSizyirHtuJjUUxxQabEhFkFeqQ5r+A69KjB5QkotCc4pG5lENyTARHGSsfaiJthaiH0yJ/8tUlyMgJ9H6/jbQg0wlLcEUzdfe2KuCPrTRzIzx4Cjm1JogT6JV2byvXpzAMC3O48LDiekJdVztg2Cj7E0cGrOsGs+IK6F7TWsKD/cIELTFhLz6dExQIDAQAB\";\n\nfunction rsa(text) {\n    return rsaDecrypt(text, key, {\n        type: 2,\n        \"long\": 2\n    })\n}\nvodPlayUrl = rsa(vodPlayUrl);\n//log(vodPlayUrl);\nvar tabs = JSON.parse(vodPlayUrl);\nvar urls = tabs[0].list;\nlet showOrder = getMyVar('顺序', '正续') === '逆序' ? color('(☆逆序↑)', '#228be6') : color('(★正序↓)', '#d0aa344');\nd.push({\n    title: small(color('选集列表共计', '#098AC1') + color(tabs.length, '#d96715') + color('条线路', '#098AC1')) + blank() + right(small(showOrder)),\n    col_type: 'text_1',\n    url: $('#noLoading#').lazyRule(() => {\n        if (getMyVar('顺序', '正续') === '逆序') {\n            putMyVar('顺序', '正续');\n        } else {\n            putMyVar('顺序', '逆序');\n        }\n        refreshPage(true);\n        return 'toast://已切换顺序为:' + getMyVar('顺序', '正续')\n    }),\n    extra: {\n        lineVisible: false\n    }\n});\n\nd.push({\n    title: detail.vodDownServerGroup,\n    url: 'hiker://empty',\n    col_type: \"scroll_button\",\n});\n/*\nif (getMyVar('顺序', '正续') === '逆序') {\n    urls = urls.reverse();\n}\n*/\n//log(urls)\nlet list = [];\nurls.forEach((it, index) => {\n    list.push({\n        // title:html,\n        //title: vodPlayUrl,\n        title: it.name,\n        //col_type: 'rich_text',\n        //col_type:'text_5'\n        url: $().lazyRule((u, vod_id, index) => {\n\n            function gg(str) {\n                if (str.startsWith(\"http://\")) {\n                    return str.substring(0, str.substring(7).indexOf(\"/\") + 7);\n                }\n                return str.startsWith(\"https://\") ? str.substring(0, str.substring(8).indexOf(\"/\") + 8) : \"\";\n            }\n\n            function gg2(str) {\n                let a1 = gg(str);\n                //log(str);\n                //log(a1);\n                let substring = str.substring(a1.length);\n                //j.d(substring, \"(this as java.lang.String).substring(startIndex)\");\n                let valueOf = \"\" + new Date().getTime();\n                let key = md5(substring + \"7aad9fdcff\" + valueOf);\n                return str + \"?key=\" + key + \"&time=\" + valueOf + \"&v=350&i=5&ed=8fc786d9bfcc02f792b80281c1aff7c6&p=7\";\n            }\n            let url = cacheM3u8(gg2(u));\n            let f = url.split(\"##\")[0];\n            let c = fetch(f);\n            let cs = c.split(\"\\n\");\n            for (let i in cs) {\n                if (cs[i].startsWith(\"#EXT-X-KEY:\")) {\n                    //log(cs[i])\n                    let kurl = cs[i].match(/URI=\"(.*?)\"/)[1];\n                    let keurl = gg2(kurl);\n                    //log(request(keurl))\n                    cs[i] = cs[i].replace(/\".*?\",/, '\"' + keurl + '\",');\n                    //log(cs[i])\n\n                }\n                if (cs[i].startsWith(\"http\")) {\n                    cs[i] = gg2(cs[i]);\n                }\n            }\n            //log(cs)\n            writeFile(f, cs.join(\"\\n\"));\n            let header = ';{Referer@video7.douquwuxian.com&&User-Agent@okhttp/p2p-1.6/normal}';\n            return f + \"##\" + url.split(\"##\")[1] + header;\n\n            /*\n            //log(u)\n            let dmurl = 'https://video-api.czjsbo.com/api/v1/bulletchat?startProgress=0&endProgress=300&videoId=' + vod_id + '&setnumberIndex=' + index;\n            let dm = JSON.parse(request(dmurl)).data;\n            var dms = [];\n            for (var it of dm) {\n                dms.push({\n                    'text': it.content,\n                    'time': it.progress\n                });\n            }\n            writeFile('hiker://files/cache/fgdm.json', JSON.stringify(dms, ''));\n            let s = loadJavaClass(\"hiker://files/cache/bidi.dex\", \"com.rule.M3U8HttpServer\");\n            s.getM3U8Server(20000);\n            var playurl = s.getInputStreamUrl(u, null, \"fg\") + \"\";\n            return JSON.stringify({\n                urls: [playurl],\n                names: ['飞瓜'],\n                danmu: 'hiker://files/cache/fgdm.json'\n            });\n            */\n        }, it.url, vod_id, index),\n    });\n});\nstorage0.putMyVar('showList',list);\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/hikerUi.js');\n//选集翻页(d);\n选集翻页(d,null,true);\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"try {\n    requireDownload('https://nick88.coding.net/p/moveres/d/res/git/raw/master/bidi.dex', 'hiker://files/cache/bidi.dex');\n    const {\n        getApi\n    } = $.require(\"hiker://page/utiliy?rule=道长仓库Pro\");\n    var 模板 = getApi('importUrl') + \"2505\";\n    require(模板);\n    预处理(模板)\n} catch (e) {\n    log('预处理执行失败:' + e.message);\n    initConfig({\n        模板: 'https://gitcode.net/qq_32394351/dr/-/raw/master/js/dr.js'\n    });\n}","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","pageList":[],"title":"格格党","author":"道长","version":1,"type":"read","url":"https://www.ggdown8.org/map/fyclass/fypage.html","col_type":"text_1","class_name":"玄幻&修真&都市&历史&网游&科幻&言情&其他","class_url":"1&2&3&4&5&6&7&8","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"小说","year_url":"","find_rule":"js:\nlog(MY_URL);\nrequire(config.模板);\nlet parStr=\".novellist&&ul&&li;a&&Text;;;a&&href\";\nlet cates=[{\n    title:'解析',\n    col_type:'input',\n    url:$.toString(()=>{\n    let key=getMyVar('key','');\n    if(!key.startsWith('http')){\n        return 'toast://错误的一级链接:'+key\n    }\n    return `hiker://empty##${getMyVar('key','')}#immersiveTheme#`\n}),\n    extra:{\n        onChange:$.toString(()=>{\n    putMyVar('key',input)\n  }),\n        defaultValue:getMyVar('key',''),\n    }\n}];\n一级(parStr,true,cates);","searchFind":"js:\nMY_URL=MY_URL.split('##')[1];\nrequire(config.模板);\nvar key=MY_URL.match(/searchkey=(.*?)&/)[1];\nlet enkey=gbk编码(key);\nMY_URL=MY_URL.replace(key,enkey);\nvar html=fetch(MY_URL,{\n    headers:{\n      \"content-type\": \"charset=gb18030\"\n    },\n    withHeaders:true\n});\nvar res=JSON.parse(html);\nlet url=res.url;\nif(url==MY_URL){\nhtml=res.body;\nlet parStr=\"body&&#nr;body&&Html;;body&&Html;body&&Html;body&&Html\";\nvar 一级处理={\n    链接:function(u){\n       u=u.replace(/td/g,'div');\n       return pd(u,'a,0&&href')\n    },\n    标题:function(u){\n        return pdfh(u,'a,0&&Text')\n    },\n    描述:function(u){\n        return pdfh(u,'a,1&&Text')\n    },\n    内容:function(u){\n        return pdfh(u,'body&&Text')\n    }\n    \n}\n一级(parStr,true,false,false,html);\n}else{\n    setResult([{\n        title:key,\n        url:'hiker://empty##'+url+'#immersiveTheme#',\n        content:'仅有一个结果，点击立即阅读'\n    }]);\n}","search_url":"hiker://empty##https://www.ggdown8.org/modules/article/search.php?searchkey=**&searchtype=articlename&page=fypage","group":"#️⃣道长dr","detail_col_type":"text_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'#info&&h1&&Text;#info&&p,-1&&Text',\n img:'#fmimg&&img&&src',\n url:'#fmimg&&img&&src',\n desc:'#info&&p,0&&Text;#info&&p,1&&Text;#info&&p,2&&Text',\n content:'#intro&&Text',\n tabs:'#list&&dt',//线路\n lists:'#list,#id&&dd',//列表\n tab_id:'',//线路id，可不填,\n}; \nvar 定位={\n    标题:function(html){\n        return \"<big>\" + pdfh(html, \".bookname&&h1&&Text\") + \"</big>\"\n    },\n    内容:function(html){\n        return pdfh(html, \"#content&&Html\")\n    },\n};\nvar 动态最新章节=true;\nvar 倒序=false;\nvar 编码='utf-8';\nvar 下载='小说';\nvar lazy=小说(定位,编码);\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua=PC_UA;\nvar ua='';\nrequire('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');\n预处理('https://gh-proxy.com/https://raw.githubusercontent.com/guo012577/hiker/refs/heads/main/dr.js');","pages":"[]","proxy":"","icon":""}]
